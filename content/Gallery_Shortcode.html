<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/it:Shortcode_Gallery" title="it:Shortcode Gallery">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/ギャラリーショートコードの使い方">日本語</a> 
<a href="https://codex.wordpress.org/pt-br:Shortcode_Gallery" title="pt-br:Shortcode Gallery">Português do Brasil</a> • 

<a href="https://codex.wordpress.org/%D0%9A%D0%BE%D1%80%D0%BE%D1%82%D0%BA%D0%B8%D0%B9_%D0%BA%D0%BE%D0%B4_%D0%B4%D0%BB%D1%8F_%D0%B3%D0%B0%D0%BB%D0%B5%D1%80%D0%B5%D0%B9" title="Короткий код для галерей">Русский</a> • 

 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<p>The <b>Gallery</b> feature allows you to add one or more image galleries to your posts and pages using a simple <a href="https://codex.wordpress.org/Shortcode" title="Shortcode">Shortcode</a>. Since WordPress <a href="https://codex.wordpress.org/Version_2.5" title="Version 2.5">2.5</a> and up until <a href="https://codex.wordpress.org/Version_3.5" title="Version 3.5">3.5</a>, the gallery shortcode was commonly used in its most basic form: 
</p>
<pre>[gallery]
</pre>
<p>Following 3.5, gallery shortcodes includes the image IDs by default. Like this:
</p>
<pre>[gallery ids="729,732,731,720"]
</pre>
<p>It's important to note that this style of gallery shortcode is not new to 3.5, previously we could use the <tt>include</tt> attribute. However it <i>is</i> much easier to generate and manage with the new <a href="https://codex.wordpress.org/Inserting_Images_into_Posts_and_Pages" title="Inserting Images into Posts and Pages">Media Workflow</a> introduced in 3.5. 
</p><p>Specifying IDs in your shortcode allows you to include images in your gallery that aren't necessarily "attached" to your post — that is to say, not uploaded from within your post or page. This flexibility allows you to create and embed <b>any number of galleries</b> containing <b>any number of images</b>!
</p><p><b>Note:</b> If you choose to just use the "barebones" version of the <tt>[gallery]</tt> shortcode in your post or page, only images that are "attached" to that post or page will be displayed.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Usage"><span class="tocnumber">1</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Options"><span class="tocnumber">2</span> <span class="toctext">Options</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Developers_-_Things_to_consider"><span class="tocnumber">3</span> <span class="toctext">Developers - Things to consider</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Source_File"><span class="tocnumber">4</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Related"><span class="tocnumber">5</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Gallery_Shortcode&amp;action=edit&amp;section=1" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There are several options that may be specified using this syntax:
</p>
<pre>[gallery option1="value1" option2="value2"]
</pre>
<p>You can also print a gallery directly in a template like so:
</p>
<pre> &lt;?php echo do_shortcode('[gallery option1="value1"]');&#160;?&gt;
</pre>
<p>This works too:
</p>
<pre> &lt;?php
    $gallery_shortcode = '[gallery id="' . intval( $post-&gt;post_parent ) . '"]';
    print apply_filters( 'the_content', $gallery_shortcode );
&#160;?&gt;
</pre>
<h2><span class="mw-headline" id="Options">Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Gallery_Shortcode&amp;action=edit&amp;section=2" title="Edit section: Options">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following basic options are supported:
</p>
<dl><dt> orderby&#160;</dt>
<dd> specify how to sort the display thumbnails. The default is "menu_order". Options:</dd></dl>
<ul><li> menu_order - you can reorder the images in the Gallery tab of the Add Media pop-up</li>
<li> title - order by the title of the image in the Media Library</li>
<li> post_date - sort by date/time</li>
<li> rand - order randomly</li>
<li> ID</li></ul>
<dl><dt> order&#160;</dt>
<dd> specify the sort order used to display thumbnails. ASC or DESC. For example, to sort by ID, DESC:</dd></dl>
<pre> [gallery order="DESC" orderby="ID"]
</pre>
<dl><dt> columns&#160;</dt>
<dd> specify the number of columns. The gallery will include a break tag at the end of each row, and calculate the column width as appropriate.  The default value is 3.  If columns is set to 0, no row breaks will be included. For example, to display a 4 column gallery:</dd></dl>
<pre>[gallery columns="4"]
</pre>
<dl><dt> id&#160;</dt>
<dd> specify the post ID. The gallery will display images which are attached to that post. The default behavior, if no ID is specified, is to display images attached to the current post. For example, to display images attached to post 123:</dd></dl>
<pre>[gallery id="123"]
</pre>
<dl><dt> size&#160;</dt>
<dd> specify the image size to use for the thumbnail display. Valid values include "thumbnail", "medium", "large", "full" and any other additional image size that was registered with <a href="https://codex.wordpress.org/Function_Reference/add_image_size" title="Function Reference/add image size"> add_image_size()</a>. The default value is "thumbnail". The size of the images for "thumbnail", "medium" and "large" can be configured in WordPress admin panel under Settings &gt; Media. For example, to display a gallery of medium sized images:</dd></dl>
<pre>[gallery size="medium"]
</pre>
<p>Some advanced options are available:
</p>
<dl><dt> itemtag&#160;</dt>
<dd> the name of the XHTML tag used to enclose each item in the gallery. The default is "dl".</dd></dl>
<dl><dt> icontag&#160;</dt>
<dd> the name of the XHTML tag used to enclose each thumbnail icon in the gallery. The default is "dt".</dd></dl>
<dl><dt> captiontag</dt>
<dd> the name of the XHTML tag used to enclose each caption. The default is "dd".  For example, to change the gallery markup to use div, span and p tags:</dd></dl>
<pre>[gallery itemtag="div" icontag="span" captiontag="p"]
</pre>
<dl><dt> link</dt>
<dd> Specify where you want the image to link. The default value links to the attachment's permalink. Options:</dd></dl>
<ul><li> file - Link directly to image file</li>
<li> none - No link</li></ul>
<pre>[gallery link="file"] 
</pre>
<dl><dt> include</dt>
<dd> comma separated attachment IDs to show only the images from these attachments.</dd></dl>
<pre>[gallery include="23,39,45"] 
</pre>
<dl><dt> exclude</dt>
<dd> comma separated attachment IDs excludes the images from these attachments. Please note that <b>include</b> and <b>exclude</b> cannot be used together.</dd></dl>
<pre>[gallery exclude="21,32,43"]
</pre>
<h2><span class="mw-headline" id="Developers_-_Things_to_consider">Developers - Things to consider</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Gallery_Shortcode&amp;action=edit&amp;section=3" title="Edit section: Developers - Things to consider">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The default expected behavior for a gallery that has no explicit IDs stated is to add all images that have the post as post parent assigned. In other words, add all images that were uploaded using the "Add media" button/link on this post edit screen. Keep in mind that this as well means that every attachment added to that post later on will be interpreted to be part of the gallery. No matter if it was displayed as plain attachment or not.
</p><p>This should be the default fallback if no argument were provided: <tt>...lorem [gallery] ipsum...</tt>
</p>
<pre>
$attachments = get_children( array(
	'post_parent'    =&gt; $attr['id'],
	'post_status'    =&gt; 'inherit',
	'post_type'      =&gt; 'attachment',
	'post_mime_type' =&gt; 'image',
	'order'          =&gt; $attr['order'],
	'orderby'        =&gt; $attr['orderby'],
) );
</pre>
<p>And stop using <tt>extract()</tt> on <tt>shortcode_atts()</tt> (or anywhere else). IDEs are <b>not</b> able to backtrace that.
</p>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Gallery_Shortcode&amp;action=edit&amp;section=4" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The gallery shortcode is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/media.php#L0">wp-includes/media.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Gallery_Shortcode&amp;action=edit&amp;section=5" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Shortcode" title="Shortcode"><b>WordPress Shortcodes</b></a>: 
<code><a href="https://codex.wordpress.org/Audio_Shortcode" title="Audio Shortcode">[audio]</a></code>, 
<code><a href="https://codex.wordpress.org/Caption_Shortcode" title="Caption Shortcode">[caption]</a></code>, 
<code><a href="https://codex.wordpress.org/Embed_Shortcode" title="Embed Shortcode">[embed]</a></code>, 
<code><strong class="selflink">[gallery]</strong></code>, 
<code><a href="https://codex.wordpress.org/Playlist_Shortcode" title="Playlist Shortcode">[playlist]</a></code>, 
<code><a href="https://codex.wordpress.org/Video_Shortcode" title="Video Shortcode">[video]</a></code>
</p>

