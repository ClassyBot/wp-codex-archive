<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Post">Formats 日本語</a> 
<strong class="selflink">Русский</strong> • 

<a href="https://codex.wordpress.org/zh-cn:%E6%96%87%E7%AB%A0%E6%A0%BC%E5%BC%8F" title="zh-cn:文章格式" class="mw-redirect">中文(简体)</a> •  
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<p><b>Формат записи</b> — это <a href="https://codex.wordpress.org/Theme_Features" title="Theme Features">функция темы оформления</a>, появившаяся в <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">версии 3.1</a>, Форматы представляют собой метаданные, которые можно использовать в темах для настройки представления записи. Основная идея в том, чтобы иметь возможность явно указать «формат» отображения записи. Это позволяет не использовать с той же целью рубрики, а главное — обеспечивает совместимость со всеми темами, которые поддерживают эти форматы.
</p><p>Например, раньше для отображения <b>заметок</b> создавалась рубрика «Asides» и в неё помещались записи, которые затем оформлялись по-другому с помощью функции <a href="https://codex.wordpress.org/Template_Tags/post_class" title="Template Tags/post class" class="mw-redirect">post_class()</a> или условия <a href="https://codex.wordpress.org/Conditional_Tags" title="Conditional Tags">in_category('asides')</a>. Новый подход позволяет теме зарегистрировать особый формат (например, <a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support">add_theme_support('post-formats', array('aside'))</a>), который можно будет выбрать в блоке «Опубликовать» при сохранении записи. Для определения формата можно воспользоваться функцией <a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format( $post-&gt;ID )</a>, а функция <a href="https://codex.wordpress.org/Template_Tags/post_class" title="Template Tags/post class" class="mw-redirect">post_class()</a> добавит класс «format-asides», который пригодится в оформлении с помощью CSS.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B"><span class="tocnumber">1</span> <span class="toctext">Поддерживаемые форматы</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.A1.D0.BF.D1.80.D0.B0.D0.B2.D0.BE.D1.87.D0.BD.D0.B8.D0.BA_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B9"><span class="tocnumber">2</span> <span class="toctext">Справочник функций</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B8_.D0.B2_.D1.82.D0.B5.D0.BC.D1.83"><span class="tocnumber">3</span> <span class="toctext">Добавление поддержки в тему</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D0.BE.D0.B2"><span class="tocnumber">4</span> <span class="toctext">Использование форматов</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.9E.D0.B1.D1.80.D0.B0.D1.82.D0.BD.D0.B0.D1.8F_.D1.81.D0.BE.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D1.8C"><span class="tocnumber">5</span> <span class="toctext">Обратная совместимость</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.98.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D0.B9_.D1.84.D0.B0.D0.B9.D0.BB"><span class="tocnumber">6</span> <span class="toctext">Исходный файл</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#.D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D1.81.D1.83.D1.80.D1.81.D1.8B"><span class="tocnumber">7</span> <span class="toctext">Внешние ресурсы</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#.D0.A1.D0.BC._.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"><span class="tocnumber">8</span> <span class="toctext">См. также</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B">Поддерживаемые форматы</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=1" title="Edit section: Поддерживаемые форматы">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Поддерживаются следующие форматы записей:
</p>
<ul><li> <b>заметка</b> — обычно отображается без заголовка. Похожа на обновление статуса в Facebook.</li>
<li> <b>чат</b> — запись чата, например:</li></ul>
<pre>
Иван: привет
Маша: привет
Иван: как дела?
</pre>
<ul><li> <b>галерея</b> — галерея изображений.</li>
<li> <b>ссылка</b> — ссылка на другой сайт. В качестве внешней ссылки будет использован первый тег <tt>&lt;a href=""&gt;</tt> в содержимом записи. Если же вся запись состоит только из URL, то этот адрес будет адресом ссылки, а заголовок записи — её текстом.</li>
<li> <b>изображение</b> — одиночное изображение. В качестве изображения будет использован первый тег <tt>&lt;img /&gt;</tt> в записи. Если же вся запись состоит только из URL, то этот адрес будет адресом изображения, а заголовок записи — атрибутом <tt>title</tt>.</li>
<li> <b>цитата</b> — выдержка, фрагмент. Состоит из текста цитаты и источника. Цитата должна быть записана в поле <tt>post_content</tt> в таком виде: <tt>&lt;blockquote&gt;цитата_с_тегами_параграфа&lt;p&gt;&lt;cite&gt;источник&lt;/cite&gt;&lt;/p&gt;&lt;/blockquote&gt;</tt>.</li>
<li> <b>статус</b> — короткая строка, обычно до 140 символов. Похожа на обновление статуса в Twitter.</li>
<li> <b>видео</b> — одиночное видео. В качестве видеофайла будет использован первый тег <tt>&lt;video /&gt;</tt> или внедрённый объект в содержимом записи. Если же вся запись состоит только из URL, то этот адрес будет адресом видеофайла.</li>
<li> <b>аудио</b> — аудиофайл. Можно использовать для подкастинга.</li></ul>
<p>Замечание: Надпись «Стандартный» при создании или редактировании записи означает, что её формат не указан. Кроме того, если указанный формат некорректен, будет использован стандартный.
</p>
<h2><span class="mw-headline" id=".D0.A1.D0.BF.D1.80.D0.B0.D0.B2.D0.BE.D1.87.D0.BD.D0.B8.D0.BA_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B9">Справочник функций</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=2" title="Edit section: Справочник функций">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table cellspacing="10" width="100%">

<tr valign="top">
<td width="50%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Основные функции</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="https://codex.wordpress.org/Function_Reference/set_post_format" title="Function Reference/set post format">set_post_format()</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format()</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/has_post_format" title="Function Reference/has post format">has_post_format()</a></tt></li></ul>
</td></tr></table>
</td>
<td width="50%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Другие функции</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="https://codex.wordpress.org/Function_Reference/get_post_format_link" title="Function Reference/get post format link"> get_post_format_link()</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/get_post_format_string" title="Function Reference/get post format string"> get_post_format_string()</a></tt></li></ul>
</td></tr></table>
</td></tr></table>
<h2><span class="mw-headline" id=".D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B8_.D0.B2_.D1.82.D0.B5.D0.BC.D1.83">Добавление поддержки в тему</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=3" title="Edit section: Добавление поддержки в тему">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Чтобы сообщить WordPress о поддерживаемых форматах записей, темы должны использовать функцию <a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support">add_theme_support()</a> в файле functions.php, передавая массив аргументов. Например:
</p>
<pre>add_theme_support( 'post-formats', array( 'aside', 'gallery' ) );</pre>
<h2><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D0.BE.D0.B2">Использование форматов</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=4" title="Edit section: Использование форматов">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>В самой теме для проверки формата записи нужно использовать функцию <a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format()</a> и менять представление в соответствии с результатами. Обратите внимание, что записи с форматом по умолчанию вернут значение <tt>FALSE</tt>. Также можно использовать <a href="https://codex.wordpress.org/Conditional_Tags" title="Conditional Tags">условный тег</a> <a href="https://codex.wordpress.org/Function_Reference/has_post_format" title="Function Reference/has post format">has_post_format()</a>:
</p>
<pre>
if ( has_post_format( 'video' )) {
  echo 'это формат видеозаписи';
}
</pre>
<h2><span class="mw-headline" id=".D0.9E.D0.B1.D1.80.D0.B0.D1.82.D0.BD.D0.B0.D1.8F_.D1.81.D0.BE.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D1.8C">Обратная совместимость</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=5" title="Edit section: Обратная совместимость">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Если ваш плагин или тема должны быть совместимы с более ранними версиями WordPress, нужно добавить в таксономию <tt>post_format</tt> элементы <tt>post-format-$format</tt>. Например:
</p>
<pre>
wp_insert_term('post-format-aside', 'post_format');
</pre>
<p>Вы также должны зарегистрировать таксономию <tt>post_format</tt> с помощью функции <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy" title="Function Reference/register taxonomy">register_taxonomy()</a>.
</p>
<h2><span class="mw-headline" id=".D0.98.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D0.B9_.D1.84.D0.B0.D0.B9.D0.BB">Исходный файл</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=6" title="Edit section: Исходный файл">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/post.php#L0">wp-includes/post.php</a></code></li></ul>
<h2><span class="mw-headline" id=".D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D1.81.D1.83.D1.80.D1.81.D1.8B">Внешние ресурсы</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=7" title="Edit section: Внешние ресурсы">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h2><span class="mw-headline" id=".D0.A1.D0.BC._.D1.82.D0.B0.D0.BA.D0.B6.D0.B5">См. также</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9&amp;action=edit&amp;section=8" title="Edit section: См. также">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><strong class="selflink"><b>Форматы записей</b></strong>: 
<a href="https://codex.wordpress.org/Function_Reference/set_post_format" title="Function Reference/set post format">set_post_format()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/has_post_format" title="Function Reference/has post format">has_post_format()</a>
</p>
<!-- 
NewPP limit report
Cached time: 20190211004617
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.020 seconds
Real time usage: 0.025 seconds
Preprocessor visited node count: 120/1000000
Preprocessor generated node count: 445/1000000
Post‐expand include size: 1017/2097152 bytes
Template argument size: 284/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   10.164      1 - -total
 56.75%    5.768      1 - Template:Languages
 20.96%    2.130      1 - Template:Trac
 11.18%    1.136      1 - Template:ru:Post_Formats
 10.62%    1.079      1 - Template:ja
 10.48%    1.065      1 - Template:ru
 10.26%    1.043      1 - Template:en
 10.21%    1.038      1 - Template:zh-hans
  7.96%    0.809      1 - Template:CurrentVersion
-->
