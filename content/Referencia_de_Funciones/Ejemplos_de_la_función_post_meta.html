<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Descripci.C3.B3n"><span class="tocnumber">1</span> <span class="toctext">Descripción</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Ejemplo"><span class="tocnumber">2</span> <span class="toctext">Ejemplo</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Recursos"><span class="tocnumber">3</span> <span class="toctext">Recursos</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Relacionados"><span class="tocnumber">4</span> <span class="toctext">Relacionados</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Descripci.C3.B3n">Descripción</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Referencia_de_Funciones/Ejemplos_de_la_funci%C3%B3n_post_meta&amp;action=edit&amp;section=1" title="Edit section: Descripción">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Lo siguiente es un ejemplo detallado para el uso de las funciones <a href="https://codex.wordpress.org/Referencia_de_Funciones/add_post_meta" title="Referencia de Funciones/add post meta" class="mw-redirect">add_post_meta</a>, <a href="/index.php?title=Referencia_de_Funciones/delete_post_meta&amp;action=edit&amp;redlink=1" class="new" title="Referencia de Funciones/delete post meta (page does not exist)">delete_post_meta</a>, <a href="/index.php?title=Referencia_de_Funciones/update_post_meta&amp;action=edit&amp;redlink=1" class="new" title="Referencia de Funciones/update post meta (page does not exist)">update_post_meta</a>, y <a href="/index.php?title=Referencia_de_Funciones/get_post_meta&amp;action=edit&amp;redlink=1" class="new" title="Referencia de Funciones/get post meta (page does not exist)">get_post_meta</a>.
</p>
<h2><span class="mw-headline" id="Ejemplo">Ejemplo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Referencia_de_Funciones/Ejemplos_de_la_funci%C3%B3n_post_meta&amp;action=edit&amp;section=2" title="Edit section: Ejemplo">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="padding: 1em; border: 1px dashed #2f6fab; color: Black; background-color: #fafafa; line-height: 1.1em">
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;<br /></span><span style="color: #FF8000">/*******************<br />Esta&#160;función&#160;maneja&#160;los&#160;meta&#160;tags&#160;mood&#160;y&#160;listening.<br />Puede&#160;llamarse&#160;con&#160;una&#160;acción&#160;de&#160;actualización,&#160;borrado&#160;y&#160;recuperación&#160;(por&#160;defecto)<br />Cuando&#160;la&#160;acción&#160;es&#160;update&#160;(actualización),&#160;hay&#160;que&#160;proveer&#160;o&#160;$mood&#160;o&#160;$listening,<br />p.ej.&#160;mood_music(&#160;$post-&gt;ID,&#160;'update',&#160;'Happy',&#160;'Bon&#160;Jovi&#160;-&#160;It's&#160;My&#160;Life'&#160;);<br />*******************/<br /></span><span style="color: #007700">function&#160;</span><span style="color: #0000BB">mood_music</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$action&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #DD0000">'get'</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$mood&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$listening_to&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">0&#160;</span><span style="color: #007700">)&#160;{<br />&#160;&#160;<br />&#160;&#160;</span><span style="color: #FF8000">//El&#160;switch&#160;maneja&#160;los&#160;tres&#160;posibles&#160;valores&#160;de&#160;'Action'<br />&#160;&#160;</span><span style="color: #007700">switch&#160;(</span><span style="color: #0000BB">$action</span><span style="color: #007700">)&#160;{<br />&#160;&#160;&#160;&#160;case&#160;</span><span style="color: #DD0000">'update'&#160;</span><span style="color: #007700">:<br />&#160;&#160;&#160;&#160;&#160;&#160;if(&#160;!&#160;</span><span style="color: #0000BB">$mood&#160;</span><span style="color: #007700">&amp;&amp;&#160;!&#160;</span><span style="color: #0000BB">$listening_to&#160;</span><span style="color: #007700">)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//Si&#160;no&#160;se&#160;provee&#160;nada&#160;para&#160;actualizar&#160;terminamos&#160;aquí.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #007700">return&#160;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//Uso&#160;de&#160;add_post_meta:<br />&#160;&#160;&#160;&#160;&#160;&#160;//add_post_meta(&#160;$post_id,&#160;$meta_key,&#160;$meta_value,&#160;$unique&#160;=&#160;false&#160;)<br />&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;//Si&#160;se&#160;ha&#160;suministrado&#160;la&#160;variable&#160;$mood,<br />&#160;&#160;&#160;&#160;&#160;&#160;//se&#160;añade&#160;una&#160;nueva&#160;clave&#160;llamada&#160;'mood',&#160;que&#160;contenga&#160;ese&#160;valor.<br />&#160;&#160;&#160;&#160;&#160;&#160;//Si&#160;la&#160;clave&#160;'mood'&#160;ya&#160;existe&#160;en&#160;este&#160;post,<br />&#160;&#160;&#160;&#160;&#160;&#160;//este&#160;comando,&#160;simplemente&#160;añadirá&#160;otra&#160;nuevo.<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #007700">if(&#160;</span><span style="color: #0000BB">$mood&#160;</span><span style="color: #007700">)&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">add_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'mood'</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$mood&#160;</span><span style="color: #007700">);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//Uso&#160;de&#160;update_post_meta:<br />&#160;&#160;&#160;&#160;&#160;&#160;//update_post_meta(&#160;$post_id,&#160;$meta_key,&#160;$meta_value&#160;)<br />&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;//Si&#160;se&#160;ha&#160;suministrado&#160;la&#160;variable&#160;$listening_to,<br />&#160;&#160;&#160;&#160;&#160;&#160;//se&#160;añade&#160;una&#160;clave&#160;llamada&#160;'listening_to',&#160;conteniendo&#160;ese&#160;valor.<br />&#160;&#160;&#160;&#160;&#160;&#160;//Si&#160;la&#160;clave&#160;'listening_to'&#160;ya&#160;existe&#160;en&#160;este&#160;post,<br />&#160;&#160;&#160;&#160;&#160;&#160;//este&#160;comando&#160;lo&#160;actualizará&#160;con&#160;el&#160;nuevo&#160;valor<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #007700">if(&#160;</span><span style="color: #0000BB">$listening_to&#160;</span><span style="color: #007700">)&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">add_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'listening_to'</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$listening_to</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">true&#160;</span><span style="color: #007700">)&#160;or<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">update_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'listening_to'</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$listening_to&#160;</span><span style="color: #007700">);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;}<br />&#160;&#160;&#160;&#160;case&#160;</span><span style="color: #DD0000">'delete'&#160;</span><span style="color: #007700">:<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//uso&#160;de&#160;delete_post_meta:<br />&#160;&#160;&#160;&#160;&#160;&#160;//delete_post_meta(&#160;$post_id,&#160;$meta_key,&#160;$prev_value&#160;=&#160;'&#160;'&#160;)<br />&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;//Esto&#160;borrará&#160;todas&#160;las&#160;instancias&#160;de&#160;las&#160;siguientes&#160;claves&#160;de&#160;un&#160;post&#160;dado.<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">delete_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'mood'&#160;</span><span style="color: #007700">);<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">delete_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'listening_to'&#160;</span><span style="color: #007700">);<br />&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//Para&#160;borrar&#160;solo&#160;'mood'&#160;si&#160;su&#160;valor&#160;es&#160;'sad':<br />&#160;&#160;&#160;&#160;&#160;&#160;//delete_post_meta(&#160;$post_id,&#160;'mood',&#160;'sad'&#160;);<br />&#160;&#160;&#160;&#160;</span><span style="color: #007700">break;<br />&#160;&#160;&#160;&#160;case&#160;</span><span style="color: #DD0000">'get'&#160;</span><span style="color: #007700">:<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//uso&#160;de&#160;get_post_custom:<br />&#160;&#160;&#160;&#160;&#160;&#160;//get_post_meta(&#160;$post_id,&#160;$meta_key,&#160;$single&#160;value&#160;=&#160;false&#160;)<br />&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;//$stored_moods&#160;es&#160;un&#160;array&#160;que&#160;contendrá&#160;todos&#160;los&#160;valores&#160;de&#160;la&#160;clave&#160;meta&#160;'mood'<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$stored_moods&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">get_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'mood'&#160;</span><span style="color: #007700">);<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//$stored_listening_to&#160;será&#160;el&#160;primer&#160;valor&#160;de&#160;la&#160;clave&#160;'listening_to'<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$stored_listening_to&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">get_post_meta</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'listening_to'</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'true'&#160;</span><span style="color: #007700">);<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//Ahora&#160;necesitamos&#160;un&#160;bonito&#160;formato&#160;de&#160;salida,&#160;de&#160;forma&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;//que&#160;el&#160;usuario&#160;pueda&#160;implementarlo&#160;como&#160;el/ella&#160;quiera:<br />&#160;&#160;&#160;&#160;&#160;&#160;//p.ej.&#160;echo&#160;mood_music(&#160;$post-&gt;ID,&#160;'get'&#160;);<br />&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #DD0000">'&lt;div&#160;class='</span><span style="color: #0000BB">mood</span><span style="color: #007700">-</span><span style="color: #0000BB">music</span><span style="color: #DD0000">'&gt;'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;if&#160;(&#160;!&#160;empty(&#160;</span><span style="color: #0000BB">$stored_moods&#160;</span><span style="color: #007700">)&#160;)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">.=&#160;</span><span style="color: #DD0000">'&lt;strong&gt;Current&#160;Mood&lt;/strong&gt;:&#160;'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;foreach(&#160;</span><span style="color: #0000BB">$stored_moods&#160;</span><span style="color: #007700">as&#160;</span><span style="color: #0000BB">$mood&#160;</span><span style="color: #007700">)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">.=&#160;</span><span style="color: #0000BB">$mood&#160;</span><span style="color: #007700">.&#160;</span><span style="color: #DD0000">',&#160;'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">.=&#160;</span><span style="color: #DD0000">'&lt;br/&gt;'</span><span style="color: #007700">;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;if&#160;(&#160;!&#160;empty(&#160;</span><span style="color: #0000BB">$stored_listening_to&#160;</span><span style="color: #007700">)&#160;)&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">.=&#160;</span><span style="color: #DD0000">'&lt;strong&gt;Currently&#160;Listening&#160;To&lt;/strong&gt;:&#160;'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">.=&#160;</span><span style="color: #0000BB">$stored_listening_to</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br />&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$return&#160;</span><span style="color: #007700">.=&#160;</span><span style="color: #DD0000">'&lt;/div&gt;'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;return&#160;</span><span style="color: #0000BB">$return</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;default&#160;:<br />&#160;&#160;&#160;&#160;&#160;&#160;return&#160;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;break;<br />&#160;&#160;}&#160;</span><span style="color: #FF8000">//end&#160;switch<br /></span><span style="color: #007700">}&#160;</span><span style="color: #FF8000">//end&#160;function<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</p>
</code></div>
<h2><span class="mw-headline" id="Recursos">Recursos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Referencia_de_Funciones/Ejemplos_de_la_funci%C3%B3n_post_meta&amp;action=edit&amp;section=3" title="Edit section: Recursos">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li></li></ul>
<h2><span class="mw-headline" id="Relacionados">Relacionados</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Referencia_de_Funciones/Ejemplos_de_la_funci%C3%B3n_post_meta&amp;action=edit&amp;section=4" title="Edit section: Relacionados">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Custom_Fields" title="Custom Fields"><b>Custom Fields</b></a>: 
<a href="https://codex.wordpress.org/Function_Reference/the_meta" title="Function Reference/the meta"> the_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_meta" title="Function Reference/get post meta"> get_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta"> add_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta"> update_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/delete_post_meta" title="Function Reference/delete post meta"> delete_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom" title="Function Reference/get post custom"> get_post_custom()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom_values" title="Function Reference/get post custom values"> get_post_custom_values()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom_keys" title="Function Reference/get post custom keys"> get_post_custom_keys()</a> 
(See Also: <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples"> post_meta Function Examples</a>)
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190211004113
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.032 seconds
Real time usage: 0.036 seconds
Preprocessor visited node count: 278/1000000
Preprocessor generated node count: 604/1000000
Post‐expand include size: 1173/2097152 bytes
Template argument size: 126/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.582      1 - -total
 58.60%    2.099      1 - Template:Tag_Footer
 38.27%    1.371      1 - Template:Post_Meta_Tags
 30.40%    1.089      1 - Template:Message
-->
