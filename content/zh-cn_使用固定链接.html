<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Using_Permalinks" title="Using Permalinks">English</a> • 
<a href="https://codex.wordpress.org/fr:Utilisation_des_permaliens" title="fr:Utilisation des permaliens">Français</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/パーマリンクの使い方">日本語</a> 
<a href="https://codex.wordpress.org/ko:Using_Permalinks" title="ko:Using Permalinks">한국어</a> • 
<a rel="nofollow" class="external text" href="http://www.laowordpress.com/Using_Permalinks">ລາວ</a> • 

<a rel="nofollow" class="external text" href="http://www.myanmarwp.com/Using_Permalinks">myanmar</a> • 

<a href="https://codex.wordpress.org/nl:_Permalinks_gebruiken" title="nl: Permalinks gebruiken">Nederlands</a> • 
<a href="https://codex.wordpress.org/pt-br:Usando_Links_permanentes" title="pt-br:Usando Links permanentes" class="mw-redirect">Português do Brasil</a> • 

<a rel="nofollow" class="external text" href="http://codex.wordthai.com/Using+Permalinks">ไทย</a> • 

<strong class="selflink">中文(简体)</strong> • 
<a href="https://codex.wordpress.org/zh-tw:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%80%A3%E7%B5%90" title="zh-tw:使用固定連結">中文(繁體)</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E7.9A.84.E7.B1.BB.E5.9E.8B"><span class="tocnumber">1</span> <span class="toctext">固定链接的类型</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.E9.BB.98.E8.AE.A4.EF.BC.9A.E2.80.9C.E4.B8.91.E9.99.8B.E2.80.9D"><span class="tocnumber">1.1</span> <span class="toctext">默认：“丑陋”</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#mod_rewrite:_.22.E6.BC.82.E4.BA.AE.E7.9A.84.E9.93.BE.E6.8E.A5.22"><span class="tocnumber">1.2</span> <span class="toctext">mod_rewrite: "漂亮的链接"</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#PATHINFO:_.22.E6.AF.94.E8.BE.83.E5.A5.BD.E7.9A.84.E9.93.BE.E6.8E.A5.22"><span class="tocnumber">1.3</span> <span class="toctext">PATHINFO: "比较好的链接"</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#.E9.80.89.E6.8B.A9.E4.BD.A0.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E7.BB.93.E6.9E.84"><span class="tocnumber">2</span> <span class="toctext">选择你的固定链接结构</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#.E7.BB.93.E6.9E.84.E6.A0.87.E7.AD.BE"><span class="tocnumber">2.1</span> <span class="toctext">结构标签</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.E5.9F.BA.E4.BA.8E.E5.88.86.E7.B1.BB.E5.92.8C.E5.9F.BA.E4.BA.8E.E6.A0.87.E7.AD.BE"><span class="tocnumber">2.2</span> <span class="toctext">基于分类和基于标签</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.E4.BB.85.E4.BB.85.E4.BD.BF.E7.94.A8.25postname.25"><span class="tocnumber">2.3</span> <span class="toctext">仅仅使用%postname%</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.E6.96.87.E7.AB.A0.E6.9C.89.E5.A4.9A.E4.B8.AA.E5.88.86.E7.B1.BB.E6.97.B6.E4.BD.BF.E7.94.A8.25category.25.EF.BC.8C.E6.88.96.E6.9C.89.E5.A4.9A.E4.B8.AA.E6.A0.87.E7.AD.BE.E6.97.B6.E4.BD.BF.E7.94.A8.25tag.25"><span class="tocnumber">2.4</span> <span class="toctext">文章有多个分类时使用%category%，或有多个标签时使用%tag%</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#.E4.BD.BF.E7.94.A8.E6.BC.82.E4.BA.AE.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5"><span class="tocnumber">3</span> <span class="toctext">使用漂亮的固定链接</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#.E6.88.91.E7.9A.84.htaccess.E5.9C.A8.E5.93.AA.E9.87.8C.EF.BC.9F"><span class="tocnumber">3.1</span> <span class="toctext">我的.htaccess在哪里？</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#.E5.88.9B.E5.BB.BA.E5.92.8C.E7.BC.96.E8.BE.91.28.htaccess.29"><span class="tocnumber">3.2</span> <span class="toctext">创建和编辑(.htaccess)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#.E8.87.AA.E5.8A.A8.E6.9B.B4.E6.96.B0_.htaccess"><span class="tocnumber">3.3</span> <span class="toctext">自动更新 .htaccess</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#.E4.B8.8D.E4.BD.BF.E7.94.A8mod_rewrite.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5"><span class="tocnumber">4</span> <span class="toctext">不使用mod_rewrite的固定链接</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E9.81.87.E5.88.B0.E7.9A.84.E9.97.AE.E9.A2.98.E5.92.8C.E8.A7.A3.E5.86.B3"><span class="tocnumber">5</span> <span class="toctext">固定链接遇到的问题和解决</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#.htaccess.E4.B8.80.E8.88.AC.E6.80.A7.E9.97.AE.E9.A2.98"><span class="tocnumber">5.1</span> <span class="toctext">.htaccess一般性问题</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E3.80.81.htaccess.E5.92.8CMS_Frontpage"><span class="tocnumber">6</span> <span class="toctext">固定链接、.htaccess和MS Frontpage</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#.E5.BF.AB.E9.80.9F.E4.BF.AE.E5.A4.8DFrontpage.E6.88.96.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5"><span class="tocnumber">6.1</span> <span class="toctext">快速修复Frontpage或固定链接</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#.E5.90.8C.E6.97.B6.E4.BD.BF.E7.94.A8FrontPage.E5.92.8C.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5"><span class="tocnumber">6.2</span> <span class="toctext">同时使用FrontPage和固定链接</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#.E9.95.BF.E9.95.BF.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5"><span class="tocnumber">6.3</span> <span class="toctext">长长的固定链接</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#.E4.BF.AE.E5.A4.8D.E5.85.B6.E4.BB.96.E9.97.AE.E9.A2.98"><span class="tocnumber">6.4</span> <span class="toctext">修复其他问题</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#.E6.9B.B4.E5.A4.9A.E5.B8.AE.E5.8A.A9"><span class="tocnumber">6.5</span> <span class="toctext">更多帮助</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#.E5.B0.8F.E8.B4.B4.E5.A3.AB.E5.92.8C.E5.B0.8F.E6.8A.80.E5.B7.A7"><span class="tocnumber">7</span> <span class="toctext">小贴士和小技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#.E5.9C.B0.E5.9D.80.E4.BB.A5.html.E7.BB.93.E5.B0.BE"><span class="tocnumber">7.1</span> <span class="toctext">地址以.html结尾</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#.E9.81.BF.E5.85.8D.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E5.9C.B0.E5.9D.80.E8.A2.AB.E8.A7.A3.E6.9E.90.E6.88.90.E5.BD.92.E6.A1.A3.E9.93.BE.E6.8E.A5"><span class="tocnumber">7.2</span> <span class="toctext">避免固定链接地址被解析成归档链接</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#.E6.A3.80.E6.9F.A5.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E7.BB.93.E6.9E.84"><span class="tocnumber">7.3</span> <span class="toctext">检查固定链接结构</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="#.E5.8F.A6.E8.AF.B7.E5.8F.82.E9.98.85"><span class="tocnumber">8</span> <span class="toctext">另请参阅</span></a></li>
<li class="toclevel-1 tocsection-28"><a href="#.E5.A4.96.E9.83.A8.E8.B5.84.E6.BA.90"><span class="tocnumber">9</span> <span class="toctext">外部资源</span></a></li>
</ul>
</div>

<p>固定链接是你个人博客里的文章、分类以及其他页面的固定链接地址。通过固定链接，别的博友可以链到你写的博客，你也可以将这个链接地址写在邮件里发给其他人看。如果博客的链接地址变来变去，会造成其他人通过之前的链接地址来浏览博客时出错，所以每篇博客的链接地址都应该固定，而且永久不改———这也是<i>固定</i>链接名字的由来。
</p>
<h2><span class="mw-headline" id=".E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E7.9A.84.E7.B1.BB.E5.9E.8B">固定链接的类型</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=1" title="Edit section: 固定链接的类型">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>目前共有三种基本的类型：
</p>
<h3><span class="mw-headline" id=".E9.BB.98.E8.AE.A4.EF.BC.9A.E2.80.9C.E4.B8.91.E9.99.8B.E2.80.9D">默认：“丑陋”</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=2" title="Edit section: 默认：“丑陋”">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>默认的链接如下
</p>
<pre>http://example.com/?p=N</pre>
<p><var>N</var>是<tt>文章ID</tt>，一串数字。默认链接在所有的环境下都运转良好，但和其他的类型比起来没那么好看。
</p>
<h3><span class="mw-headline" id="mod_rewrite:_.22.E6.BC.82.E4.BA.AE.E7.9A.84.E9.93.BE.E6.8E.A5.22">mod_rewrite: "漂亮的链接"</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=3" title="Edit section: mod rewrite: &quot;漂亮的链接&quot;">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>使用mod_rewrite或lighttpd可以生成更好看的链接地址(查看 <a href="https://codex.wordpress.org/Introduction_to_Blogging#Pretty_Permalinks" title="Introduction to Blogging">漂亮的链接</a>)，有各种个样的链接格式，最常见、最通用的格式如下
</p>
<pre>    http://example.com/category/post-name/
or  http://example.com/year/month/day/post-name</pre>
<p>有些博主为了使用更简短的链接地址，去掉了部分或全部的日期参数(day, month, year)。
</p><p>在以下环境中均能配置漂亮链接
</p>
<ul><li>  Apache web server，需要<tt>mod_rewrite</tt>模块</li>
<li>  Microsoft IIS 7+ web server，需要URL Rewrite模块，版本1.1+，而且PHP5必须使用FastCGI</li>
<li>  Microsoft IIS 6+ 参考<a rel="nofollow" class="external text" href="http://tech.einaregilsson.com/2007/07/30/pretty-wordpress-permalinks-on-iis/">a 404 handler</a> or <a rel="nofollow" class="external text" href="http://www.micronovae.com/ModRewrite/articles/CleanPermalinksWordpress.html">Mod-Rewrite Pro</a>可能会成功。</li>
<li>  Lighttpd 参考<a rel="nofollow" class="external text" href="http://chrisjohnston.org/2009/setting-up-a-wordpress-blog-on-lighttpd">a 404 handler</a> or <a rel="nofollow" class="external text" href="http://blog.nix.is/lighttpd-rewrite-rules-for-wordpress">mod_rewrite</a> or <a rel="nofollow" class="external text" href="http://sudhaker.com/web-development/wordpress/wordpress-permalinks-lighttpd.html">mod_magnet</a> (查看<a href="https://codex.wordpress.org/zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5#.E5.A4.96.E9.83.A8.E8.B5.84.E6.BA.90" title="zh-cn:使用固定链接">外部资源</a>)</li></ul>
<h3><span class="mw-headline" id="PATHINFO:_.22.E6.AF.94.E8.BE.83.E5.A5.BD.E7.9A.84.E9.93.BE.E6.8E.A5.22">PATHINFO: "比较好的链接"</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=4" title="Edit section: PATHINFO: &quot;比较好的链接&quot;">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><tt>PATHINFO</tt>类型的链接地址和<tt>mod_rewrite</tt>类型的地址看起来很像，唯一的区别是在前面多了<tt>/index.php</tt>，如下: 
</p>
<pre>http://example.com/index.php/yyyy/mm/dd/post-name/</pre>
<p>除此之外，和<tt>mod_rewrite</tt>类型的地址一样，也具有同样的可配置性。任何<tt>mod_rewrite</tt>链接地址可以做的事情，<tt>PATHINFO</tt>也可以。
</p><p>有个很有用的<a rel="nofollow" class="external text" href="http://www.askapache.com/htaccess/rewriterule-viewer-plugin.html">插件</a>可以显示使用的是何种类型的链接，以及WordPress重写规则的详细信息。
</p>
<h2><span class="mw-headline" id=".E9.80.89.E6.8B.A9.E4.BD.A0.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E7.BB.93.E6.9E.84">选择你的固定链接结构</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=5" title="Edit section: 选择你的固定链接结构">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>在设置 &#8594; 固定链接(WordPress 2.5之前的版本在选项&#8594; 固定链接)，可以选择默认格式，也可以使用<i>结构标签</i>在自定义结构的输入框里输入你想要的格式。
</p><p>如果想激活PATHINFO类型的链接地址，只要将地址以<tt>index.php/</tt>开头。
</p><p><a href="https://codex.wordpress.org/File:wordpress-permalinks-structure.gif" class="image"><img alt="wordpress-permalinks-structure.gif" src="/images/a/a9/wordpress-permalinks-structure.gif" width="622" height="550" /></a>
</p>
<h3><span class="mw-headline" id=".E7.BB.93.E6.9E.84.E6.A0.87.E7.AD.BE">结构标签</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=6" title="Edit section: 结构标签">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>结构标签用来自定义mod_rewrite/PATHINFO类型的固定链接地址格式，下面是一些tips：
</p>
<ul><li> 确保以<tt>%post_id%</tt>或<tt>%postname%</tt>结尾(如<tt>/%year%/%monthnum%/%day%/%postname%/</tt>)，以便每个地址对应唯一的一篇博客。</li>
<li> 出于性能上的考量，<i>不</i>推荐以博客类型、博客标签、博客作者、博客标题作为固定链接地址的开头这些都是纯文本的属性(field)，使用它们作为链接的开头，WordPress需要更多的时间区分文章(Post)地址和页面(Page)地址，而且为了区分还要在数据库里存储额外的信息，带来不必要的开销。推荐使用数字的属性(field)作为链接的开头，如年份或文章ID。查看 <a rel="nofollow" class="external text" href="http://comox.textdrive.com/pipermail/wp-testers/2009-January/011097.html">wp-testers的讨论</a>.</li></ul>
<dl><dt><b>%year%</b>&#160;</dt>
<dd> 文章发表的年份，四位数，如 <tt>2004</tt></dd>
<dt><b>%monthnum%</b>&#160;</dt>
<dd> 月份，如 <tt>05</tt></dd>
<dt><b>%day%</b>&#160;</dt>
<dd> 天，如 <tt>28</tt></dd>
<dt><b>%hour%</b>&#160;</dt>
<dd> 小时，如 <tt>15</tt></dd>
<dt><b>%minute%</b>&#160;</dt>
<dd> 分钟，如 <tt>43</tt></dd>
<dt><b>%second%</b>&#160;</dt>
<dd> 秒，如 <tt>33</tt></dd>
<dt><b>%postname%</b>&#160;</dt>
<dd> 文章标题的别名 (编辑文章/页面时的<i>别名栏</i>)。对于文章标题为 &#8220;This Is A Great Post!&#8221; 的%postname%是<tt>this-is-a-great-post</tt>(查看 <a href="https://codex.wordpress.org/zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5#.E4.BB.85.E4.BB.85.E4.BD.BF.E7.94.A8.25postname.25" title="zh-cn:使用固定链接">仅仅使用 <tt>%postname%</tt></a>)。  <b>出于性能原因，强烈不建议使用%postname%作为链接地址的开头</b>。 ***<strong> 注 - 从WordPress 2.0开始这条建议可以无视了。</strong> </dd>
<dt><b>%post_id%</b>&#160;</dt>
<dd> 文章的唯一ID，如 <tt>423</tt></dd>
<dt><b>%category%</b>&#160;</dt>
<dd> 分类的别名 (新建/编辑分类时的<i>别名栏</i>)。 有层级关系的类型在链接地址里就像有层级的目录。   <b>出于性能原因，强烈不建议使用%category%作为链接地址的开头</b>。</dd>
<dt><b>%tag%</b>&#160;</dt>
<dd> 标签的别名(新建/编辑标签时的<i>别名栏</i>)。  <b>出于性能原因，强烈不建议使用%tag%作为链接地址的开头</b>。</dd>
<dt><b>%author%</b>&#160;</dt>
<dd> 作者的别名。</dd></dl>
<h3><span class="mw-headline" id=".E5.9F.BA.E4.BA.8E.E5.88.86.E7.B1.BB.E5.92.8C.E5.9F.BA.E4.BA.8E.E6.A0.87.E7.AD.BE">基于分类和基于标签</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=7" title="Edit section: 基于分类和基于标签">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><i>基于分类</i>和<i>基于标签</i>作为分类、标签归档链接地址的前缀，如下：
</p>
<pre> example.net/wp/<var>category_base</var>/<var>category_name</var>
 example.net/wp/<var>tag_base</var>/<var>tag_name</var>
</pre>
<p>默认值分别是<tt>category</tt>和<tt>tag</tt>。可以修改它们，但不可以从地址中删除它们。
</p><p>自定义固定链接在大多数系统中都运作良好，但在某些条件下，还是有问题。
</p>
<h3><span class="mw-headline" id=".E4.BB.85.E4.BB.85.E4.BD.BF.E7.94.A8.25postname.25">仅仅使用<tt>%postname%</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=8" title="Edit section: 仅仅使用%postname%">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><strong>如果你使用的是2.0及以后的版本，那么以下的建议无效。</strong>
</p><p>如果使用postname作为固定链接的唯一参数，如<tt>example.com/post-title</tt>, 重写规则有可能导致访问css文件(和固定链接有相似的格式)或<tt>/wp-admin/</tt>出错。为了阻止这个错误的发生，最好在固定链接里加上数字参数(如文章 ID或日期)。另外，为了使日历等特性工作正常，WordPress v1.2.x必须使用date这个结构标签。 <tt>/%year%/%monthnum%/%day%/%postname%/</tt> 通常是个好的链接开头。
</p><p>通过简单修改.htaccess文件可以解决上面的问题，.htaccess文件如下：
</p>
<pre>
# BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /

RewriteCond&#160;%{REQUEST_FILENAME} ^wp-content.*
RewriteCond&#160;%{REQUEST_FILENAME} ^wp-admin.*
RewriteCond&#160;%{REQUEST_FILENAME} ^wp-include.*
RewriteCond&#160;%{REQUEST_FILENAME}&#160;!-f
RewriteCond&#160;%{REQUEST_FILENAME}&#160;!-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress
</pre>
<p>如果访问地址包含wp-content、wp-admin、wp-include，则不使用重写规则，这样就可以正常访问管理页面和博客了。
</p>
<h3><span class="mw-headline" id=".E6.96.87.E7.AB.A0.E6.9C.89.E5.A4.9A.E4.B8.AA.E5.88.86.E7.B1.BB.E6.97.B6.E4.BD.BF.E7.94.A8.25category.25.EF.BC.8C.E6.88.96.E6.9C.89.E5.A4.9A.E4.B8.AA.E6.A0.87.E7.AD.BE.E6.97.B6.E4.BD.BF.E7.94.A8.25tag.25">文章有多个分类时使用<tt>%category%</tt>，或有多个标签时使用<tt>%tag%</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=9" title="Edit section: 文章有多个分类时使用%category%，或有多个标签时使用%tag%">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>当一篇文章有多个分类时，只有一个分类会显示在固定链接里，是最小数字的那个分类(查看<a href="https://codex.wordpress.org/Manage_Categories_SubPanel" title="Manage Categories SubPanel">管理分类</a>)。这篇文章仍然可以通过所有的分类访问。
</p><p>在使用<tt>%tag%</tt>时也是同样的。
</p>
<h2><span class="mw-headline" id=".E4.BD.BF.E7.94.A8.E6.BC.82.E4.BA.AE.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5">使用漂亮的固定链接</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=10" title="Edit section: 使用漂亮的固定链接">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>要求:
</p>
<ul><li>	Apache web server，安装了mod_rewrite模块</li>
<li>	在WordPress的home目录，
<ul><li>		<a rel="nofollow" class="external text" href="http://httpd.apache.org/docs/1.3/mod/core.html#options">FollowSymLinks option</a> enabled</li>
<li>		<a rel="nofollow" class="external text" href="http://httpd.apache.org/docs/1.3/mod/core.html#allowoverride"><tt>FileInfo</tt> directives</a>允许 (如 <code>AllowOverride FileInfo</code> 或 <code>AllowOverride All</code>) </li>
<li>		<tt>.htaccess</tt>文件 (如果找不到，当你激活漂亮固定链接时WordPress会尝试创建它)	</li>
<li>		如果你希望WordPress自动更新<tt>.htaccess</tt>，WordPress需要有这个文件的写权限。</li></ul></li></ul>
<ul><li> 如果你使用lighttpd, 查看<a href="https://codex.wordpress.org/zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5#.E5.A4.96.E9.83.A8.E8.B5.84.E6.BA.90" title="zh-cn:使用固定链接">外部资源</a>.</li></ul>
<p>当创建或更新“漂亮”固定链接结构时，WordPress会生成新的重写规则并插入到<tt>.htaccess</tt>文件中。如果出错，WordPress会提示<tt>You should update your .htaccess now</tt>并且告诉你哪些重写规则需要拷贝和粘贴到<tt>.htaccess</tt>文件(粘贴到文件的末尾)。
</p><p>对于WordPress 2.0+的版本，也许只要做一次就够了，因为WordPress在内部直接重写。如果改变了WordPress home目录(<i>博客地址</i>)，需要重复上述步骤。
</p><p>WordPress不会删除<tt>.htaccess</tt>中任何已存在的重写规则或目录。如果有其他重写规则，把它们放到WordPress的重写规则的前面。
</p>
<h3><span class="mw-headline" id=".E6.88.91.E7.9A.84.htaccess.E5.9C.A8.E5.93.AA.E9.87.8C.EF.BC.9F">我的<tt>.htaccess</tt>在哪里？</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=11" title="Edit section: 我的.htaccess在哪里？">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Wordpress的<tt>index.php</tt>和<tt>.htaccess</tt>都在<i>博客地址</i>目录下，博客地址在设置，常规选项里可以查到。由于有个"."在文件名中，FTP客户端可能看不到，除非你修改FTP客户端的设置，使其显示所有文件，包括隐藏文件。
如果你是通过Godaddy Hosting Connection installation来安装WordPress的话，有些主机提供商(如Godaddy)不显示或不允许你修改.htaccess文件。
</p>
<h3><span class="mw-headline" id=".E5.88.9B.E5.BB.BA.E5.92.8C.E7.BC.96.E8.BE.91.28.htaccess.29">创建和编辑(<tt>.htaccess</tt>)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=12" title="Edit section: 创建和编辑(.htaccess)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>如果还没有.htaccess文件，创建一个。如果能通过shell或ssh连上服务器，直接输入<code>touch .htaccess</code>就创建了。如果使用FTP上传文件，可以在本地创建文件，如<tt>1.htaccess</tt>，上传到WordPress的跟目录，然后重命名为<tt>.htaccess</tt>。
</p><p>可以通过FTP，shell或主机提供商可能提供的<a href="https://codex.wordpress.org/Using_cPanel" title="Using cPanel">控制面板</a>来编辑<tt>.htaccess</tt>。
</p><p>如果<tt>.htaccess</tt>有错而导致("Internal Server Error (500)")，可以使用FTP或<a href="https://codex.wordpress.org/Using_cPanel" title="Using cPanel">控制面板</a>删除出错的<tt>.htaccess</tt>。
</p>
<h3><span class="mw-headline" id=".E8.87.AA.E5.8A.A8.E6.9B.B4.E6.96.B0_.htaccess">自动更新 <tt>.htaccess</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=13" title="Edit section: 自动更新 .htaccess">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>如果WordPress不能自动更新<tt>.htaccess</tt>，它会告诉你原因，如<tt>.htaccess文件可写，才会自动更新，但是目前不是可写的…</tt>，这个提示在设置&#8594;固定链接面板的底部。
</p><p>想让WordPress自动更新，必须<a href="https://codex.wordpress.org/Changing_File_Permissions" title="Changing File Permissions">给WordPress开通.htaccess文件的写权限</a>. 确切的权限依赖于你的服务器环境，尝试给文件拥有者打开写权限，然后作者所在组打开写权限，然后所有人，一步一步测试，一旦WordPress有了写权限，则不要再进一步放宽权限。
</p><p>使用固定链接后，最后修改.htaccess文件的权限为660或644，以免服务器上的其他用户修改。
</p>
<h2><span class="mw-headline" id=".E4.B8.8D.E4.BD.BF.E7.94.A8mod_rewrite.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5">不使用<tt>mod_rewrite</tt>的固定链接</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=14" title="Edit section: 不使用mod rewrite的固定链接">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>“漂亮”的固定链接通常需要<tt><a href="https://codex.wordpress.org/Glossary#mod_rewrite" title="Glossary">mod_rewrite</a></tt>，但是IIS(Windows servers)不支持<tt>mod_rewrite</tt>。(如果在Windows上使用Apache 2.0.54，<tt>mod_rewrite</tt>可以正常工作，需要在<tt>apache\conf\httpd.conf</tt>打开这个模块。) 
</p><p>如果使用IIS 7且有服务器的管理权限，可以使用Microsoft的<a rel="nofollow" class="external text" href="http://learn.iis.net/page.aspx/460/using-url-rewrite-module/">URL Rewrite模块</a>。虽然和<tt>mod_rewrite</tt>不是完全兼容，但是支持WordPress的“漂亮”链接。安装后打开WordPress文件夹下的<tt>web.config</tt>，添加下面的规则到 <tt>system.webServer</tt>节点。
</p>
<pre>
&lt;rewrite&gt;
    &lt;rules&gt;
        &lt;rule name="Main Rule" stopProcessing="true"&gt;
            &lt;match url=".*" /&gt;
            &lt;conditions logicalGrouping="MatchAll"&gt;
                &lt;add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" /&gt;
                &lt;add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" /&gt;
            &lt;/conditions&gt;
            &lt;action type="Rewrite" url="index.php/{R:0}" /&gt;
        &lt;/rule&gt;
    &lt;/rules&gt;
&lt;/rewrite&gt;
</pre>
<p>在IIS网站有<a rel="nofollow" class="external text" href="http://learn.iis.net/page.aspx/466/enabling-pretty-permalinks-in-wordpress/">完整的安装指南</a>。支持<a rel="nofollow" class="external text" href="http://www.iis.net/downloads/1692/ItemPermaLink.ashx">x64</a>和<a rel="nofollow" class="external text" href="http://www.iis.net/downloads/1691/ItemPermaLink.ashx">x86</a>。
</p><p>如果不符合上面的条件，可以使用PATHINFO类型的固定链接将<tt>index.php/</tt>作为地址的开头：
</p>
<pre> /index.php/%year%/%monthnum%/%day%/%postname%/
</pre>
<p>这个不一定正常工作，尤其是使用IIS 6。解决办法是在php.ini添加2行，并保存此文件到webroot(<cite><a rel="nofollow" class="external free" href="http://blog.taragana.com/index.php/archive/wordpress-tip-on-permalink-options">http://blog.taragana.com/index.php/archive/wordpress-tip-on-permalink-options</a></cite>)：
</p>
<pre> cgi.fix_pathinfo = 1
 cgi.force_redirect = 0
</pre>
<p>另一个解决办法是使用IIS的自定义404重定向，需要你的主机允许你添加自定义的404重定向，这个办法的好处是不用安装任何第三方的mod_rewrite模块，也不用以<tt>/index.php/</tt>开头。
</p>
<ul><li>  <a rel="nofollow" class="external free" href="http://www.keyboardface.com/IIS-Permalinks/">http://www.keyboardface.com/IIS-Permalinks/</a></li>
<li>  另一种简单的自定义404重定向解决方案：<a rel="nofollow" class="external free" href="http://tech.einaregilsson.com/2007/07/30/pretty-wordpress-permalinks-on-iis/">http://tech.einaregilsson.com/2007/07/30/pretty-wordpress-permalinks-on-iis/</a></li>
<li>  更新版本的自定义404解决方案： <a rel="nofollow" class="external free" href="http://www.ikailo.com/94/url-modrewrite-workaround-iis-60/">http://www.ikailo.com/94/url-modrewrite-workaround-iis-60/</a></li></ul>
<p>如果有服务器的管理员权限，可以看看下面的方案：
</p>
<ul><li>  <a rel="nofollow" class="external text" href="http://www.binaryfortress.com/wordpress-url-rewrite/">WordPress URL Rewrite Plugin for blogs running on IIS</a> by Binary Fortress Software</li>
<li> <a rel="nofollow" class="external text" href="http://www.deanlee.cn/wordpress/url-rewriting-for-wordpress-under-iis/">URL Rewriting for WordPress under IIS</a> by Dean Lee</li></ul>
<h2><span class="mw-headline" id=".E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E9.81.87.E5.88.B0.E7.9A.84.E9.97.AE.E9.A2.98.E5.92.8C.E8.A7.A3.E5.86.B3">固定链接遇到的问题和解决</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=15" title="Edit section: 固定链接遇到的问题和解决">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".htaccess.E4.B8.80.E8.88.AC.E6.80.A7.E9.97.AE.E9.A2.98"><tt>.htaccess</tt>一般性问题</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=16" title="Edit section: .htaccess一般性问题">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>对于WordPress没有生成.htaccess文件或不将新的重写规则写到已存在的.htaccess文件，原因各种各样，按照下面的步骤，一步一步，注意，当且仅当上一步无效后再继续下一步。
</p>
<ol>
<li><b>修改权限：</b>  使用<a href="https://codex.wordpress.org/Changing_File_Permissions" title="Changing File Permissions"><tt>chmod</tt></a>将 <tt>.htaccess</tt>的权限改为666，以便使用<a href="https://codex.wordpress.org/Editing_Files#Using_the_Built-in_Editor" title="Editing Files">template editor</a>编辑，但是不推荐这样做，因为这样的话其他有编辑模板权限的用户也能编辑.htaccess，可以将权限改为660。</li>
<li><b>服务器阻止修改：</b> 服务器有可能阻止了<tt>SERVER_SOFTWARE</tt>变量的设置，导致生成.htaccess失败。如果确定使用的是Apache，修改<tt>wp-includes/vars.php</tt>，跟着下面的步骤走。</li>
<ul>
<li>在WordPress的管理面板用内置的文件编辑器打开<tt>wp-includes/vars.php</tt>，先登录，然后点管理(Manage)，然后文件(Files)，滚动到底部，在“其他文件”输入<tt>wp-includes/vars.php</tt></li>
查找<pre style="font-size:0.7em">$is_apache = strstr($_SERVER['SERVER_SOFTWARE'], 'Apache')&#160;? 1&#160;: 0;</pre>并替换为<pre style="font-size:0.7em">// $is_apache = strstr($_SERVER['SERVER_SOFTWARE'], 'Apache')&#160;? 1&#160;: 0;</pre>
<li>在<pre style="font-size:0.7em">// $is_apache = strstr($_SERVER['SERVER_SOFTWARE'], 'Apache')&#160;? 1&#160;: 0;</pre>下面新添一行<pre style="font-size:0.8em">$is_apache = 1;</pre></li>
</ul>
<li><b>XAMPP用户(Windows)：</b> <a rel="nofollow" class="external text" href="http://www.apachefriends.org/en/xampp.html">XAMPP</a>有些版本默认没有打开<tt>mod_rewrite</tt>(虽然<i>是</i>通过Apache编译的)。修改<tt>apache/conf/httpd.conf</tt>，注释掉<tt>LoadModule rewrite_module modules/mod_rewrite.so</tt> (如删掉前面的#)。</li>
</ol>
<h2><span class="mw-headline" id=".E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E3.80.81.htaccess.E5.92.8CMS_Frontpage">固定链接、.htaccess和MS Frontpage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=17" title="Edit section: 固定链接、.htaccess和MS Frontpage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>注：许多服务器自带<tt>mod_frontpage</tt>，而且很多时候Frontpage Server Extensions也安装了。即使不使用Frontpage，几乎所有的二进制发布都包含了mod_fronpage和server extensions。由于server extensions和apache的通讯方式(和<tt>httpd.conf</tt>)，当你访问博客时，很可能出现500错误或空白页面，但是管理页面却是好的，这种问题都是因为<tt>extensions/mod_frontpage</tt>安装在服务器上造成的。
</p><p>Wordpress和Frontpage Extensions可以和平共处，但是固定链接不会正常工作而且<b>任何</b>对固定链接结构的修改都会导致Frontpage server extensions出错，是往.htaccess添加新的重写规则的缘故。<i>下面是解决办法。</i>
</p>
<h3><span class="mw-headline" id=".E5.BF.AB.E9.80.9F.E4.BF.AE.E5.A4.8DFrontpage.E6.88.96.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5">快速修复Frontpage或固定链接</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=18" title="Edit section: 快速修复Frontpage或固定链接">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>修复Frontpage Extensions：</b> 如果你不在乎固定链接，仅仅希望MS Frontpage server extensions正常工作，很简单，只要编辑.htaccess，删除WordPress相关的重写规则。
</p><p><b>修复固定链接：</b> 如果你不在乎Frontpage(但是你的主机供应商安装了extensions)
</p><p>需要删除(或通过主机供应商)MS Frontpage server extensions，或编辑.htaccess，删除所有Frontpage相关的代码，仅保留WordPress mod_rewrite代码。 
</p>
<h3><span class="mw-headline" id=".E5.90.8C.E6.97.B6.E4.BD.BF.E7.94.A8FrontPage.E5.92.8C.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5">同时使用FrontPage和固定链接</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=19" title="Edit section: 同时使用FrontPage和固定链接">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>终于，有个办法了。</b>
</p><p>直到目前为止，在论坛上有很多讨论这个问题的帖子，却没有一个解决方案。
</p><p>一般来说, 在安装了Microsoft FrontPage Server extensions的Unix服务器上，WordPress工作得很好，你可以编辑和发布文章(使用<a rel="nofollow" class="external text" href="http://www.microsoft.com/frontpage/">Microsoft FrontPage</a>) &#8212; <b>直到</b> &#8212; 你改变了固定链接的结构(如/2005/04/)。
</p><p>然后, 问题是FrontPage使用.htaccess来配置它的"publishing" and "web authoring"，而WordPress mod_rewrite重写规则也访问.htaccess，一旦WordPress mod_rewrite重写规则代码添加到这个文件，杯具了 &#8212; 固定链接和Frontpage Server extensions都挂了。
</p><p>我试了很多种办法，包括在重写规则中"忽略"<tt>%{HTTP_USERAGENT)%</tt>、在<tt>httpd.conf</tt>使用另外的文件名<tt>.wpaccess</tt> 等等，但是都失败了。
</p><p>最后的方法很简单，是我无意中发现的。
</p><p>如果你想同时使用FrontPage和WordPress，跟着下面的步骤。
</p><p>Microsoft FrontPage创建了目录
</p>
<pre>_vti_bin</pre>
有两个子目录<pre>_vti_adm</pre>和<pre>_vti_aut</pre>
<p>包含<tt>.htaccess</tt>的目录和根目录
</p><p>在所有上面目录的<tt>.htaccess</tt>的第一行添加一行：
</p>
<pre>
Options +FollowSymlinks
</pre>
<p>有可能在第一行已经有下面的代码
</p>
<pre>Options None</pre> 
<p>保存，然后所有都正常了，包括FrontPage和固定链接。
</p>
<h3><span class="mw-headline" id=".E9.95.BF.E9.95.BF.E7.9A.84.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5">长长的固定链接</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=20" title="Edit section: 长长的固定链接">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>在email、文章评论和聊天室中使用长长的固定链接时，有些链接被截断了或只有一部分被当作链接，就像下面的例子。
</p>
<div style="margin: 5px; padding:5px">
<tt style="font-weight:bold; color:#036; text-decoration:underline; font-size:0.9em"><a rel="nofollow" class="external free" href="http://yourdomain.example.com/2005/10/4/article-about-joe-fred-sally-and-bog">http://yourdomain.example.com/2005/10/4/article-about-joe-fred-sally-and-bog</a></tt></div>
<p>变成：
</p>
<div style="margin:5px; padding 5px"><tt> <span style="font-weight:bold; color:#036; text-decoration:underline; font-size:0.9em"><a rel="nofollow" class="external free" href="http://yourdomain.example.com/2005/10/4/article">http://yourdomain.example.com/2005/10/4/article</a></span>-about-joe-fred-sally-and-bog</tt>
</div>
<p>点击不完整的地址会出现404错误。如果你很喜欢使用长的固定链接，请采取下面的步骤来避免链接被截断的问题。
</p><p>1. 检查是否正在使用固定链接<strong class="selflink">固定链接</strong>
</p><p>2. 编辑<tt>.htaccess</tt>，添加如下代码：
</p>
<pre style="font-size: 0.7em">
 RewriteRule ^post/([0-9]+)?/?([0-9]+)?/?$ /index.php?p=$1&amp;page=$2 [QSA]
</pre>
<p>3. 测试。使用文章ID号，然后在浏览器里输入如下地址，正常的话应该跳转到对应的文章：
</p>
<pre>
http://yourdomain.example.com/post/(the ID #)
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id=".E4.BF.AE.E5.A4.8D.E5.85.B6.E4.BB.96.E9.97.AE.E9.A2.98">修复其他问题</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=21" title="Edit section: 修复其他问题">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>如果正确生成<tt>.htaccess</tt>但固定链接还是有问题，到<a rel="nofollow" class="external text" href="http://www.wordpress.org/support">WordPress论坛</a>How To版发帖子求助。
</p>
<dl><dt><b>AllowOverride Not Enabled</b>&#160;</dt>
<dd>服务器可能没打开AllowOverride。如果<tt>httpd.config</tt>的AllowOverride设置的是<tt>None</tt>，那<tt>.htaccess</tt>将被忽略。正确的设置：</dd></dl>
<pre>
 &lt;Directory /&gt;
    Options FollowSymLinks
    AllowOverride All
 &lt;/Directory&gt;
</pre>
<p>也需要在DocumentRoot打开AllowOverride：
</p>
<pre>
 &lt;Directory /var/www/html&gt;
    # ... other directives...
    AllowOverride All
 &lt;/Directory&gt;
</pre>
<dl><dd>对于使用Mac OS X服务器的，还要修改<tt>/etc/httpd/sites/</tt>中的AllowOverride。</dd></dl>
<dl><dd>如果不想设为all，参考<a rel="nofollow" class="external text" href="http://httpd.apache.org/docs-2.0/mod/core.html#allowoverride">Apache Core Features</a>.</dd></dl>
<dl><dt>翻页有问题&#160;</dt>
<dd>有时候翻到第二页或其他页不能正常工作，地址如下：</dd></dl>
<pre> http://www.example.com/page/2/
 http://www.example.name/category/categoryname/page/2/
 http://www.example/year/month/day/page/2/
 http://www.example/year/month/page/2/
</pre>
<dl><dd>访问上面的任何一个链接，出现提示说: "Sorry, no posts match that criteria." </dd></dl>
<dl><dd>这是<tt>.htaccess</tt>造成的，删掉，重新生成就好了。 </dd></dl>
<dl><dd>如果还不行，到这里看看<a rel="nofollow" class="external text" href="http://wordpress.org/support/topic/51613#post-283222">this support post</a>.</dd></dl>
<dl><dt><b>固定链接正常，但没有页面返回</b>&#160;</dt>
<dd>PHP 4.4.x and 5.x的某些版本有bug导致Apache 2.x某些版本的mod_rewrite出错，更多细节请查看http://bugs.php.net/bug.php?id=35096 and <a rel="nofollow" class="external free" href="http://bugs.php.net/bug.php?id=35059">http://bugs.php.net/bug.php?id=35059</a>.</dd></dl>
<h3><span class="mw-headline" id=".E6.9B.B4.E5.A4.9A.E5.B8.AE.E5.8A.A9">更多帮助</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=22" title="Edit section: 更多帮助">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>如果上面的所有步骤都无效，在<a rel="nofollow" class="external text" href="http://codex.wordpress.org">Codex</a>、<a href="https://codex.wordpress.org/Troubleshooting" title="Troubleshooting">Troubleshooting</a>或<a rel="nofollow" class="external text" href="http://wordpress.org/support/">Support Forum</a>搜索你的问题。最后还是不行的话，<a href="https://codex.wordpress.org/Submitting_Bugs" title="Submitting Bugs" class="mw-redirect">报bug</a>.
</p>
<h2><span class="mw-headline" id=".E5.B0.8F.E8.B4.B4.E5.A3.AB.E5.92.8C.E5.B0.8F.E6.8A.80.E5.B7.A7">小贴士和小技巧</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=23" title="Edit section: 小贴士和小技巧">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>如果想在Google News上展示你的网站，你的链接地址至少以3个数字结尾，通过%postname%-%post_id%很容易做到，最后生成的URL如http://mysite.com/cooking-tips-tricks-344。
</p>
<h3><span class="mw-headline" id=".E5.9C.B0.E5.9D.80.E4.BB.A5.html.E7.BB.93.E5.B0.BE">地址以<tt>.html</tt>结尾</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=24" title="Edit section: 地址以.html结尾">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>使用结构标签很容易做到这一点，如
</p>
<pre> /%year%/%monthnum%/%day%/%postname%.html
</pre>
<p>会生成http://yoursite.com/2006/01/01/happy-newyear.html 这样的地址。
</p><p>需要注意的是，这并不会生成静态的html文件，仅仅是用<tt>.html</tt>作为后缀，页面还是动态生成的。这是否会给SEO带来好处还无定论，但是当你想从WordPress搬家时，将带来很多便利，因为所有页面可以很容易地变成静态的，而且地址不用改变。
</p>
<h3><span class="mw-headline" id=".E9.81.BF.E5.85.8D.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E5.9C.B0.E5.9D.80.E8.A2.AB.E8.A7.A3.E6.9E.90.E6.88.90.E5.BD.92.E6.A1.A3.E9.93.BE.E6.8E.A5">避免固定链接地址被解析成归档链接</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=25" title="Edit section: 避免固定链接地址被解析成归档链接">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>也许有的人一天顶多发一篇博客，于是使用%year%%monthnum%%day%这样的固定链接，这样的链接会解析成这一天所有的文章，为了避免这个问题，最好使用%year%%monthnum%%day%%hour%。
</p>
<h3><span class="mw-headline" id=".E6.A3.80.E6.9F.A5.E5.9B.BA.E5.AE.9A.E9.93.BE.E6.8E.A5.E7.BB.93.E6.9E.84">检查固定链接结构</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=26" title="Edit section: 检查固定链接结构">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>检查博客是否有固定链接结构，使用如下代码：
</p>
<pre>if ( get_option('permalink_structure')&#160;!= '' ) { echo 'permalinks enabled' }</pre>
<h2><span class="mw-headline" id=".E5.8F.A6.E8.AF.B7.E5.8F.82.E9.98.85">另请参阅</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=27" title="Edit section: 另请参阅">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a href="https://codex.wordpress.org/Linking_Posts_Pages_and_Categories" title="Linking Posts Pages and Categories">Linking Posts Pages and Categories</a> 怎样从一篇文章链到另一篇文章</li></ul>
<h2><span class="mw-headline" id=".E5.A4.96.E9.83.A8.E8.B5.84.E6.BA.90">外部资源</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5&amp;action=edit&amp;section=28" title="Edit section: 外部资源">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="http://www.prelovac.com/vladimir/optimizing-wordpress-permalinks">Optimize WordPress Permalinks</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.cypherhackz.net/archives/2007/03/25/beautify-your-urls-with-permalinks/">Beautify your URLs with Permalinks</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.emilyrobbins.com/how-to-blog/how-to-configure-wordpress-to-create-search-engine-friendly-urls-for-permalinks-242.htm">How to Configure WordPress to Create Search Engine Friendly URLs for Permalinks</a></li>
<li> <a rel="nofollow" class="external text" href="http://perishablepress.com/press/2006/06/14/the-htaccess-rules-for-all-wordpress-permalinks/">The htaccess Rules for all WordPress Permalinks</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.yourhtmlsource.com/sitemanagement/urlrewriting.html">URL Rewriting Tutorial</a> &#8212; the whats, hows and wherefores.</li>
<li> <a rel="nofollow" class="external text" href="http://www.tomrafteryit.net/boost-search-engine-optimisation-seo-using-permalinks/">Boost Search Engine Optimisation (SEO) using Permalinks</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.homebizpal.com/blogging/wordpress/understanding-wordpress-permalinks/">Understanding WordPress Permalinks</a> </li>
<li> <a rel="nofollow" class="external text" href="http://perishablepress.com/press/2008/01/16/comprehensive-htaccess-canonicalization-for-wordpress/">WordPress Permalink Canonicalization using htaccess</a></li>
<li> <a rel="nofollow" class="external text" href="http://perishablepress.com/press/2008/02/06/permalink-evolution-customize-and-optimize-your-dated-wordpress-permalinks/">Customize and Optimize Your Dated WordPress Permalinks</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.micronovae.com/ModRewrite/articles/CleanPermalinksWordpress.html">Clean Permalinks for IIS using .htaccess</a></li>
<li> <a rel="nofollow" class="external text" href="http://chrisjohnston.org/2009/setting-up-a-wordpress-blog-on-lighttpd">The Easiest Lighttpd Rewrite Rule</a></li>
<li> <a rel="nofollow" class="external text" href="http://blog.nix.is/lighttpd-rewrite-rules-for-wordpress">URL rewriting with lighttpd</a></li>
<li> <a rel="nofollow" class="external text" href="http://sudhaker.com/web-development/wordpress/wordpress-permalinks-lighttpd.html">Permalinks with Lighttpd</a> &#8212; using mod_magnet; works on 1.4.2+</li></ul>

<!-- 
NewPP limit report
Cached time: 20190429054855
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.044 seconds
Real time usage: 0.052 seconds
Preprocessor visited node count: 380/1000000
Preprocessor generated node count: 1162/1000000
Post‐expand include size: 1492/2097152 bytes
Template argument size: 795/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.635      1 - -total
100.00%   13.635      1 - Template:Languages
  8.52%    1.162      1 - Template:lo
  8.16%    1.113      1 - Template:mya
  8.15%    1.111      1 - Template:ja
  7.69%    1.048      1 - Template:th
  7.60%    1.037      1 - Template:en
  7.60%    1.036      1 - Template:fr
  7.37%    1.005      1 - Template:pt-br
  7.28%    0.993      1 - Template:nl
-->
