<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option" title="Справочник по функциям/update option">Русский</a> • 

 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_Value"><span class="tocnumber">4</span> <span class="toctext">Return Value</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Example"><span class="tocnumber">5</span> <span class="toctext">Example</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Updating_Core_Options"><span class="tocnumber">5.1</span> <span class="toctext">Updating Core Options</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Updating_Custom_Options"><span class="tocnumber">5.2</span> <span class="toctext">Updating Custom Options</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Notes"><span class="tocnumber">5.3</span> <span class="toctext">Notes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Change_Log"><span class="tocnumber">6</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Source_File"><span class="tocnumber">7</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related"><span class="tocnumber">8</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Use the function <tt>update_option()</tt> to update a named option/value pair to the options database table.
</p><p>This function may be used in place of <a href="https://codex.wordpress.org/Function_Reference/add_option" title="Function Reference/add option"><tt>add_option</tt></a>, although it is not as flexible.  <tt>update_option</tt> will check to see if the option already exists.  If it does not, it will be added with <tt>add_option('option_name', 'option_value')</tt>.  Unless you need to specify the optional arguments of <tt>add_option()</tt>, <tt>update_option()</tt> is a useful catch-all for both adding and updating options.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;update_option</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$option</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$new_value</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$autoload&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$option</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Name of the option to update. Must not exceed 64 characters. A list of valid default options to update can be found at the <a href="https://codex.wordpress.org/Option_Reference" title="Option Reference">Option Reference</a>.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$newvalue</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>required</i>) The NEW value for this option name. This value can be an integer, string, array, or object.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$autoload</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>optional</i>)  Whether to load the option when WordPress starts up. For existing options `$autoload` can only be updated using `update_option()` if `$value` is also changed. Accepts 'yes' or true to enable, 'no' or false to disable. For non-existent options, the default value is 'yes'.
<dl><dd> Default: null</dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_Value">Return Value</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=4" title="Edit section: Return Value">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt></tt> <tt style="color:gray">(<a href="https://codex.wordpress.org/Glossary#Boolean" title="Glossary"><i>boolean</i></a>)</tt>&#160;</dt>
<dd> True if option value has changed, false if not or if update failed.</dd></dl>
<h2><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=5" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Updating_Core_Options">Updating Core Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=6" title="Edit section: Updating Core Options">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Set the default comment status to 'closed':
</p>
<pre>update_option( 'default_comment_status', 'closed' );
</pre>
<p>This option is usually set by from the Settings &gt; Discussion administration panel. See the <a href="https://codex.wordpress.org/Option_Reference" title="Option Reference">Option Reference</a> for a full list of options used by WordPress Core.
</p>
<h3><span class="mw-headline" id="Updating_Custom_Options">Updating Custom Options</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=7" title="Edit section: Updating Custom Options">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>You can also create your own custom options. To update the option <tt>'myhack_extraction_length'</tt> with the value 255, we would do this:
</p>
<pre>update_option( 'myhack_extraction_length', 255 );
</pre>
<p>This will automatically add the option if it does not exist. However, if we don't want this option to be autoloaded, we have to add it with <tt>add_option()</tt>. In this example, we update the option if it already exists, and if it does not exist we use <tt>add_option()</tt> and set <tt>$autoload</tt> to "no".
</p>
<pre>
&lt;?php

$option_name = 'myhack_extraction_length'&#160;;
$new_value = '255'&#160;;

if ( get_option( $option_name )&#160;!== false ) {

    // The option already exists, so we just update it.
    update_option( $option_name, $new_value );

} else {

    // The option hasn't been added yet. We'll add it with $autoload set to 'no'.
    $deprecated = null;
    $autoload = 'no';
    add_option( $option_name, $new_value, $deprecated, $autoload );
}

?&gt;
</pre>
<h3><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=8" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Upon getting an option in code, this option value will be cached.  If you modify any options outside of the <a rel="nofollow" class="external text" href="https://codex.wordpress.org/Options_API">Options API</a>, then try to update an option that's already cached, this will fail updating and return false. You can use the following method to clear the options cache before trying to get or update the options on the same request:
</p>
<pre>
&lt;?php
wp_cache_delete ( 'alloptions', 'options' );
?&gt;
</pre>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=9" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Version_4.2" title="Version 4.2">4.2.0</a>: $autoload parameter added</li>
<li> Since: <a href="https://codex.wordpress.org/Version_1.0" title="Version 1.0">1.0.0</a></li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=10" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>update_option()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/option.php#L0">wp-includes/option.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/update_option&amp;action=edit&amp;section=11" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Options_API" title="Options API"><b>Options API</b></a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/add_option" title="Function Reference/add option">add_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/add_blog_option" title="Function Reference/add blog option">add_blog_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/add_site_option" title="Function Reference/add site option">add_site_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/delete_option" title="Function Reference/delete option">delete_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/delete_blog_option" title="Function Reference/delete blog option">delete_blog_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/delete_site_option" title="Function Reference/delete site option">delete_site_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/form_option" title="Function Reference/form option">form_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_option" title="Function Reference/get option">get_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_blog_option" title="Function Reference/get blog option">get_blog_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_site_option" title="Function Reference/get site option">get_site_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_site_url" title="Function Reference/get site url">get_site_url()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_user_option" title="Function Reference/get user option">get_user_option()</a></li>
<li> <strong class="selflink">update_option()</strong></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/update_blog_option" title="Function Reference/update blog option">update_blog_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/update_site_option" title="Function Reference/update site option">update_site_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/update_user_option" title="Function Reference/update user option">update_user_option()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_load_alloptions" title="Function Reference/wp load alloptions">wp_load_alloptions()</a></li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190211003944
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.036 seconds
Preprocessor visited node count: 177/1000000
Preprocessor generated node count: 700/1000000
Post‐expand include size: 3260/2097152 bytes
Template argument size: 1048/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   17.079      1 - -total
 32.37%    5.528      1 - Template:Languages
 17.20%    2.938      1 - Template:Tag_Footer
 15.21%    2.597      1 - Template:en
 14.91%    2.547      1 - Template:Trac
 12.85%    2.195      3 - Template:Parameter
  9.49%    1.620      1 - Template:Option_Tags
  7.79%    1.330      1 - Template:Return
  7.32%    1.251      1 - Template:ru
  6.75%    1.153      1 - Template:Message
-->
