<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Function">Reference/esc url 日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_Values"><span class="tocnumber">4</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Adding_a_link_to_home"><span class="tocnumber">5.1</span> <span class="toctext">Adding a link to home</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Changelog"><span class="tocnumber">7</span> <span class="toctext">Changelog</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Source_File"><span class="tocnumber">8</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related"><span class="tocnumber">9</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Always use esc_url when sanitizing URLs (in text nodes, attribute nodes or anywhere else). Rejects URLs that do not have one of the provided whitelisted protocols (defaulting to http, https, ftp, ftps, mailto, news, irc, gopher, nntp, feed, and telnet), eliminates invalid characters, and removes dangerous characters.
This function encodes characters as HTML entities: use it when generating an (X)HTML or XML document. Encodes ampersands (&amp;) and single quotes (') as numeric entity references (&amp;#038, &amp;#039).
</p><p>If the URL appears to be an absolute link that does not contain a scheme, prepends <code>http://</code>. Please note that relative urls (/my-url/parameter2/), as well as anchors (#myanchor) and parameter items (?myparam=yes) are also allowed and filtered as a special case, without prepending the default protocol to the filtered url.
</p><p>Replaces the deprecated clean_url().
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;esc_url</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$url</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$protocols</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$_context&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$url</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The URL to be cleaned.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$protocols</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of acceptable protocols. Defaults to '<tt>http</tt>', '<tt>https</tt>', '<tt>ftp</tt>', '<tt>ftps</tt>', '<tt>mailto</tt>', '<tt>news</tt>', '<tt>irc</tt>', '<tt>gopher</tt>', '<tt>nntp</tt>', '<tt>feed</tt>', '<tt>telnet</tt>', '<tt>mms</tt>', '<tt>rtsp</tt>', '<tt>svn</tt>', '<tt>tel</tt>', '<tt>fax</tt>', '<tt>xmpp</tt>' if not set.
<dl><dd> Default: null</dd></dl></dd></dl>
<dl><dt> <tt>$_context</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) How the URL will be used. Default is '<tt>display</tt>' which makes the value safe for display purposes. No other contexts have special processing in the core code. 
<dl><dd> Default: 'display'</dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_Values">Return Values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=4" title="Edit section: Return Values">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> (string)&#160;</dt>
<dd> The cleaned <tt>$url</tt> after the '<tt>esc_url</tt>' filter is applied.  An empty string is returned if <tt>$url</tt> specifies a protocol other than those in <tt>$protocols</tt>, or if <tt>$url</tt> contains an empty string.</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=5" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Adding_a_link_to_home">Adding a link to home</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=6" title="Edit section: Adding a link to home">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>As featured in the <b>Twenty Thirteen</b> theme, although simplified for the sake of the example
</p>
<pre>&lt;a href="&lt;?php echo esc_url( home_url( '/' ) );&#160;?&gt;"&gt;Home&lt;/a&gt;</pre>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=7" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h2><span class="mw-headline" id="Changelog">Changelog</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=8" title="Edit section: Changelog">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Since: 2.8</li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=9" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>esc_url()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/formatting.php#L0">wp-includes/formatting.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/esc_url&amp;action=edit&amp;section=10" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>See: <a href="https://codex.wordpress.org/Data_Validation" title="Data Validation">Data Validation</a> article for an in-depth discussion of input and output sanitization.
</p>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/esc_html" title="Function Reference/esc html">esc_html()</a>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/esc_html_2" title="Function Reference/esc html 2">esc_html__()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/esc_html_e" title="Function Reference/esc html e">esc_html_e()</a></li></ul></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/esc_attr" title="Function Reference/esc attr">esc_attr()</a>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/esc_attr_2" title="Function Reference/esc attr 2">esc_attr__()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/esc_attr_e" title="Function Reference/esc attr e">esc_attr_e()</a></li></ul></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/esc_js" title="Function Reference/esc js">esc_js()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/esc_sql" title="Function Reference/esc sql">esc_sql()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/esc_textarea" title="Function Reference/esc textarea">esc_textarea()</a></li>
<li> <strong class="selflink">esc_url()</strong>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/esc_url_raw" title="Function Reference/esc url raw"> esc_url_raw()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/urlencode" title="Function Reference/urlencode">urlencode()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/urlencode_deep" title="Function Reference/urlencode deep">urlencode_deep()</a></li></ul></li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190211003816
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.137 seconds
Preprocessor visited node count: 153/1000000
Preprocessor generated node count: 574/1000000
Post‐expand include size: 2696/2097152 bytes
Template argument size: 957/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   57.731      1 - -total
 15.54%    8.972      1 - Template:Tag_Footer
 13.47%    7.779      1 - Template:Message
  9.78%    5.647      3 - Template:Parameter
  7.11%    4.107      1 - Template:Languages
  4.59%    2.652      1 - Template:Trac
  2.21%    1.278      1 - Template:ja
  2.18%    1.260      1 - Template:en
  1.91%    1.101      1 - Template:Esc_Tags
  1.75%    1.013      1 - Template:CurrentVersion
-->
