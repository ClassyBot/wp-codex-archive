<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/it:Riferimento_funzioni/get_post_ancestors" title="it:Riferimento funzioni/get post ancestors">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/get">post ancestors 日本語</a> 
<a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/get_post_ancestors" title="Справочник по функциям/get post ancestors">Русский</a> • 

 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_Values"><span class="tocnumber">4</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Get_Ancestors_Page_Slug"><span class="tocnumber">5.1</span> <span class="toctext">Get Ancestors Page Slug</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Get_Ancestors_Post_Meta"><span class="tocnumber">5.2</span> <span class="toctext">Get Ancestors Post Meta</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Get_Ancestors_Page_Thumbnail"><span class="tocnumber">5.3</span> <span class="toctext">Get Ancestors Page Thumbnail</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Change_Log"><span class="tocnumber">7</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Source_File"><span class="tocnumber">8</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Related"><span class="tocnumber">9</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Retrieve the parents of the post based on the post ID.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;get_post_ancestors</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post&#160;</span><span style="color: #007700">)&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$post</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>required</i>) Post ID or post object.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_Values">Return Values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=4" title="Edit section: Return Values">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>(array)</tt>&#160;</dt>
<dd> Array of IDs or empty if no ancestors are found.  The direct parent is returned as the first value in the array. The highest level ancestor is returned as the last value in the array.</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=5" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Get_Ancestors_Page_Slug">Get Ancestors Page Slug</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=6" title="Edit section: Get Ancestors Page Slug">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This example returns the highest page {slug} in a tree and uses it as a Body_Class, so the parent and all children will have the same Body Class!  
</p><p>This example for a twenty eleven child theme in the header.php file 
</p>
<pre>
&lt;/head&gt;

&lt;?php
/* Get the Page Slug to Use as a Body Class, this will only return a value on pages! */
$class = '';
/* is it a page */
if( is_page() ) { 
	global $post;
        /* Get an array of Ancestors and Parents if they exist */
	$parents = get_post_ancestors( $post-&gt;ID );
        /* Get the top Level page-&gt;ID count base 1, array base 0 so -1 */ 
	$id = ($parents)&#160;? $parents[count($parents)-1]: $post-&gt;ID;
	/* Get the parent and set the $class with the page slug (post_name) */
        $parent = get_post( $id );
	$class = $parent-&gt;post_name;
}
?&gt;

&lt;body &lt;?php body_class( $class );&#160;?&gt;&gt;
</pre>
<h3><span class="mw-headline" id="Get_Ancestors_Post_Meta">Get Ancestors Post Meta</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=7" title="Edit section: Get Ancestors Post Meta">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If we did not want to use the page slug, we could use a custom field eg: 'body_class', on the top level page and set the class in the post meta.
</p>
<pre>
&lt;/head&gt;

&lt;?php
$class = '';
if( is_page() ) {
	global $post;
	$parents = get_post_ancestors( $post-&gt;ID );
	$id = ($parents)&#160;? $parents[count($parents)-1]: $post-&gt;ID;
	$class = get_post_meta( $id, 'body_class', true );
}
?&gt;

&lt;body &lt;?php body_class( $class );&#160;?&gt;&gt;

</pre>
<h3><span class="mw-headline" id="Get_Ancestors_Page_Thumbnail">Get Ancestors Page Thumbnail</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=8" title="Edit section: Get Ancestors Page Thumbnail">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Get the top level page thumbnail and display it!
</p>
<pre>
&lt;?php
global $post;
$parents = get_post_ancestors( $post-&gt;ID );
/* Get the ID of the 'top most' Page if not return current page ID */
$id = ($parents)&#160;? $parents[count($parents)-1]: $post-&gt;ID;
if(has_post_thumbnail( $id )) {
	get_the_post_thumbnail( $id, 'thumbnail');
}
?&gt;
</pre>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=9" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=10" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since: 2.5.0
</p>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=11" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>get_post_ancestors()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/post.php#L0">wp-includes/post.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_post_ancestors&amp;action=edit&amp;section=12" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>


