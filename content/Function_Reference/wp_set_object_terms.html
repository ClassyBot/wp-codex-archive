<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/de:Funktionsreferenz/wp_set_object_terms" title="de:Funktionsreferenz/wp set object terms">Deutsch</a> • 
<a href="https://codex.wordpress.org/it:Riferimento_funzioni/wp_set_object_terms" title="it:Riferimento funzioni/wp set object terms">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/wp">set object terms 日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Returns"><span class="tocnumber">4</span> <span class="toctext">Returns</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Hooks"><span class="tocnumber">5</span> <span class="toctext">Hooks</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Examples"><span class="tocnumber">6</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Setting_a_Post.27s_Categories"><span class="tocnumber">6.1</span> <span class="toctext">Setting a Post's Categories</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Adding_Categories_to_a_Post"><span class="tocnumber">6.2</span> <span class="toctext">Adding Categories to a Post</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Removing_All_Categories_From_a_Post"><span class="tocnumber">6.3</span> <span class="toctext">Removing All Categories From a Post</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Change_Log"><span class="tocnumber">7</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Notes"><span class="tocnumber">8</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Source_File"><span class="tocnumber">9</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Related"><span class="tocnumber">10</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Relates an object (post, link etc) to a term and taxonomy type (tag, category, etc). Creates the term and taxonomy relationship if it doesn't already exist.
</p><p>A relationship means that the term is grouped in or belongs to the taxonomy. A term has no meaning until it is given context by defining which taxonomy it exists under.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;wp_set_object_terms</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$object_id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$terms</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$taxonomy</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$append&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$object_id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Int" title="How to Pass Tag Parameters"><i>int</i></a>) (<i>required</i>) The object to relate to, such as post ID.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$terms</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array.2Fint.2Fstring" title="How to Pass Tag Parameters"><i>array/int/string</i></a>) (<i>required</i>) The slug or id of the term (such as category or tag IDs), will replace all existing related terms in this taxonomy. To clear or remove all terms from an object, pass an empty string or NULL. Integers are interpreted as tag IDs. <b>Warning:</b> some functions may return term_ids as strings which will be interpreted as slugs consisting of numeric characters! 
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$taxonomy</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array.2Fstring" title="How to Pass Tag Parameters"><i>array/string</i></a>) (<i>required</i>) The context in which to relate the term to the object. This can be category, post_tag, or the name of another taxonomy.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$append</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Bool" title="How to Pass Tag Parameters"><i>bool</i></a>) (<i>optional</i>) If true, terms will be appended to the object. If false, terms will replace existing terms
<dl><dd> Default: False</dd></dl></dd></dl>
<h2><span class="mw-headline" id="Returns">Returns</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=4" title="Edit section: Returns">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> (mixed)&#160;</dt>
<dd></dd></dl>
<ul><li> (array) An array of the terms ( as <b>term_taxonomy_ids&#160;!</b> ) affected if successful</li>
<li> (array) An empty array if the $terms argument was NULL or empty - successmessage for the removing of the term</li>
<li> (<a href="https://codex.wordpress.org/Class_Reference/WP_Error" title="Class Reference/WP Error">WP_Error</a>) The WordPress Error object on invalid taxonomy (<tt>'invalid_taxonomy'</tt>).</li>
<li> (string) The first offending term if a term given in the $terms parameter is named incorrectly. (Invalid term ids are accepted and inserted).</li></ul>
<h2><span class="mw-headline" id="Hooks">Hooks</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=5" title="Edit section: Hooks">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Action <b>set_object_terms</b> in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/taxonomy.php#L0">wp-includes/taxonomy.php</a></code></li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=6" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Setting_a_Post.27s_Categories">Setting a Post's Categories</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=7" title="Edit section: Setting a Post's Categories">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you want to set the categories of a post with the ID of 42:
</p>
<pre>
&lt;?php

// An array of IDs of categories we want this post to have.
$cat_ids = array( 6, 8 );

/*
 * If this was coming from the database or another source, we would need to make sure
 * these were integers:

$cat_ids = array_map( 'intval', $cat_ids );
$cat_ids = array_unique( $cat_ids );

 */

$term_taxonomy_ids = wp_set_object_terms( 42, $cat_ids, 'category' );

if ( is_wp_error( $term_taxonomy_ids ) ) {
	// There was an error somewhere and the terms couldn't be set.
} else {
	// Success! The post's categories were set.
}
</pre>
<p>Note that this will set a post's categories to be exactly the array you pass, any categories the post previously had will be removed from the post. See the next example.
</p>
<h3><span class="mw-headline" id="Adding_Categories_to_a_Post">Adding Categories to a Post</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=8" title="Edit section: Adding Categories to a Post">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you want to add categories to a post while keeping the categories it has already, you need to pass <tt>true</tt> for the <tt>$append</tt> parameter:
</p>
<pre>
&lt;?php

// An array of IDs of categories we to add to this post.
$cat_ids = array( 6, 8 );

/*
 * If this was coming from the database or another source, we would need to make sure
 * these were integers:

$cat_ids = array_map( 'intval', $cat_ids );
$cat_ids = array_unique( $cat_ids );

 */

// Add these categories, note the last argument is true.
$term_taxonomy_ids = wp_set_object_terms( 42, $cat_ids, 'category', true );

if ( is_wp_error( $term_taxonomy_ids ) ) {
	// There was an error somewhere and the terms couldn't be set.
} else {
	// Success! These categories were added to the post.
}
</pre>
<h3><span class="mw-headline" id="Removing_All_Categories_From_a_Post">Removing All Categories From a Post</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=9" title="Edit section: Removing All Categories From a Post">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you want to clear/remove all categories from a post, you can pass an empty value for <tt>$terms</tt>:
</p>
<pre>
&lt;?php wp_set_object_terms( 42, null, 'category' );&#160;?&gt;
</pre>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=10" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Version_3.5" title="Version 3.5">3.5.0</a>: Return <a href="https://codex.wordpress.org/Class_Reference/WP_Error" title="Class Reference/WP Error">WP_Error</a> object upon database insertion failure.</li>
<li> Since: <a href="https://codex.wordpress.org/Version_2.3" title="Version 2.3">2.3.0</a></li></ul>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=11" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a href="https://codex.wordpress.org/Function_Reference/wp_set_post_terms" title="Function Reference/wp set post terms">wp_set_object_terms()</a> <b>does not check</b> if there is a a relationship between the object (=post type) and the taxonomy (like post_tag, category or a custom taxonomy). Because of that, any existing term will be paired with the object, whether or not there is a connection between the object and the taxonomy (of this particular term)!! ( <a rel="nofollow" class="external text" href="http://www.wp-entwickler.at/vorsicht-beim-setzen-von-terms-mit-wp-set-object-terms/">Further information in <b>german</b></a>)</li></ul>
<ul><li>Perhaps the <a href="https://codex.wordpress.org/Function_Reference/wp_set_post_terms" title="Function Reference/wp set post terms">wp_set_post_terms()</a> is a more useful function, since it checks the values​​, converting taxonomies separated by commas and validating hierarchical terms in integers.</li></ul>
<ul><li>It may be confusing but the returned array consists of <b>term_taxonomy_ids</b> instead of term_ids.</li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=12" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>wp_set_object_terms()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/taxonomy.php#L0">wp-includes/taxonomy.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_set_object_terms&amp;action=edit&amp;section=13" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/is_term" title="Function Reference/is term"> is_term()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/term_exists" title="Function Reference/term exists"> term_exists()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_objects_in_term" title="Function Reference/get objects in term"> get_objects_in_term()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_term" title="Function Reference/get term"> get_term()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_term_by" title="Function Reference/get term by"> get_term_by()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_term_children" title="Function Reference/get term children"> get_term_children()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_term_link" title="Function Reference/get term link"> get_term_link()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_terms" title="Function Reference/get terms"> get_terms()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_the_terms" title="Function Reference/get the terms"> get_the_terms()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_the_term_list" title="Function Reference/get the term list"> get_the_term_list()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/has_term" title="Function Reference/has term"> has_term()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/sanitize_term" title="Function Reference/sanitize term"> sanitize term()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/the_terms" title="Function Reference/the terms"> the_terms()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_object_taxonomies" title="Function Reference/get object taxonomies"> get_object_taxonomies()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/is_object_in_taxonomy" title="Function Reference/is object in taxonomy"> is_object_in_taxonomy()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/the_taxonomies" title="Function Reference/the taxonomies"> the_taxonomies()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_get_object_terms" title="Function Reference/wp get object terms"> wp_get_object_terms()</a></li>
<li> <strong class="selflink"> wp_set_object_terms()</strong></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_get_post_terms" title="Function Reference/wp get post terms"> wp_get_post_terms()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_set_post_terms" title="Function Reference/wp set post terms"> wp_set_post_terms()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_delete_object_term_relationships" title="Function Reference/wp delete object term relationships"> wp_delete_object_term_relationships()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_remove_object_terms" title="Function Reference/wp remove object terms"> wp_remove_object_terms()</a></li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190429054016
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.032 seconds
Real time usage: 0.432 seconds
Preprocessor visited node count: 220/1000000
Preprocessor generated node count: 774/1000000
Post‐expand include size: 4074/2097152 bytes
Template argument size: 1363/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  198.920      1 - -total
 33.86%   67.352      1 - Template:Languages
 21.18%   42.123      2 - Template:Trac
 17.09%   33.999      4 - Template:Parameter
 15.35%   30.541      1 - Template:Tag_Footer
 11.70%   23.283      1 - Template:Term_Tags
  8.99%   17.876      1 - Template:en
  8.07%   16.048      1 - Template:de
  7.83%   15.581      1 - Template:ja
  6.01%   11.946      1 - Template:it
-->
