<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type" title="zh-cn:函数参考/register post type">中文(简体)</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/register_post_type">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Taxonomies"><span class="tocnumber">2</span> <span class="toctext">Taxonomies</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Reserved_Post_Types"><span class="tocnumber">2.1</span> <span class="toctext">Reserved Post Types</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Parameters"><span class="tocnumber">4</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Arguments"><span class="tocnumber">4.1</span> <span class="toctext">Arguments</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Return_Values"><span class="tocnumber">5</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Example"><span class="tocnumber">6</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Flushing_Rewrite_on_Activation"><span class="tocnumber">7</span> <span class="toctext">Flushing Rewrite on Activation</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Notes"><span class="tocnumber">8</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Change_Log"><span class="tocnumber">9</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Source_File"><span class="tocnumber">10</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Resources"><span class="tocnumber">11</span> <span class="toctext">Resources</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Generators"><span class="tocnumber">11.1</span> <span class="toctext">Generators</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Plugins"><span class="tocnumber">11.2</span> <span class="toctext">Plugins</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Related"><span class="tocnumber">12</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Create or modify a <a href="https://codex.wordpress.org/Glossary#Post_Type" title="Glossary">post type</a>. <strong class="selflink">register_post_type</strong> should only be invoked through the <tt><a href="https://codex.wordpress.org/Plugin_API/Action_Reference/init" title="Plugin API/Action Reference/init"> 'init'</a></tt> action. It will not work if called before <tt>'init'</tt>, and aspects of the newly created or modified post type will work incorrectly if called later.
</p><p>Note: You can use this function in themes and plugins.  However, if you use it in a theme, your post type will disappear from the admin if a user switches away from your theme. See <a href="https://codex.wordpress.org/Must_Use_Plugins" title="Must Use Plugins">Must Use Plugins</a> If you want to keep your changes e.g. post type, even if you switch between your themes.
</p>
<h2><span class="mw-headline" id="Taxonomies">Taxonomies</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=2" title="Edit section: Taxonomies">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>When registering a post type, always register your taxonomies using the <code>taxonomies</code> argument.  If you do not, the taxonomies and post type will not be recognized as connected when using filters such as <code>parse_query</code> or <code>pre_get_posts</code>. This can lead to unexpected results and failures.
</p><p>Even if you register a taxonomy while creating the post type, you must still explicitly register and define the taxonomy using <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy" title="Function Reference/register taxonomy">register_taxonomy()</a>.
</p>
<h3><span class="mw-headline" id="Reserved_Post_Types">Reserved Post Types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=3" title="Edit section: Reserved Post Types">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following post types are reserved and are already used by WordPress.
</p>
<ul><li> post</li>
<li> page</li>
<li> attachment</li>
<li> revision</li>
<li> nav_menu_item</li>
<li> custom_css</li>
<li> customize_changeset</li>
<li> oembed_cache</li>
<li> user_request</li>
<li> wp_block</li></ul>
<p>In addition, the following post types should not be used as they interfere with other WordPress functions.
</p>
<ul><li> action</li>
<li> author</li>
<li> order</li>
<li> theme</li></ul>
<p>In general, you should always prefix your post types, or specify a custom `query_var`, to avoid conflicting with existing WordPress query variables.
</p><p>More information: <a href="https://codex.wordpress.org/Post_Types" title="Post Types">Post Types</a>.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=4" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;register_post_type</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_type</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$args&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=5" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div id="post_type">
<dl><dt> <tt>$post_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Post type. (<b>max. 20 characters, cannot contain capital letters, underscores or spaces</b>)
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
</div>
<div id="args">
<dl><dt> <tt>$args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of arguments.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
</div>
<h3><span class="mw-headline" id="Arguments">Arguments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=6" title="Edit section: Arguments">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div id="label">
<dl><dt> <tt>label</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) A <b>plural</b> descriptive name for the post type marked for translation.
<dl><dd> Default: Value of $labels['name']</dd></dl></dd></dl>
</div>
<div id="labels">
<dl><dt> <tt>labels</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) labels - An array of labels for this post type. By default, post labels are used for non-hierarchical post types and page labels for hierarchical ones.
<dl><dd> Default: if empty, 'name' is set to value of 'label', and 'singular_name' is set to value of 'name'.</dd></dl>
<ul><li> '<b>name'</b> - general name for the post type, usually plural. The same and overridden by $post_type_object-&gt;label. Default is Posts/Pages</li>
<li> '<b>singular_name'</b> - name for one object of this post type. Default is Post/Page</li>
<li> '<b>add_new'</b> -  the add new text.  The default is "Add New" for both hierarchical and non-hierarchical post types. When internationalizing this string, please use a <a href="https://codex.wordpress.org/I18n_for_WordPress_Developers#Disambiguation_by_context" title="I18n for WordPress Developers">gettext context</a> matching your post type. Example: <code>_x('Add New', 'product');</code></li>
<li> '<b>add_new_item'</b> - Default is Add New Post/Add New Page.</li>
<li> '<b>edit_item'</b> - Default is Edit Post/Edit Page.</li>
<li> '<b>new_item'</b> - Default is New Post/New Page.</li>
<li> '<b>view_item'</b> - Default is View Post/View Page.</li>
<li> '<b>view_items'</b> - Label for viewing post type archives. Default is 'View Posts' / 'View Pages'.</li>
<li> '<b>search_items'</b> - Default is Search Posts/Search Pages.</li>
<li> '<b>not_found'</b> - Default is No posts found/No pages found.</li>
<li> '<b>not_found_in_trash'</b> - Default is No posts found in Trash/No pages found in Trash.</li>
<li> '<b>parent_item_colon'</b> - This string isn't used on non-hierarchical types. In hierarchical ones the default is 'Parent Page:'.</li>
<li> '<b>all_items'</b> - String for the submenu. Default is All Posts/All Pages.</li>
<li> '<b>archives'</b> - String for use with archives in nav menus. Default is Post Archives/Page Archives.</li>
<li> '<b>attributes'</b> - Label for the attributes meta box. Default is 'Post Attributes' / 'Page Attributes'.</li>
<li> '<b>insert_into_item'</b> - String for the media frame button. Default is Insert into post/Insert into page.</li>
<li> '<b>uploaded_to_this_item'</b> - String for the media frame filter. Default is Uploaded to this post/Uploaded to this page.</li>
<li> '<b>featured_image'</b> - Default is Featured Image.</li>
<li> '<b>set_featured_image'</b> - Default is Set featured image.</li>
<li> '<b>remove_featured_image'</b> - Default is Remove featured image.</li>
<li> '<b>use_featured_image'</b> - Default is Use as featured image.</li>
<li> '<b>menu_name'</b> - Default is the same as `name`.</li>
<li> '<b>filter_items_list'</b> - String for the table views hidden heading.</li>
<li> '<b>items_list_navigation'</b> - String for the table pagination hidden heading.</li>
<li> '<b>items_list'</b> - String for the table hidden heading.</li>
<li> '<b>name_admin_bar'</b> - String for use in New in Admin menu bar. Default is the same as `singular_name`.</li></ul></dd></dl>
<p>There are five additional labels have been made available for custom post types since wordpress 5.0
</p>
<dl><dd><ul><li> '<b>item_published'</b> - The label used in the editor notice after publishing a post. Default “Post published.” / “Page published.”</li>
<li> '<b>item_published_privately'</b> - The label used in the editor notice after publishing a private post. Default “Post published privately.” / “Page published privately.”</li>
<li> '<b>item_reverted_to_draft'</b> - The label used in the editor notice after reverting a post to draft. Default “Post reverted to draft.” / “Page reverted to draft.”</li>
<li> '<b>item_scheduled'</b> - The label used in the editor notice after scheduling a post to be published at a later date. Default “Post scheduled.” / “Page scheduled.”</li>
<li> '<b>item_updated'</b> - The label used in the editor notice after updating a post. Default “Post updated.” / “Page updated.”</li></ul></dd></dl>
<p>Above, the first default value is for non-hierarchical post types (like posts) and the second one is for hierarchical post types (like pages).
</p>
</div>
<div id="description">
<dl><dt> <tt>description</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) A short descriptive summary of what the post type is.
<dl><dd> Default: blank</dd></dl></dd></dl>
<p>The only way to read that field is using this code:
</p>
<pre>$obj = get_post_type_object( 'your_post_type_name' ); 
echo esc_html( $obj-&gt;description );</pre>
</div>
<div id="public">
<dl><dt> <tt>public</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Controls how the type is visible to authors (<code>show_in_nav_menus</code>, <code>show_ui</code>) and readers (<code>exclude_from_search</code>, <code>publicly_queryable</code>).
<dl><dd> Default: false</dd></dl>
<ul><li> '<b>true'</b> - Implies <code>exclude_from_search: false</code>, <code>publicly_queryable: true</code>, <code>show_in_nav_menus: true</code>, and <code>show_ui:true</code>. The built-in types <i>attachment</i>, <i>page</i>, and <i>post</i> are similar to this.</li>
<li> '<b>false'</b> - Implies <code>exclude_from_search: true</code>, <code>publicly_queryable: false</code>, <code>show_in_nav_menus: false</code>, and <code>show_ui: false</code>. The built-in types <i>nav_menu_item</i> and <i>revision</i> are similar to this. Best used if you'll provide your own editing and viewing interfaces (or none at all).</li></ul></dd>
<dd> If no value is specified for <code>exclude_from_search</code>, <code>publicly_queryable</code>, <code>show_in_nav_menus</code>, or <code>show_ui</code>, they inherit their values from <code>public</code>.</dd></dl>
</div>
<div id="exclude_from_search">
<dl><dt> <tt>exclude_from_search</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>importance</i>) Whether to exclude posts with this post type from front end search results.
<dl><dd> Default: value of the <b>opposite</b> of <i>public</i> argument</dd></dl>
<ul><li> 'true' - site/?s=search-term will <b>not</b> include posts of this post type.</li>
<li> 'false' - site/?s=search-term will include posts of this post type.</li></ul></dd>
<dd></dd>
<dd> <b>Note:</b> If you want to show the posts's list that are associated to taxonomy's terms, you must set exclude_from_search to false (ie&#160;: for call site_domaine/?taxonomy_slug=term_slug or site_domaine/taxonomy_slug/term_slug). If you set to true, on the taxonomy page (ex: taxonomy.php) WordPress will not find your posts and/or pagination will make 404 error...</dd></dl>
</div>
<div id="publicly_queryable">
<dl><dt> <tt>publicly_queryable</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether queries can be performed on the front end as part of parse_request().
<dl><dd> Default: value of <i>public</i> argument</dd></dl></dd>
<dd> <b>Note:</b> The queries affected include the following (also initiated when rewrites are handled)
<ul><li>&#160;?post_type={post_type_key}</li>
<li>&#160;?{post_type_key}={single_post_slug}</li>
<li>&#160;?{post_type_query_var}={single_post_slug}</li></ul></dd></dl>
<dl><dd> <b>Note:</b> If query_var is empty, null, or a boolean FALSE, WordPress will still attempt to interpret it (4.2.2) and previews/views of your custom post will return 404s.</dd></dl>
</div>
<div id="show_ui">
<dl><dt> <tt>show_ui</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to generate a default UI for managing this post type in the admin.
<dl><dd> Default: value of <i>public</i> argument</dd></dl>
<ul><li> 'false' - do not display a user-interface for this post type</li>
<li> 'true' - display a user-interface (admin panel) for this post type</li></ul></dd>
<dd> Note: <tt>_built-in</tt> post types, such as post and page, are intentionally set to false.</dd></dl>
</div>
<div id="show_in_nav_menus">
<dl><dt> <tt>show_in_nav_menus</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether post_type is available for selection in navigation menus.
<dl><dd> Default: value of <i>public</i> argument</dd></dl></dd></dl>
</div>
<div id="show_in_menu">
<dl><dt> <tt>show_in_menu</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) Where to show the post type in the admin menu. <tt>show_ui</tt> must be <tt>true</tt>.
<dl><dd> Default: value of show_ui argument</dd></dl>
<ul><li> 'false' - do not display in the admin menu</li>
<li> 'true' - display as a top level menu</li>
<li> 'some string' - If an existing top level page such as 'tools.php' or 'edit.php?post_type=page', the post type will be placed as a sub menu of that.</li></ul></dd>
<dd> Note: When using 'some string' to show as a submenu of a menu page created by a plugin, this item will become the first submenu item, and replace the location of the top-level link. If this isn't desired, the plugin that creates the menu page needs to set the add_action priority for admin_menu to 9 or lower.</dd>
<dd> Note: As this one inherits its value from <tt>show_ui</tt>, which inherits its value from <tt>public</tt>, it seems to be the most reliable property to determine, if a post type is meant to be publicly useable. At least this works for <tt>_builtin</tt> post types and only gives back <tt>post</tt> and <tt>page</tt>.</dd></dl>
</div>
<div id="show_in_admin_bar">
<dl><dt> <tt>show_in_admin_bar</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to make this post type available in the WordPress admin bar.
<dl><dd> Default: value of the show_in_menu argument</dd></dl></dd></dl>
</div>
<div id="menu_position">
<dl><dt> <tt>menu_position</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>optional</i>) The position in the menu order the post type should appear. <tt>show_in_menu</tt> must be <tt>true</tt>.
<dl><dd> Default: null - defaults to below Comments</dd></dl>
<ul><li> 5  - below Posts</li>
<li> 10 - below Media</li>
<li> 15 - below Links</li>
<li> 20 - below Pages</li>
<li> 25 - below comments</li>
<li> 60 - below first separator</li>
<li> 65 - below Plugins</li>
<li> 70 - below Users</li>
<li> 75 - below Tools</li>
<li> 80 - below Settings</li>
<li> 100 - below second separator</li></ul></dd></dl>
</div>
<div id="menu_icon">
<dl><dt> <tt>menu_icon</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The url to the icon to be used for this menu or the name of the icon from the iconfont <a rel="nofollow" class="external autonumber" href="https://github.com/WordPress/dashicons">[1]</a>
<dl><dd> Default: null - defaults to the posts icon</dd></dl></dd></dl>
<dl><dd> Examples
<ul><li> 'dashicons-video-alt' (Uses the video icon from Dashicons<a rel="nofollow" class="external autonumber" href="https://developer.wordpress.org/resource/dashicons/">[2]</a>)</li>
<li> 'get_template_directory_uri() . "/images/cutom-posttype-icon.png"' (Use a image located in the current theme)</li>
<li> 'data:image/svg+xml;base64,' . base64_encode( "&lt;svg version="1.1" xmlns="<a rel="nofollow" class="external free" href="http://www.w3.org/2000/svg">http://www.w3.org/2000/svg</a>" xmlns:xlink="<a rel="nofollow" class="external free" href="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</a>" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 459 459"&gt; &lt;path fill="black" d="POINTS"/&gt;&lt;/svg&gt;" )' (directly embedding a svg with 'fill="black"' will allow correct colors. Also see <a rel="nofollow" class="external autonumber" href="https://stackoverflow.com/a/42265057/933065">[3]</a>)</li></ul></dd></dl>
</div>
<div id="capability_type">
<dl><dt> <tt>capability_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String_or_array" title="How to Pass Tag Parameters"><i>string or array</i></a>) (<i>optional</i>) The string to use to build the read, edit, and delete capabilities. May be passed as an array to allow for alternative plurals when using this argument as a base to construct the capabilities, e.g. array('story', 'stories') the first array element will be used for the singular capabilities and the second array element for the plural capabilities, this is instead of the auto generated version if no array is given which would be "storys".  The 'capability_type' parameter is used as a base to construct capabilities unless they are explicitly set with the 'capabilities' parameter. It seems that `map_meta_cap` needs to be set to false or null, to make this work (see note 2 below).
<dl><dd> Default: "post"</dd></dl></dd></dl>
<dl><dd> <b>Example</b> with "book" or "array( 'book', 'books' )" value, it will generate the 7 capabilities equal to set capabilities parameter to this&#160;:</dd></dl>
<pre>
'capabilities' =&gt; array(
  'edit_post'          =&gt; 'edit_book', 
  'read_post'          =&gt; 'read_book', 
  'delete_post'        =&gt; 'delete_book', 
  'edit_posts'         =&gt; 'edit_books', 
  'edit_others_posts'  =&gt; 'edit_others_books', 
  'publish_posts'      =&gt; 'publish_books',       
  'read_private_posts' =&gt; 'read_private_books', 
  'create_posts'       =&gt; 'edit_books', 
),
</pre>
<dl><dd> <b>Note 1:</b> The "create_posts" capability correspond to "edit_books" so it become equal to "edit_posts".</dd>
<dd> <b>Note 2:</b> See capabilities note 2 about meta capabilities mapping for custom post type.</dd></dl>
<dl><dd> You can take a look into the <tt>$GLOBALS['wp_post_types']['your_cpt_name']</tt> array, then you'll see the following:</dd></dl>
<pre>
[cap] =&gt; stdClass Object
	(
		// Meta capabilities
		[edit_post] =&gt; edit_book
		[read_post] =&gt; read_book
		[delete_post] =&gt; delete_book

		// Primitive capabilities used outside of map_meta_cap():
		[edit_posts] =&gt; edit_books
		[edit_others_posts] =&gt; edit_others_books
		[publish_posts] =&gt; publish_books
		[read_private_posts] =&gt; read_private_books

		// Primitive capabilities used within map_meta_cap():
		[create_posts] =&gt; edit_books
	)
</pre>
<p><br />
</p>
<dl><dd> Some of the capability types that can be used (probably not exhaustive list):
<ul><li> post (default)</li>
<li> page </li></ul></dd></dl>
<dl><dd> These built-in types cannot be used:
<ul><li> attachment</li>
<li> mediapage</li></ul></dd></dl>
<dl><dd> <b>Note 3:</b> If you use capabilities parameter, capability_type complete your capabilities.</dd></dl>
</div>
<div id="capabilities">
<dl><dt> <tt>capabilities</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of the capabilities for this post type.
<dl><dd> Default: capability_type is used to construct</dd></dl></dd>
<dd> By default, seven keys are accepted as part of the capabilities array:
<ul><li> edit_post, read_post, and delete_post - These three are <b>meta capabilities</b>, which are then generally mapped to corresponding <b>primitive capabilities</b> depending on the context, for example the post being edited/read/deleted and the user or role being checked. Thus these capabilities would generally not be granted directly to users or roles.</li>
<li> edit_posts - Controls whether objects of this post type can be edited.</li>
<li>  edit_others_posts - Controls whether objects of this type owned by other users can be edited. If the post type does not support an author, then this will behave like edit_posts.</li>
<li> publish_posts - Controls publishing objects of this post type.</li>
<li> read_private_posts - Controls whether private objects can be read.</li></ul></dd>
<dd> <b>Note 1:</b> those last four <b>primitive capabilities</b> are checked in core in various locations.</dd></dl>
<dl><dd> There are also eight other <b>primitive capabilities</b> which are not referenced directly in core, except in map_meta_cap(), which takes the three aforementioned <b>meta capabilities</b> and translates them into one or more <b>primitive capabilities</b> that must then be checked against the user or role, depending on the context.  These additional capabilities are only used in map_meta_cap(). Thus, they are only assigned by default if the post type is registered with <b>the 'map_meta_cap' argument set to true</b> (default is false).
<ul><li> read - Controls whether objects of this post type can be read.</li>
<li> delete_posts - Controls whether objects of this post type can be deleted.</li>
<li> delete_private_posts - Controls whether private objects can be deleted.</li>
<li> delete_published_posts - Controls whether published objects can be deleted.</li>
<li> delete_others_posts - Controls whether objects owned by other users can be  can be deleted. If the post type does not support an author, then this will behave like delete_posts.</li>
<li> edit_private_posts - Controls whether private objects can be edited.</li>
<li> edit_published_posts - Controls whether published objects can be edited.</li>
<li> create_posts - Controls whether new objects can be created</li></ul></dd></dl>
<dl><dd> <b>Note 2:</b> In fact, when some user have a role with just the post type capabilies it isn't enough for create new object... It's because meta capabilities for custom post types were not being automatically mapped, so we couldn’t have granular control over permissions. To map meta capabilities for custom post types we can use map_meta_cap hook as it's explain here&#160;: <a rel="nofollow" class="external free" href="http://justintadlock.com/archives/2010/07/10/meta-capabilities-for-custom-post-types">http://justintadlock.com/archives/2010/07/10/meta-capabilities-for-custom-post-types</a>.</dd></dl>
<p>If you assign a <tt>'capability_type'</tt> and then take a look into the <tt>$GLOBALS['wp_post_types']['your_cpt_name']</tt> array, then you'll see the following:
</p>
<pre>
[cap] =&gt; stdClass Object
(
	// Meta capabilities

	[edit_post]		 =&gt; "edit_{$capability_type}"
	[read_post]		 =&gt; "read_{$capability_type}"
	[delete_post]		 =&gt; "delete_{$capability_type}"

	// Primitive capabilities used outside of map_meta_cap():

	[edit_posts]		 =&gt; "edit_{$capability_type}s"
	[edit_others_posts]	 =&gt; "edit_others_{$capability_type}s"
	[publish_posts]		 =&gt; "publish_{$capability_type}s"
	[read_private_posts]	 =&gt; "read_private_{$capability_type}s"

	// Primitive capabilities used within map_meta_cap():

	[read]                   =&gt; "read",
	[delete_posts]           =&gt; "delete_{$capability_type}s"
	[delete_private_posts]   =&gt; "delete_private_{$capability_type}s"
	[delete_published_posts] =&gt; "delete_published_{$capability_type}s"
	[delete_others_posts]    =&gt; "delete_others_{$capability_type}s"
	[edit_private_posts]     =&gt; "edit_private_{$capability_type}s"
	[edit_published_posts]   =&gt; "edit_published_{$capability_type}s"
	[create_posts]           =&gt; "edit_{$capability_type}s"
)
</pre>
<p><i>Note the "s" at the end of plural capabilities.</i>
</p>
</div>
<div id="map_meta_cap">
<dl><dt> <tt>map_meta_cap</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to use the internal default meta capability handling.
<dl><dd> Default: null</dd></dl></dd></dl>
<dl><dd> <b>Note:</b> If set it to false then standard admin role can't edit the posts types. Then the edit_post capability must be added to all roles to add or edit the posts types.</dd></dl>
</div>
<div id="hierarchical">
<dl><dt> <tt>hierarchical</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether the post type is hierarchical (e.g. page). Allows Parent to be specified. The 'supports' parameter should contain 'page-attributes' to show the parent select box on the editor page.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dd> <b>Note:</b> this parameter was intended for <a href="https://codex.wordpress.org/Pages" title="Pages">Pages</a>. Be careful when choosing it for your custom post type - if you are planning to have very many entries (say - over 2-3 thousand), you will run into load time issues. With this parameter set to <i>true</i> WordPress will fetch all IDs of that particular post type on each administration page load for your post type. Servers with limited memory resources may also be challenged by this parameter being set to <i>true</i>.</dd></dl>
</div>
<div id="supports">
<dl><dt> <tt>supports</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array.2Fboolean" title="How to Pass Tag Parameters"><i>array/boolean</i></a>) (<i>optional</i>) An alias for calling <a href="https://codex.wordpress.org/Function_Reference/add_post_type_support" title="Function Reference/add post type support">add_post_type_support()</a> directly. As of <a href="https://codex.wordpress.org/Version_3.5" title="Version 3.5">3.5</a>, boolean <strong>false</strong> can be passed as value instead of an array to prevent default (title and editor) behavior.
<dl><dd> Default: title and editor</dd></dl>
<ul><li> 'title'</li>
<li> 'editor' (content)</li>
<li> 'author'</li>
<li> 'thumbnail' (featured image, current theme must also support <a href="https://codex.wordpress.org/Post_Thumbnails" title="Post Thumbnails">post-thumbnails</a>)</li>
<li> 'excerpt'</li>
<li> 'trackbacks'</li>
<li> 'custom-fields'</li>
<li> 'comments' (also will see comment count balloon on edit screen)</li>
<li> 'revisions' (will store revisions)</li>
<li> 'page-attributes' (menu order, hierarchical must be true to show Parent option)</li>
<li> 'post-formats' add post formats, see <a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">Post Formats</a></li></ul></dd></dl>
<dl><dd> <b>Note:</b> When you use custom post type that use thumbnails remember to check that the theme also supports thumbnails or use <a href="https://codex.wordpress.org/add_theme_support" title="add theme support" class="mw-redirect">add_theme_support</a> function.</dd></dl>
</div>
<div id="register_meta_box_cb">
<dl><dt> <tt>register_meta_box_cb</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Callback" title="How to Pass Tag Parameters"><i>callback </i></a>) (<i>optional</i>) Provide a callback function that will be called when setting up the meta boxes for the edit form. The callback function takes one argument <tt>$post</tt>, which contains the <tt>WP_Post</tt> object for the currently edited post. Do <a href="https://codex.wordpress.org/Function_Reference/remove_meta_box" title="Function Reference/remove meta box">remove_meta_box()</a> and <a href="https://codex.wordpress.org/Function_Reference/add_meta_box" title="Function Reference/add meta box">add_meta_box()</a> calls in the callback.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
</div>
<div id="taxonomies">
<dl><dt> <tt>taxonomies</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of registered taxonomies like <code>category</code> or <code>post_tag</code> that will be used with this post type. This can be used in lieu of calling <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy_for_object_type" title="Function Reference/register taxonomy for object type">register_taxonomy_for_object_type()</a> directly.  Custom taxonomies still need to be registered with <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy" title="Function Reference/register taxonomy">register_taxonomy()</a>.
<dl><dd> Default: no taxonomies</dd></dl></dd></dl>
</div>
<div id="has_archive">
<dl><dt> <tt>has_archive</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) Enables post type archives. Will use <tt>$post_type</tt> as archive slug by default.
<dl><dd> Default: false</dd></dl></dd>
<dd> Note: Will generate the proper rewrite rules if <tt>rewrite</tt> is enabled. Also use <tt>rewrite</tt> to change the slug used. If string, it should be translatable.</dd></dl>
</div>
<div id="rewrite">
<dl><dt> <tt>rewrite</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_array" title="How to Pass Tag Parameters"><i>boolean or array</i></a>) (<i>optional</i>) Triggers the handling of rewrites for this post type. To prevent rewrites, set to false.
<dl><dd> Default: true and use $post_type as slug</dd></dl></dd>
<dd>$args array 
<ul><li> <tt>'slug' =&gt; string</tt> Customize the permalink structure slug. Defaults to the <tt>$post_type</tt> value. Should be translatable.</li>
<li> <tt>'with_front' =&gt; bool</tt> Should the permalink structure be prepended with the front base. (example: if your permalink structure is /blog/, then your links will be: false-&gt;/news/, true-&gt;/blog/news/). Defaults to true</li>
<li> <tt>'feeds' =&gt; bool</tt> Should a feed permalink structure be built for this post type. Defaults to <tt>has_archive</tt> value.</li>
<li> <tt>'pages' =&gt; bool</tt> Should the permalink structure provide for pagination. Defaults to true</li>
<li> <tt>'ep_mask' =&gt; const</tt> <i>As of 3.4</i> Assign an endpoint mask for this post type. For more info see <a href="https://codex.wordpress.org/Rewrite_API/add_rewrite_endpoint" title="Rewrite API/add rewrite endpoint">Rewrite API/add_rewrite_endpoint</a>, and <a rel="nofollow" class="external text" href="https://make.wordpress.org/plugins/2012/06/07/rewrite-endpoints-api/">Make WordPress Plugins summary of endpoints</a>.
<ul><li> If not specified, then it inherits from <tt>permalink_epmask</tt>(if <tt>permalink_epmask</tt> is set), otherwise defaults to <tt>EP_PERMALINK</tt>.</li></ul></li></ul></dd>
<dd> <b>Note:</b> If registering a post type inside of a plugin, call <a href="https://codex.wordpress.org/Function_Reference/flush_rewrite_rules" title="Function Reference/flush rewrite rules">flush_rewrite_rules()</a> in your activation and deactivation hook (see <a href="#Flushing_Rewrite_on_Activation">Flushing Rewrite on Activation</a> below). If flush_rewrite_rules() is not used, then you will have to manually go to Settings &gt; Permalinks and refresh your permalink structure before your custom post type will show the correct structure.</dd></dl>
</div>
<div id="permalink_epmask">
<dl><dt> <tt>permalink_epmask</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The default rewrite endpoint bitmasks. For more info see <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/12605">Trac Ticket 12605</a> and this - <a rel="nofollow" class="external text" href="http://make.wordpress.org/plugins/2012/06/07/rewrite-endpoints-api/">Make WordPress Plugins summary of endpoints</a>.
<dl><dd> Default: EP_PERMALINK</dd></dl></dd>
<dd> <b>Note:</b> In 3.4, this argument is effectively replaced by the <tt>'ep_mask'</tt> argument under <tt>rewrite</tt>.</dd></dl>
</div>
<div id="query_var">
<dl><dt> <tt>query_var</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) Sets the <tt>query_var</tt> key for this post type.
<dl><dd> Default: true - set to $post_type</dd></dl>
<ul><li> 'false' - Disables <tt>query_var</tt> key use. A post type cannot be loaded at /?{query_var}={single_post_slug}</li>
<li> 'string' - /?{query_var_string}={single_post_slug} will work as intended.</li></ul></dd></dl>
<dl><dd><b>Note:</b> The query_var parameter has no effect if the ‘publicly_queryable’ parameter is set to false. query_var adds the custom post type’s query var to the built-in query_vars array so that WordPress will recognize it. WordPress removes any query var not included in that array.</dd></dl>
<dl><dd>If set to true it allows you to request a custom posts type (book) using this: example.com/?book=life-of-pi<br /></dd>
<dd>If set to a string rather than true (for example ‘publication’), you can do: example.com/?publication=life-of-pi</dd></dl>
</div>
<div id="can_export">
<dl><dt> <tt>can_export</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Can this post_type be exported.
<dl><dd> Default: true</dd></dl></dd></dl>
</div>
<div id="delete_with_user">
<dl><dt> <tt>delete_with_user</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to delete posts of this type when deleting a user. If true, posts of this type belonging to the user will be moved to trash when then user is deleted. If false, posts of this type belonging to the user will <b>not</b> be trashed or deleted. If not set (the default), posts are trashed if <tt>post_type_supports('author')</tt>. Otherwise posts are not trashed or deleted.
<dl><dd> Default: null</dd></dl></dd></dl>
</div>
<div id="show_in_rest">
<dl><dt> <tt>show_in_rest</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to expose this post type in the REST API. Must be true to enable the Gutenberg editor.
<dl><dd> Default: false</dd></dl></dd></dl>
</div>
<div id="rest_base">
<dl><dt> <tt>rest_base</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The base slug that this post type will use when accessed using the REST API.
<dl><dd> Default: $post_type</dd></dl></dd></dl>
</div>
<div id="rest_controller_class">
<dl><dt> <tt>rest_controller_class</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) An optional custom controller to use instead of WP_REST_Posts_Controller. Must be a subclass of WP_REST_Controller.
<dl><dd> Default: WP_REST_Posts_Controller</dd></dl></dd></dl>
</div>
<div id="_builtin">
<dl><dt> <tt>_builtin</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>not for general use</i>) Whether this post type is a native or "built-in" post_type. <b>Note: this Codex entry is for documentation - core developers recommend you don't use this when registering your own post type</b>
<dl><dd> Default: false</dd></dl>
<ul><li> 'false' - default this is a custom post type</li>
<li> 'true' - this is a built-in native post type (post, page, attachment, revision, nav_menu_item)</li></ul></dd></dl>
</div>
<div id="_edit_link">
<dl><dt> <tt>_edit_link</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>not for general use</i>) Link to edit an entry with this post type. <b>Note: this Codex entry is for documentation - core developers recommend you don't use this when registering your own post type</b>
<dl><dd> Default: </dd></dl>
<ul><li> 'post.php?post=%d'</li></ul></dd></dl>
<h2><span class="mw-headline" id="Return_Values">Return Values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=7" title="Edit section: Return Values">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> (<tt><a href="/index.php?title=Class_Reference/WP_Post_Type&amp;action=edit&amp;redlink=1" class="new" title="Class Reference/WP Post Type (page does not exist)">WP_Post_Type</a></tt> | <tt><a href="https://codex.wordpress.org/Class_Reference/WP_Error" title="Class Reference/WP Error">WP_Error</a></tt>)&#160;</dt>
<dd>The registered post type object, or an error object.</dd></dl>
<h2><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=8" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>An example of registering a post type called "book".
</p><p>Basic:
</p>
<pre>
function codex_custom_init() {
    $args = array(
      'public' =&gt; true,
      'label'  =&gt; 'Books'
    );
    register_post_type( 'book', $args );
}
add_action( 'init', 'codex_custom_init' );
</pre>
<p>Elaborate:
</p>
<pre>
add_action( 'init', 'codex_book_init' );
/**
 * Register a book post type.
 *
 * @link http://codex.wordpress.org/Function_Reference/register_post_type
 */
function codex_book_init() {
	$labels = array(
		'name'               =&gt; _x( 'Books', 'post type general name', 'your-plugin-textdomain' ),
		'singular_name'      =&gt; _x( 'Book', 'post type singular name', 'your-plugin-textdomain' ),
		'menu_name'          =&gt; _x( 'Books', 'admin menu', 'your-plugin-textdomain' ),
		'name_admin_bar'     =&gt; _x( 'Book', 'add new on admin bar', 'your-plugin-textdomain' ),
		'add_new'            =&gt; _x( 'Add New', 'book', 'your-plugin-textdomain' ),
		'add_new_item'       =&gt; __( 'Add New Book', 'your-plugin-textdomain' ),
		'new_item'           =&gt; __( 'New Book', 'your-plugin-textdomain' ),
		'edit_item'          =&gt; __( 'Edit Book', 'your-plugin-textdomain' ),
		'view_item'          =&gt; __( 'View Book', 'your-plugin-textdomain' ),
		'all_items'          =&gt; __( 'All Books', 'your-plugin-textdomain' ),
		'search_items'       =&gt; __( 'Search Books', 'your-plugin-textdomain' ),
		'parent_item_colon'  =&gt; __( 'Parent Books:', 'your-plugin-textdomain' ),
		'not_found'          =&gt; __( 'No books found.', 'your-plugin-textdomain' ),
		'not_found_in_trash' =&gt; __( 'No books found in Trash.', 'your-plugin-textdomain' )
	);

	$args = array(
		'labels'             =&gt; $labels,
		'description'        =&gt; __( 'Description.', 'your-plugin-textdomain' ),
		'public'             =&gt; true,
		'publicly_queryable' =&gt; true,
		'show_ui'            =&gt; true,
		'show_in_menu'       =&gt; true,
		'query_var'          =&gt; true,
		'rewrite'            =&gt; array( 'slug' =&gt; 'book' ),
		'capability_type'    =&gt; 'post',
		'has_archive'        =&gt; true,
		'hierarchical'       =&gt; false,
		'menu_position'      =&gt; null,
		'supports'           =&gt; array( 'title', 'editor', 'author', 'thumbnail', 'excerpt', 'comments' )
	);

	register_post_type( 'book', $args );
}
</pre>
<p>Customizing the messages:
</p>
<pre>
add_filter( 'post_updated_messages', 'codex_book_updated_messages' );
/**
 * Book update messages.
 *
 * See /wp-admin/edit-form-advanced.php
 *
 * @param array $messages Existing post update messages.
 *
 * @return array Amended post update messages with new CPT update messages.
 */
function codex_book_updated_messages( $messages ) {
	$post             = get_post();
	$post_type        = get_post_type( $post );
	$post_type_object = get_post_type_object( $post_type );

	$messages['book'] = array(
		0  =&gt; '', // Unused. Messages start at index 1.
		1  =&gt; __( 'Book updated.', 'your-plugin-textdomain' ),
		2  =&gt; __( 'Custom field updated.', 'your-plugin-textdomain' ),
		3  =&gt; __( 'Custom field deleted.', 'your-plugin-textdomain' ),
		4  =&gt; __( 'Book updated.', 'your-plugin-textdomain' ),
		/* translators:&#160;%s: date and time of the revision */
		5  =&gt; isset( $_GET['revision'] )&#160;? sprintf( __( 'Book restored to revision from&#160;%s', 'your-plugin-textdomain' ), wp_post_revision_title( (int) $_GET['revision'], false ) )&#160;: false,
		6  =&gt; __( 'Book published.', 'your-plugin-textdomain' ),
		7  =&gt; __( 'Book saved.', 'your-plugin-textdomain' ),
		8  =&gt; __( 'Book submitted.', 'your-plugin-textdomain' ),
		9  =&gt; sprintf(
			__( 'Book scheduled for: &lt;strong&gt;%1$s&lt;/strong&gt;.', 'your-plugin-textdomain' ),
			// translators: Publish box date format, see http://php.net/date
			date_i18n( __( 'M j, Y @ G:i', 'your-plugin-textdomain' ), strtotime( $post-&gt;post_date ) )
		),
		10 =&gt; __( 'Book draft updated.', 'your-plugin-textdomain' )
	);

	if ( $post_type_object-&gt;publicly_queryable &amp;&amp; 'book' === $post_type ) {
		$permalink = get_permalink( $post-&gt;ID );

		$view_link = sprintf( ' &lt;a href="%s"&gt;%s&lt;/a&gt;', esc_url( $permalink ), __( 'View book', 'your-plugin-textdomain' ) );
		$messages[ $post_type ][1] .= $view_link;
		$messages[ $post_type ][6] .= $view_link;
		$messages[ $post_type ][9] .= $view_link;

		$preview_permalink = add_query_arg( 'preview', 'true', $permalink );
		$preview_link = sprintf( ' &lt;a target="_blank" href="%s"&gt;%s&lt;/a&gt;', esc_url( $preview_permalink ), __( 'Preview book', 'your-plugin-textdomain' ) );
		$messages[ $post_type ][8]  .= $preview_link;
		$messages[ $post_type ][10] .= $preview_link;
	}

	return $messages;
}
</pre>
<p>Adding contextual help:
</p>
<pre>
//display contextual help for Books

function codex_add_help_text( $contextual_help, $screen_id, $screen ) {
  //$contextual_help .= var_dump( $screen ); // use this to help determine $screen-&gt;id
  if ( 'book' == $screen-&gt;id ) {
    $contextual_help =
      '&lt;p&gt;' . __('Things to remember when adding or editing a book:', 'your_text_domain') . '&lt;/p&gt;' .
      '&lt;ul&gt;' .
      '&lt;li&gt;' . __('Specify the correct genre such as Mystery, or Historic.', 'your_text_domain') . '&lt;/li&gt;' .
      '&lt;li&gt;' . __('Specify the correct writer of the book.  Remember that the Author module refers to you, the author of this book review.', 'your_text_domain') . '&lt;/li&gt;' .
      '&lt;/ul&gt;' .
      '&lt;p&gt;' . __('If you want to schedule the book review to be published in the future:', 'your_text_domain') . '&lt;/p&gt;' .
      '&lt;ul&gt;' .
      '&lt;li&gt;' . __('Under the Publish module, click on the Edit link next to Publish.', 'your_text_domain') . '&lt;/li&gt;' .
      '&lt;li&gt;' . __('Change the date to the date to actual publish this article, then click on Ok.', 'your_text_domain') . '&lt;/li&gt;' .
      '&lt;/ul&gt;' .
      '&lt;p&gt;&lt;strong&gt;' . __('For more information:', 'your_text_domain') . '&lt;/strong&gt;&lt;/p&gt;' .
      '&lt;p&gt;' . __('&lt;a href="http://codex.wordpress.org/Posts_Edit_SubPanel" target="_blank"&gt;Edit Posts Documentation&lt;/a&gt;', 'your_text_domain') . '&lt;/p&gt;' .
      '&lt;p&gt;' . __('&lt;a href="http://wordpress.org/support/" target="_blank"&gt;Support Forums&lt;/a&gt;', 'your_text_domain') . '&lt;/p&gt;'&#160;;
  } elseif ( 'edit-book' == $screen-&gt;id ) {
    $contextual_help =
      '&lt;p&gt;' . __('This is the help screen displaying the table of books blah blah blah.', 'your_text_domain') . '&lt;/p&gt;'&#160;;
  }
  return $contextual_help;
}
add_action( 'contextual_help', 'codex_add_help_text', 10, 3 );
</pre>
<p>Adding WordPress 3.3+ Help Tab:
</p>
<pre>
function codex_custom_help_tab() {

  $screen = get_current_screen();

  // Return early if we're not on the book post type.
  if ( 'book'&#160;!= $screen-&gt;post_type )
    return;

  // Setup help tab args.
  $args = array(
    'id'      =&gt; 'you_custom_id', //unique id for the tab
    'title'   =&gt; 'Custom Help', //unique visible title for the tab
    'content' =&gt; '&lt;h3&gt;Help Title&lt;/h3&gt;&lt;p&gt;Help content&lt;/p&gt;',  //actual help text
  );
  
  // Add the help tab.
  $screen-&gt;add_help_tab( $args );

}

add_action('admin_head', 'codex_custom_help_tab');
</pre>
<h2><span class="mw-headline" id="Flushing_Rewrite_on_Activation">Flushing Rewrite on Activation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=9" title="Edit section: Flushing Rewrite on Activation">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To get permalinks to work when you activate the plugin use the following example, paying attention to how my_cpt_init is called in the register_activation_hook callback:
</p>
<pre>
add_action( 'init', 'my_cpt_init' );
function my_cpt_init() {
    register_post_type( ... );
}

function my_rewrite_flush() {
    // First, we "add" the custom post type via the above written function.
    // Note: "add" is written with quotes, as CPTs don't get added to the DB,
    // They are only referenced in the post_type column with a post entry, 
    // when you add a post of this CPT.
    my_cpt_init();

    // ATTENTION: This is *only* done during plugin activation hook in this example!
    // You should *NEVER EVER* do this on every page load!!
    flush_rewrite_rules();
}
register_activation_hook( __FILE__, 'my_rewrite_flush' );
</pre>
<p>For themes, you'll need to use the after_switch_theme hook instead. Like so:
</p>
<pre>
add_action( 'init', 'my_cpt_init' );
function my_cpt_init() {
    register_post_type( ... );
}

function my_rewrite_flush() {
    my_cpt_init();
    flush_rewrite_rules();
}
add_action( 'after_switch_theme', 'my_rewrite_flush' );
</pre>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=10" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Uses <tt><a href="https://codex.wordpress.org/Function_Reference/do_action" title="Function Reference/do action"> do_action()</a></tt>:
<ul><li> Calls <tt><a href="https://codex.wordpress.org/Plugin_API/Action_Reference/registered_post_type" title="Plugin API/Action Reference/registered post type"> 'registered_post_type'</a></tt> with <tt>$post_type</tt> and <tt>$args</tt>.</li></ul></li></ul>
<ul><li> Note that although the <b>$public</b> attribute is optional, the inputs passed to the <b>register_post_type()</b> function are <i>exactly</i> what is queried by the <tt><a href="https://codex.wordpress.org/Function_Reference/get_post_types" title="Function Reference/get post types"> get_post_types()</a></tt> function.  So if you verbosely set the equivalent options for <b>publicly_queriable</b>, <b>show_ui</b>, <b>show_in_nav_menus</b>, and <b>exclude_from_search</b>, this will not be handled the same as if you had set the <b>$public</b> attribute. See <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/18950">bug 18950</a>.</li></ul>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=11" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Version_4.7" title="Version 4.7">4.7.0</a>: 
<ul><li> Added the `view_items` and `attributes` labels.</li></ul></li>
<li> <a href="https://codex.wordpress.org/Version_4.6" title="Version 4.6">4.6.0</a>: 
<ul><li> Post type object returned is now an instance of <a href="/index.php?title=Class_Reference/WP_Post_Type&amp;action=edit&amp;redlink=1" class="new" title="Class Reference/WP Post Type (page does not exist)">WP_Post_Type</a>.</li></ul></li>
<li> <a href="https://codex.wordpress.org/Version_4.4" title="Version 4.4">4.4.0</a>: 
<ul><li> The `show_ui` argument is now enforced on the post type listing screen and post editing screen.</li></ul></li>
<li> <a href="https://codex.wordpress.org/Version_3.5" title="Version 3.5">3.5.0</a>: 
<ul><li> <tt>'supports'</tt> argument can be set to Boolean <tt>false</tt> to disable default title and editor.</li></ul></li>
<li> Since <a href="https://codex.wordpress.org/Version_2.9" title="Version 2.9">2.9</a></li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=12" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>register_post_type()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/post.php#L0">wp-includes/post.php</a></code>.
</p>
<h2><span class="mw-headline" id="Resources">Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=13" title="Edit section: Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Custom_Post_Types" title="Custom Post Types" class="mw-redirect">Custom Post Types</a></li>
<li> <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/12943">Feeds for Custom Post Types (Trac 12943)</a></li>
<li> <a rel="nofollow" class="external text" href="http://lists.automattic.com/pipermail/wp-hackers/2010-June/032655.html">Discussion on wp-hackers about capabilities</a></li>
<li> <a rel="nofollow" class="external text" href="http://lists.automattic.com/pipermail/wp-hackers/2010-June/032657.html">Another discussion on wp-hackers about capabilities</a></li>
<li> <a rel="nofollow" class="external text" href="http://wpkrauts.com/2013/registering-custom-taxonomies-for-custom-post-types-the-right-way/">Register Custom Post Types and Taxonomies the right way, so you have a reliable interconnection</a></li>
<li> <a rel="nofollow" class="external text" href="https://gist.github.com/justintadlock/6552000">Help file when registering post types</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.mavengang.com/2016/07/12/unregister-post-type-using-unregister_post_type/">Unregister a post type</a></li></ul>
<h3><span class="mw-headline" id="Generators">Generators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=14" title="Edit section: Generators">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> <a rel="nofollow" class="external text" href="http://generatewp.com/post-type/">WordPress Post Type Generator</a></li>
<li> <a rel="nofollow" class="external text" href="https://walkwest.com/resources/wordpress-custom-post-type-generator/">Custom Post Type Generator</a></li>
<li> <a rel="nofollow" class="external text" href="https://www.wp-hasty.com/tools/wordpress-custom-post-type-generator/">WordPress Custom Post Type Generator</a></li></ul>
<h3><span class="mw-headline" id="Plugins">Plugins</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=15" title="Edit section: Plugins">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> <a rel="nofollow" class="external text" href="https://metabox.io/plugins/custom-post-type/">MB Custom Post Type plugin: Create and manage custom post types with UI</a></li>
<li> <a rel="nofollow" class="external text" href="https://wordpress.org/plugins/post-types-order/">Create custom sorting for a post type</a></li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/plugins/types/">Types Plugin - Custom Post Types, Custom Taxonomy and Custom Fields</a> </li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/plugins/custom-post-type-ui/">Custom Post Type UI Plugin</a> </li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/plugins/cms-press/">CMS Press</a> </li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/plugins/gd-taxonomies-tools/">GD Custom Posts And Taxonomies Tools</a></li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/plugins/post-types-order/">Change Order for Custom Post Types in WordPress 4 and up</a></li>
<li> <a rel="nofollow" class="external text" href="http://web-profile.net/wordpress/custom-post-types/">Custom Post Type Example</a></li></ul>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/register_post_type&amp;action=edit&amp;section=16" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Post_Types" title="Post Types"><b>Post Types</b></a>: 
<strong class="selflink"> register_post_type()</strong>, 
<a href="https://codex.wordpress.org/Function_Reference/add_post_type_support" title="Function Reference/add post type support"> add_post_type_support()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/remove_post_type_support" title="Function Reference/remove post type support"> remove_post_type_support()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/post_type_supports" title="Function Reference/post type supports"> post_type_supports()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/post_type_exists" title="Function Reference/post type exists"> post_type_exists()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/set_post_type" title="Function Reference/set post type"> set_post_type()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type" title="Function Reference/get post type"> get_post_type()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_types" title="Function Reference/get post types"> get_post_types()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type_object" title="Function Reference/get post type object"> get_post_type_object()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type_capabilities" title="Function Reference/get post type capabilities"> get_post_type_capabilities()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type_labels" title="Function Reference/get post type labels"> get_post_type_labels()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/is_post_type_hierarchical" title="Function Reference/is post type hierarchical"> is_post_type_hierarchical()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/is_post_type_archive" title="Function Reference/is post type archive"> is_post_type_archive()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/post_type_archive_title" title="Function Reference/post type archive title"> post_type_archive_title()</a>
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div></div>


