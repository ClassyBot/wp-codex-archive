<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_Value"><span class="tocnumber">4</span> <span class="toctext">Return Value</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Source_File"><span class="tocnumber">7</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Related"><span class="tocnumber">8</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Associates a user to a blog, along with specifying the user's role.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;add_user_to_blog</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$blog_id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$user_id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$role&#160;</span><span style="color: #007700">)&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$blog_id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>required</i>) ID of the blog you're adding the user to.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$user_id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>required</i>) ID of the user you're adding.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$role</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The role you want the user to have
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_Value">Return Value</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=4" title="Edit section: Return Value">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt></tt> <tt style="color:gray">(<a href="https://codex.wordpress.org/Glossary#True.7CWP_Error_object" title="Glossary"><i>True&#124;WP_Error object</i></a>)</tt>&#160;</dt>
<dd> Returns <tt>true</tt> on success or a <tt><a href="https://codex.wordpress.org/Class_Reference/WP_Error" title="Class Reference/WP Error"> WP_Error</a></tt> object describing the failure</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=5" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre>&lt;?php
//ADD USER ID 1 TO BLOG ID 1 AS AN EDITOR
$user_id = 1; 
$blog_id = 1;
$role = 'editor';
add_user_to_blog( $blog_id, $user_id, $role )
?&gt;

&lt;?php 
//ADD USER ID 2 TO BLOG ID 3 AS AN ADMINISTRATOR
$user_id = 2; 
$blog_id = 3;
$role = 'administrator';
add_user_to_blog( $blog_id, $user_id, $role )
?&gt;</pre>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=6" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Uses the <tt><a href="/index.php?title=Plugin_API/Action_Reference/add_user_to_blog&amp;action=edit&amp;redlink=1" class="new" title="Plugin API/Action Reference/add user to blog (page does not exist)"> 'add_user_to_blog'</a></tt> action to fire an event when users are added to a blog.</li>
<li> It does not check if the user is already a member of the blog before setting their role. If you don't want to overwrite the role of a user if they are already a member of the blog, use <tt><a href="https://codex.wordpress.org/Function_Reference/is_user_member_of_blog" title="Function Reference/is user member of blog"> is_user_member_of_blog()</a></tt> to check that first.</li>
<li> You <i>do not</i> need to call <tt><a href="https://codex.wordpress.org/Function_Reference/switch_to_blog" title="Function Reference/switch to blog"> switch_to_blog()</a></tt> to switch to the blog you want to add the user to before calling this function. The function will switch to the blog itself, and restore the current blog before returning as well.</li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=7" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>add_user_to_blog()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/ms-functions.php#L0">wp-includes/ms-functions.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/add_user_to_blog&amp;action=edit&amp;section=8" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Blog User Functions:</b> <tt><strong class="selflink"> add_user_to_blog()</strong></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/add_new_user_to_blog" title="Function Reference/add new user to blog"> add_new_user_to_blog()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/remove_user_from_blog" title="Function Reference/remove user from blog"> remove_user_from_blog()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/is_user_member_of_blog" title="Function Reference/is user member of blog"> is_user_member_of_blog()</a></tt><br /><a href="https://codex.wordpress.org/Function_Reference/wp_update_user" title="Function Reference/wp update user">wp_update_user</a>, <a href="https://codex.wordpress.org/Function_Reference/wp_create_user" title="Function Reference/wp create user">wp_create_user</a>
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190211003801
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.152 seconds
Preprocessor visited node count: 138/1000000
Preprocessor generated node count: 541/1000000
Post‐expand include size: 1728/2097152 bytes
Template argument size: 537/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   64.319      1 - -total
 57.82%   37.190      1 - Template:Trac
 51.08%   32.851      1 - Template:CurrentVersion
 31.05%   19.974      1 - Template:User_Blog_Tags
  3.80%    2.446      1 - Template:Tag_Footer
  3.72%    2.394      3 - Template:Parameter
  2.43%    1.563      1 - Template:Return
  1.97%    1.270      1 - Template:Message
-->
