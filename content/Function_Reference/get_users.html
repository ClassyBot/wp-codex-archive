<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/get_users">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Returns"><span class="tocnumber">5</span> <span class="toctext">Returns</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Example_Object_Of_A_User"><span class="tocnumber">5.1</span> <span class="toctext"><b>Example Object Of A User</b></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Changelog"><span class="tocnumber">7</span> <span class="toctext">Changelog</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Source_Code"><span class="tocnumber">8</span> <span class="toctext">Source Code</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related"><span class="tocnumber">9</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Wrapper for <a href="https://codex.wordpress.org/Class_Reference/WP_User_Query" title="Class Reference/WP User Query">WP_User_Query</a>. Retrieves an array of users matching the criteria given in <code>$args</code>.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre>
&lt;?php get_users( $args );&#160;?&gt;
</pre>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre>
&lt;?php $args = array(
	'blog_id'      =&gt; $GLOBALS['blog_id'],
	'role'         =&gt; '',
	'role__in'     =&gt; array(),
	'role__not_in' =&gt; array(),
	'meta_key'     =&gt; '',
	'meta_value'   =&gt; '',
	'meta_compare' =&gt; '',
	'meta_query'   =&gt; array(),
	'date_query'   =&gt; array(),        
	'include'      =&gt; array(),
	'exclude'      =&gt; array(),
	'orderby'      =&gt; 'login',
	'order'        =&gt; 'ASC',
	'offset'       =&gt; '',
	'search'       =&gt; '',
	'number'       =&gt; '',
	'count_total'  =&gt; false,
	'fields'       =&gt; 'all',
	'who'          =&gt; '',
 ); 
get_users( $args );&#160;?&gt;
</pre>
<ul><li> <b>blog_id</b> - The current blog's ID, unless multisite is enabled and another ID is provided</li>
<li> <b>role</b> - Limit the returned users to the role specified. <a href="https://codex.wordpress.org/Roles_and_Capabilities#User_Levels" title="Roles and Capabilities">Roles_and_Capabilities#User_Levels</a></li>
<li> <b>role__in</b> - Limit the returned users that have one of the specified roles. (since WP 4.4)</li>
<li> <b>role__not_in</b> - Exclude users who have any of the specified roles. (since WP 4.4)</li>
<li> <b>include</b> - An array of IDs. Only users matching these IDs will be returned. Note that at present the <tt>include</tt> and <tt>exclude</tt> (below) arguments cannot be used together. See ticket <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/23228">#23228</a></li>
<li> <b>exclude</b> - An array of IDs. Users matching these IDs will not be returned, regardless of the other arguments. It will be ignored if the <tt>include</tt> argument is set.</li>
<li> <b>meta_key</b> - The <b>meta_key</b> in the <a href="https://codex.wordpress.org/Database_Description#Table:_wp_usermeta" title="Database Description">wp_usermeta table</a> for the <b>meta_value</b> to be returned. See <a href="https://codex.wordpress.org/Function_Reference/get_userdata#Values_in_users_.26_user_meta_table" title="Function Reference/get userdata">get_userdata()</a> for the possible meta keys.</li>
<li> <b>meta_value</b> - The value of the meta key.</li>
<li> <b>meta_compare</b> - Operator to test the '<tt>meta_value</tt>'. Possible values are '!=', '&gt;', '&gt;=', '&lt;', or '&lt;='. Default value is '='.</li>
<li> <b>meta_query</b> - An array that is handled through to the <a href="https://codex.wordpress.org/Class_Reference/WP_Meta_Query" title="Class Reference/WP Meta Query">WP_Meta_Query</a> object.</li>
<li> <b>date_query</b> - An array that is handled through to the <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/classes/wp_date_query/"><tt>WP_Date_Query</tt></a> object. Date queries are allowed for the <tt>user_registered</tt> field.</li>
<li> <b>orderby</b> - Sort by 'ID', 'login', 'nicename', 'email', 'url', 'registered', 'display_name', 'post_count', 'include', or 'meta_value' (query must also contain a 'meta_key' - see <a href="https://codex.wordpress.org/Class_Reference/WP_User_Query" title="Class Reference/WP User Query">WP_User_Query</a>).</li>
<li> <b>order</b> - ASC (ascending) or DESC (descending).</li>
<li> <b>offset</b> - The first <i>n</i> users to be skipped in the returned array.</li>
<li> <b>search</b> - Use this argument to search users by email address, URL, ID, username or display_name.</li>
<li> <b>number</b> - Limit the total number of users returned.</li>
<li> <b>paged</b> - Determines which page should be returned when used with <b>number</b>.</li>
<li> <b>count_total</b> - This is always <tt>false</tt>. To get a total count, call <tt><a href="https://codex.wordpress.org/Class_Reference/WP_User_Query" title="Class Reference/WP User Query"> WP_User_Query</a></tt> directly instead. See <a href="https://codex.wordpress.org/Class_Reference/WP_User_Query#Total_Count_Parameter" title="Class Reference/WP User Query"> here</a> for usage. </li>
<li> <b>fields</b> - Which fields to include in the returned array. Default is '<tt>all</tt>'. Pass an array of <tt><a href="https://codex.wordpress.org/Database_Description#Table:_wp_users" title="Database Description"> wp_users</a></tt> table fields to return an array of stdClass objects with only those fields.</li>
<li> <b>who</b> - If set to 'authors', only authors (user level greater than 0) will be returned.</li></ul>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=4" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A basic example to display all subscribers in an unordered list.
</p>
<pre>
&lt;?php
$blogusers = get_users( 'blog_id=1&amp;orderby=nicename&amp;role=subscriber' );
// Array of WP_User objects.
foreach ( $blogusers as $user ) {
	echo '&lt;span&gt;' . esc_html( $user-&gt;user_email ) . '&lt;/span&gt;';
}
</pre>
<p>An example using the 'search' field.
</p>
<pre>
&lt;?php
$blogusers = get_users( array( 'search' =&gt; 'john' ) );
// Array of WP_User objects.
foreach ( $blogusers as $user ) {
	echo '&lt;span&gt;' . esc_html( $user-&gt;user_email ) . '&lt;/span&gt;';
}
</pre>
<p>The first example will find and display all users that have a user name, ID, email of "john". You can also do wild card search by adding an * before or after your search query. For example, to search for all users that start with "jo", you would pass something like "<tt>jo*</tt>".
</p><p>The results will be all users whose user names, IDs, or emails that start with "jo". The * can be placed before or after your search query. When placed before, the results will be all users that end in your query.
</p><p>An example of querying by a specific field.
</p>
<pre>
&lt;?php
$blogusers = get_users( array( 'fields' =&gt; array( 'display_name' ) ) );
// Array of stdClass objects.
foreach ( $blogusers as $user ) {
	echo '&lt;span&gt;' . esc_html( $user-&gt;display_name ) . '&lt;/span&gt;';
}
</pre>
<h2><span class="mw-headline" id="Returns">Returns</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=5" title="Edit section: Returns">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> (Array)&#160;</dt>
<dd> An array of IDs, stdClass objects, or <a href="https://codex.wordpress.org/Class_Reference/WP_User" title="Class Reference/WP User">WP_User</a> objects, depending on the value of the '<tt>fields</tt>' parameter.
<ul><li>If '<tt>fields</tt>' is set to 'all' (default), or 'all_with_meta', it will return an array of <a href="https://codex.wordpress.org/Class_Reference/WP_User" title="Class Reference/WP User">WP_User</a> objects.</li>
<li>If '<tt>fields</tt>' is set to an array of <tt><a href="https://codex.wordpress.org/Database_Description#Table:_wp_users" title="Database Description"> wp_users</a></tt> table fields, it will return an array of stdClass objects with only those fields.</li>
<li>If '<tt>fields</tt>' is set to any individual <tt><a href="https://codex.wordpress.org/Database_Description#Table:_wp_users" title="Database Description"> wp_users</a></tt> table field, an array of IDs will be returned.</li></ul></dd></dl>
<p><br />
</p>
<h3><span class="mw-headline" id="Example_Object_Of_A_User"><b>Example Object Of A User</b></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=6" title="Edit section: Example Object Of A User">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><code>
[0] =&gt; WP_User Object	(
	[data] =&gt; stdClass Object
	(
		[ID] =&gt; 3
		[user_login] =&gt; dabid
		[user_pass] =&gt; $P$BK1deNU7lV/rgwp2oncgESRHRYLedRF.
		[user_nicename] =&gt; David
		[user_email] =&gt; example@example.com
		[user_url] =&gt; 
		[user_registered] =&gt; 2017-03-21 14:11:32
		[user_activation_key] =&gt; 149492:$P$BV76R0AcpmGMNAStZbdO.uVu7QWF9l1
		[user_status] =&gt; 0
		[display_name] =&gt; David Example
	)
</p><p>	[ID] =&gt; 3
	[caps] =&gt; Array
		(
			[author] =&gt; 1
		)
		[cap_key] =&gt; llk_capabilities
	[roles] =&gt; Array
		(
			[0] =&gt; author
		)
		[allcaps] =&gt; Array
		(
		[upload_files] =&gt; 1
		[edit_posts] =&gt; 1
		[edit_published_posts] =&gt; 1
		[publish_posts] =&gt; 1
		[read] =&gt; 1
		[level_2] =&gt; 1
		[level_1] =&gt; 1
		[level_0] =&gt; 1
		[delete_posts] =&gt; 1
		[delete_published_posts] =&gt; 1
		[author] =&gt; 1
		)
	[filter] =&gt; 
	)
</code>
</p>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=7" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Uses: <a href="https://codex.wordpress.org/Class_Reference/WP_User_Query" title="Class Reference/WP User Query">WP_User_Query</a></li></ul>
<h2><span class="mw-headline" id="Changelog">Changelog</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=8" title="Edit section: Changelog">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Since: <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">3.1.0</a></li></ul>
<h2><span class="mw-headline" id="Source_Code">Source Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=9" title="Edit section: Source Code">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code>get_users()</code> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/user.php#L0">wp-includes/user.php</a></code>.
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/get_users&amp;action=edit&amp;section=10" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Class_Reference/WP_User_Query" title="Class Reference/WP User Query"> WP_User_Query</a> class</li></ul>

<!-- 
NewPP limit report
Cached time: 20190211003855
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.020 seconds
Real time usage: 0.245 seconds
Preprocessor visited node count: 133/1000000
Preprocessor generated node count: 423/1000000
Post‐expand include size: 1200/2097152 bytes
Template argument size: 346/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   74.932      1 - -total
 90.37%   67.713      1 - Template:Tag_Footer
  5.35%    4.008      1 - Template:Languages
  3.51%    2.629      1 - Template:Trac
  1.85%    1.387      1 - Template:Message
  1.72%    1.291      1 - Template:ja
  1.63%    1.219      1 - Template:en
  1.32%    0.989      1 - Template:CurrentVersion
-->
