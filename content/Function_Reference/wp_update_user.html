<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/wp_update_user">日本語</a> 
<a href="https://codex.wordpress.org/ko:Function_Reference/wp_update_user" title="ko:Function Reference/wp update user">한국어</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Special_Note"><span class="tocnumber">1.1</span> <span class="toctext">Special Note</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Return_Values"><span class="tocnumber">4</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Change_Log"><span class="tocnumber">6</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Source_File"><span class="tocnumber">7</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related"><span class="tocnumber">8</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This function updates a single user in the database. This update can contain multiple pieces of user metadata as an array, however it will not update custom user meta fields. The meta fields that can be updated with this function are the same those allowed by the function <a href="https://codex.wordpress.org/Function_Reference/wp_insert_user" title="Function Reference/wp insert user">wp_insert_user()</a>
</p><p>To update a single piece of user metadata, use <a href="https://codex.wordpress.org/Function_Reference/update_user_meta" title="Function Reference/update user meta">update_user_meta()</a> instead.
</p><p>To create a <i>new</i> user or make an update without sending a password change email, use <a href="https://codex.wordpress.org/Function_Reference/wp_insert_user" title="Function Reference/wp insert user">wp_insert_user()</a> instead.
</p><p><b>Note:</b> If current user's password is being updated, then the cookies will be cleared!
</p>
<h3><span class="mw-headline" id="Special_Note">Special Note</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=2" title="Edit section: Special Note">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><del>If <tt>$userdata</tt> does not contain an 'ID' key, then a new user will be created and the new user's ID will be returned.</del> Since version 3.6 this is no longer the case, but this behavior may be restored in the future. See <a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/ticket/16731">ticket #16731</a>.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=3" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;wp_update_user</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$userdata&#160;</span><span style="color: #007700">)&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=4" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$userdata</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>required</i>) An array of user data, stdClass or <a href="https://codex.wordpress.org/Class_Reference/WP_User" title="Class Reference/WP User">WP_User</a> object.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_Values">Return Values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=5" title="Edit section: Return Values">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>(mixed)</tt>&#160;</dt>
<dd> If successful, returns the user_id, otherwise returns a <a href="https://codex.wordpress.org/Class_Reference/WP_Error" title="Class Reference/WP Error">WP_Error</a> object.</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=6" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Below is an example showing how to update a user's website profile field:
</p>
<pre>
&lt;?php

$user_id = 1;
$website = 'http://wordpress.org';

$user_id = wp_update_user( array( 'ID' =&gt; $user_id, 'user_url' =&gt; $website ) );

if ( is_wp_error( $user_id ) ) {
	// There was an error, probably that user doesn't exist.
} else {
	// Success!
}		
</pre>
<pre>== Notes ==
</pre>
<ul><li> Uses: <a href="https://codex.wordpress.org/Function_Reference/get_userdata" title="Function Reference/get userdata"><tt>get_userdata()</tt></a></li>
<li> Uses: <a href="https://codex.wordpress.org/Function_Reference/wp_hash_password" title="Function Reference/wp hash password"><tt>wp_hash_password()</tt></a></li>
<li> Uses: <a href="https://codex.wordpress.org/Function_Reference/wp_insert_user" title="Function Reference/wp insert user"><tt>wp_insert_user()</tt></a> Used to update existing user or add new one if user doesn't exist already</li>
<li> Uses: <a href="https://codex.wordpress.org/Function_Reference/wp_get_current_user" title="Function Reference/wp get current user"><tt>wp_get_current_user()</tt></a></li>
<li> Uses: <a href="https://codex.wordpress.org/Function_Reference/wp_clear_auth_cookie" title="Function Reference/wp clear auth cookie"><tt>wp_clear_auth_cookie()</tt></a></li>
<li> Uses: <a href="https://codex.wordpress.org/Function_Reference/wp_set_auth_cookie" title="Function Reference/wp set auth cookie"><tt>wp_set_auth_cookie()</tt></a></li></ul>
<table border="0" cellspacing="5" summary="User data array fields.">
<caption> The <tt>$userdata</tt> array can contain the following fields
</caption>
<tr>
<th style="font-weight:bold"> Field Name
</th>
<th> Description
</th>
<th> <a href="https://codex.wordpress.org/Plugin_API/Filter_Reference#Database_Writes_4" title="Plugin API/Filter Reference">Associated Filter</a>
</th></tr>
<tr valign="top">
<td style="font-weight:bold"> ID
</td>
<td> An integer that will be used for updating an existing user.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_pass
</td>
<td> A string that contains the plain text password for the user.
</td>
<td> <tt>pre_user_pass</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_login
</td>
<td> A string that contains the user's username for logging in. Please note that the function cannot alter this field, since WordPress does not allow usernames to be changed.
</td>
<td> <tt>pre_user_login</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_nicename
</td>
<td> A string that contains a URL-friendly name for the user. The default is the user's username.
</td>
<td> <tt>pre_user_nicename</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_url
</td>
<td> A string containing the user's URL for the user's web site.
</td>
<td> <tt>pre_user_url</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_email
</td>
<td> A string containing the user's email address.
</td>
<td> <tt>pre_user_email</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> display_name
</td>
<td> A string that will be shown on the site. Defaults to user's username. It is likely that you will want to change this, for both appearance and security through obscurity (that is if you dont use and delete the default admin user).
</td>
<td> <tt>pre_user_display_name</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> nickname
</td>
<td> The user's nickname, defaults to the user's username.
</td>
<td> <tt>pre_user_nickname</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> first_name
</td>
<td> The user's first name.
</td>
<td> <tt>pre_user_first_name</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> last_name
</td>
<td> The user's last name.
</td>
<td> <tt>pre_user_last_name</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> description
</td>
<td> A string containing content about the user.
</td>
<td> <tt>pre_user_description</tt>
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> rich_editing
</td>
<td> A string for whether to enable the rich editor or not. False if not empty.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> user_registered
</td>
<td> The date the user registered. Format is Y-m-d H:i:s.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> role
</td>
<td> A string used to set the user's role.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> jabber
</td>
<td> User's Jabber account.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> aim
</td>
<td> User's AOL IM account.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> yim
</td>
<td> User's Yahoo IM account.
</td>
<td> (none)
</td></tr>
<tr valign="top">
<td style="font-weight:bold"> show_admin_bar_front
</td>
<td> Show the WP admin bar on the front-end.
</td>
<td> (none)
</td></tr></table>
<p>Remember, <tt>user_pass</tt> should be the plain text password as it will be automatically hashed by WordPress.
</p><p>Please keep in mind that if the user_pass is updated an e-mail notification will be sent to that user.
</p><p>Please keep in mind that in order to set <tt>show_admin_bar_front</tt> to <tt>false</tt> you need to pass string value 'false' and not boolean <tt>false</tt>.
</p>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=7" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Version_3.5" title="Version 3.5">3.5.0</a>: Now accepts stdClass or <a href="https://codex.wordpress.org/Class_Reference/WP_User" title="Class Reference/WP User">WP_User</a> object.</li>
<li> Since: <a href="https://codex.wordpress.org/Version_2.0" title="Version 2.0">2.0.0</a></li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=8" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>wp_update_user()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/user.php#L0">wp-includes/user.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_user&amp;action=edit&amp;section=9" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Current User Functions:</b> <tt><a href="https://codex.wordpress.org/Function_Reference/get_current_user_id" title="Function Reference/get current user id"> get_current_user_id()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/get_currentuserinfo" title="Function Reference/get currentuserinfo"> get_currentuserinfo()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/wp_get_current_user" title="Function Reference/wp get current user"> wp_get_current_user()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/wp_set_current_user" title="Function Reference/wp set current user"> wp_set_current_user()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/current_user_can" title="Function Reference/current user can"> current_user_can()</a></tt>, <tt><a href="https://codex.wordpress.org/Function_Reference/current_user_can_for_blog" title="Function Reference/current user can for blog"> current_user_can_for_blog()</a></tt>
, <tt>get_user_meta()</tt>
</p><p><br />
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>


