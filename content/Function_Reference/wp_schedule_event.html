<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/wp_schedule_event">日本語</a> 
<a href="https://codex.wordpress.org/zh-cn:%E5%87%BD%E6%95%B0/wp_schedule_event" title="zh-cn:函数/wp schedule event">中文(简体)</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Schedule_an_hourly_event"><span class="tocnumber">4.1</span> <span class="toctext">Schedule an hourly event</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#See_Also"><span class="tocnumber">5</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Further_Reading"><span class="tocnumber">6</span> <span class="toctext">Further Reading</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Schedules a hook which will be executed by the WordPress actions core on a specific interval, specified by you. The action will trigger when someone visits your WordPress site, if the scheduled time has passed. See the <a href="https://codex.wordpress.org/Plugin_API" title="Plugin API">Plugin API</a> for a list of hooks.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;wp_schedule_event</span><span style="color: #007700">(</span><span style="color: #0000BB">time</span><span style="color: #007700">(),&#160;</span><span style="color: #DD0000">'hourly'</span><span style="color: #007700">,&#160;</span><span style="color: #DD0000">'my_schedule_hook'</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$args</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$timestamp</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>required</i>) The first time that you want the event to occur. This must be in a UNIX timestamp format. WP cron uses UTC/GMT time, not local time. Use time(), which is always GMT in WordPress.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$recurrence</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) How often the event should reoccur. Valid values:<ul><li><tt>hourly</tt></li><li><tt>twicedaily</tt></li><li><tt>daily</tt></li></ul>
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<p>The recurrence must be in the return values from  <a href="https://codex.wordpress.org/Function_Reference/wp_get_schedules" title="Function Reference/wp get schedules">wp_get_schedules</a>. Use the filter <a href="https://codex.wordpress.org/Plugin_API/Filter_Reference/cron_schedules" title="Plugin API/Filter Reference/cron schedules">cron_schedules </a> to add or change recurrences. Use <a href="https://codex.wordpress.org/Function_Reference/wp_schedule_single_event" title="Function Reference/wp schedule single event">wp_schedule_single_event</a> for non-recurring events.
</p>
<dl><dt> <tt>$hook</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The name of an action hook to execute.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) Arguments to pass to the hook function(s).
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=4" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Schedule_an_hourly_event">Schedule an hourly event</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=5" title="Edit section: Schedule an hourly event">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To schedule an hourly event in a plugin, call <tt>wp_schedule_event</tt> on activation (otherwise you will end up with a lot of scheduled events!):
</p>
<pre>
register_activation_hook(__FILE__, 'my_activation');

function my_activation() {
    if (! wp_next_scheduled ( 'my_hourly_event' )) {
	wp_schedule_event(time(), 'hourly', 'my_hourly_event');
    }
}

add_action('my_hourly_event', 'do_this_hourly');

function do_this_hourly() {
	// do something every hour
}
</pre>
<p>Don't forget to clean the scheduler on deactivation:
</p>
<pre>
register_deactivation_hook(__FILE__, 'my_deactivation');

function my_deactivation() {
	wp_clear_scheduled_hook('my_hourly_event');
}
</pre>
<h2><span class="mw-headline" id="See_Also">See Also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=6" title="Edit section: See Also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <strong class="selflink">wp_schedule_event</strong></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_schedule_single_event" title="Function Reference/wp schedule single event">wp_schedule_single_event</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_clear_scheduled_hook" title="Function Reference/wp clear scheduled hook">wp_clear_scheduled_hook</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_next_scheduled" title="Function Reference/wp next scheduled">wp_next_scheduled</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_unschedule_event" title="Function Reference/wp unschedule event">wp_unschedule_event</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_get_schedule" title="Function Reference/wp get schedule">wp_get_schedule</a></li></ul>
<h2><span class="mw-headline" id="Further_Reading">Further Reading</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_schedule_event&amp;action=edit&amp;section=7" title="Edit section: Further Reading">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://GenerateWP.com/schedule_event/">WordPress Cron Job Event Generator</a></li>
<li> <a rel="nofollow" class="external text" href="http://holisticnetworking.net/plugins/2008/10/18/scheduling-with-wordpress-cron-functions/">How cronjobs work in wordpress</a></li>
<li> For a comprehensive list of functions, take a look at the <a rel="nofollow" class="external text" href="http://codex.wordpress.org/Category:Functions">category Functions</a></li></ul>


