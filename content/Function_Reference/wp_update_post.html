<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/wp">update post 日本語</a> 
<a href="https://codex.wordpress.org/tr:Fonksiyon_Listesi/wp_update_post" title="tr:Fonksiyon Listesi/wp update post">Türkçe</a> • 

<a href="https://codex.wordpress.org/ko:%ED%95%A8%EC%88%98_%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4/wp_update_post" title="ko:함수 레퍼런스/wp update post">한국어</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Example"><span class="tocnumber">4</span> <span class="toctext">Example</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Categories"><span class="tocnumber">4.1</span> <span class="toctext">Categories</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Caution_-_Infinite_loop"><span class="tocnumber">4.2</span> <span class="toctext">Caution - Infinite loop</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Scheduling_posts"><span class="tocnumber">4.3</span> <span class="toctext">Scheduling posts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Return"><span class="tocnumber">5</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Change_Log"><span class="tocnumber">6</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Source_File"><span class="tocnumber">7</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related"><span class="tocnumber">8</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This function updates posts (and pages) in the database. To work as expected, it is necessary to pass the ID of the post to be updated.
</p><p>Note that when the post is "updated", the existing Post record is duplicated for audit/revision purposes.  The primary record is then updated with the new values. Category associations, custom fields, post meta, and other related entries continue to be linked to the primary Post record.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;wp_update_post</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$wp_error&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$post</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array.2Fobject" title="How to Pass Tag Parameters"><i>array/object</i></a>) (<i>optional</i>) An array or object representing the elements that make up a post. There is a one-to-one relationship between these elements and the names of columns in the <tt><a href="https://codex.wordpress.org/Database_Description#Table:_wp_posts" title="Database Description"> wp_posts</a></tt> table in the database. You must include "ID", otherwise a WP_Error will be thrown.
<dl><dd> Default: An empty array</dd></dl></dd></dl>
<dl><dt> <tt>$wp_error</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>Boolean</i></a>) (<i>optional</i>) A Boolean that can be passed to control what is returned on failure. The default setting (<tt>false</tt>) will return a <tt>0</tt> if the post fails to update. However, if this is set to <tt>true</tt>, it will return with a <tt><a href="https://codex.wordpress.org/Class_Reference/WP_Error" title="Class Reference/WP Error"> WP_Error</a></tt> object.
<dl><dd> Default: <tt>false</tt></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=4" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Before calling <tt>wp_update_post()</tt> it is necessary to create an array to pass the necessary elements. Unlike <tt><a href="https://codex.wordpress.org/Function_Reference/wp_insert_post" title="Function Reference/wp insert post">wp_insert_post()</a></tt>, it is only necessary to pass the ID of the post to be updated and the elements to be updated. The names of the elements should match those in the database.
</p>
<pre>
// Update post 37
  $my_post = array(
      'ID'           =&gt; 37,
      'post_title'   =&gt; 'This is the post title.',
      'post_content' =&gt; 'This is the updated content.',
  );

// Update the post into the database
  wp_update_post( $my_post );
</pre>
<p><strong>Processing $wp_error</strong>
</p><p>If your updates are not working, there could be an error. It is a good idea to set $wp_error to true and display the error immediately after.
</p>
<pre>
&lt;?php
// Of course, this should be done in an development environment only and commented out or removed after deploying to your production site.

$post_id = wp_update_post( $current_item, true );						  
if (is_wp_error($post_id)) {
	$errors = $post_id-&gt;get_error_messages();
	foreach ($errors as $error) {
		echo $error;
	}
}
?&gt;
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Categories">Categories</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=5" title="Edit section: Categories">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Categories need to be passed as an array of integers that match the category IDs in the database. This is the case even where only one category is assigned to the post.
</p>
<h3><span class="mw-headline" id="Caution_-_Infinite_loop">Caution - Infinite loop</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=6" title="Edit section: Caution - Infinite loop">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When executed by an action hooked into <tt>save_post</tt> (e.g. a custom metabox), <tt>wp_update_post()</tt> has the potential to create an infinite loop. This happens because (1) <tt>wp_update_post()</tt> results in <tt>save_post</tt> being fired and (2) <tt>save_post</tt> is called twice when revisions are enabled (first when creating the revision, then when updating the original post&#8212;resulting in the creation of endless revisions).
</p><p>If you must update a post from code called by <tt>save_post</tt>, make sure to verify the <tt>post_type</tt> is not set to <tt>'revision'</tt> and that the <tt>$post</tt> object does indeed need to be updated.
</p><p>Likewise, an action hooked into <tt>edit_attachment</tt> can cause an infinite loop if it contains a function call to <tt>wp_update_post</tt> passing an array parameter with a key value of <tt>"ID"</tt> and an associated value that corresponds to an Attachment.
</p><p>Note you will need to remove then add the hook, code sample modified from the API/Action reference: <tt><a href="https://codex.wordpress.org/Plugin_API/Action_Reference/save_post" title="Plugin API/Action Reference/save post"> save_post</a></tt>
</p>
<pre>
&lt;?php
function my_function( $post_id ){
	if (&#160;! wp_is_post_revision( $post_id ) ){
	
		// unhook this function so it doesn't loop infinitely
		remove_action('save_post', 'my_function');
	
		// update the post, which calls save_post again
		wp_update_post( $my_args );

		// re-hook this function
		add_action('save_post', 'my_function');
	}
}
add_action('save_post', 'my_function');
?&gt;
</pre>
<h3><span class="mw-headline" id="Scheduling_posts">Scheduling posts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=7" title="Edit section: Scheduling posts">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you are trying to use <tt>wp_update_post()</tt> to schedule an existing draft, it will not work unless you pass <tt>$my_post-&gt;edit_date = true</tt>. WordPress will ignore the <tt>post_date</tt> when updating drafts unless <tt>edit_date</tt> is true.
</p>
<h2><span class="mw-headline" id="Return">Return</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=8" title="Edit section: Return">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt></tt> <tt style="color:gray">(<a href="https://codex.wordpress.org/Glossary#Integer" title="Glossary"><i>integer</i></a>)</tt>&#160;</dt>
<dd> The ID of the post if the post is successfully updated in the database. Otherwise returns <tt>0</tt>.</dd></dl>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=9" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Since: <a href="https://codex.wordpress.org/Version_1.0" title="Version 1.0">1.0.0</a></li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=10" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>wp_update_post()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/post.php#L0">wp-includes/post.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/wp_update_post&amp;action=edit&amp;section=11" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Function_Reference/wp_insert_post" title="Function Reference/wp insert post">wp_insert_post()</a>
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>
<div style="background-color:#EEEEFF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This article is <a href="https://codex.wordpress.org/Category:Copyedits" title="Category:Copyedits" class="mw-redirect">marked</a> as in need of editing. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=Function_Reference/wp_update_post&amp;action=edit">editing it</a></b>.</div>


