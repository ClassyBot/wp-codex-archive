<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta" title="Справочник по функциям/delete post meta">Русский</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/delete">post meta 日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_values"><span class="tocnumber">4</span> <span class="toctext">Return values</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Default_Usage"><span class="tocnumber">5.1</span> <span class="toctext">Default Usage</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Other_Examples"><span class="tocnumber">5.2</span> <span class="toctext">Other Examples</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Source_File"><span class="tocnumber">6</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Change_Log"><span class="tocnumber">7</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related"><span class="tocnumber">8</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This function deletes all custom fields with the specified key, or key and value, from the specified post. See also <a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta">update_post_meta()</a>, <a href="https://codex.wordpress.org/Function_Reference/get_post_meta" title="Function Reference/get post meta">get_post_meta()</a> and <a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta">add_post_meta()</a>. 
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;delete_post_meta</span><span style="color: #007700">(</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$meta_key</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$meta_value</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$post_id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>required</i>) The ID of the post from which you will delete a field.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$meta_key</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The key of the field you will delete.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$meta_value</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>optional</i>) The value of the field you will delete. This is used to differentiate between several fields with the same key. If left blank, all fields with the given key will be deleted.
<dl><dd> Default: <i>Empty</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_values">Return values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=4" title="Edit section: Return values">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> (boolean)&#160;</dt>
<dd> False for failure. True for success.</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=5" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Default_Usage">Default Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=6" title="Edit section: Default Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>&lt;?php delete_post_meta(76, 'my_key', 'Steve');&#160;?&gt;
</pre>
<h3><span class="mw-headline" id="Other_Examples">Other Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=7" title="Edit section: Other Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Let's assume we had a plugin that added some meta values to posts, but now when we are uninstalling the plugin, we want to delete all the post meta keys that the plugin added. Assuming the plugin added the keys <tt>related_posts</tt> and <tt>post_inspiration</tt>.
</p><p>To delete all the keys use delete_post_meta_by_key( $post_meta_key ). This would be added to the "uninstall" function:
</p>
<pre>&lt;?php delete_post_meta_by_key( 'related_posts' );&#160;?&gt;</pre>
<p>Or, if you wanted to delete all the keys except where <tt>post_inspiration</tt> was "Sherlock Holmes":
</p>
<pre>&lt;?php
  $allposts = get_posts( 'numberposts=-1&amp;post_type=post&amp;post_status=any' );

  foreach( $allposts as $postinfo ) {
    delete_post_meta( $postinfo-&gt;ID, 'related_posts' );
    $inspiration = get_post_meta( $postinfo-&gt;ID, 'post_inspiration' );
    foreach( $inspiration as $value ) {
      if( 'Sherlock Holmes'&#160;!== $value )
        delete_post_meta( $postinfo-&gt;ID, 'post_inspiration', $value );
    }
  }
?&gt;</pre>
<p>Or maybe post number 185 was just deleted, and you want to remove all <tt>related_posts</tt> keys that reference it:
</p>
<pre>&lt;?php
  $allposts = get_posts( 'numberposts=-1&amp;post_type=post&amp;post_status=any' );

  foreach( $allposts as $postinfo ) {
    delete_post_meta( $postinfo-&gt;ID, 'related_posts', '185' );
  }
?&gt;</pre>
<p>For a more detailed example, go to the <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples">post_meta Functions Examples</a> page.
</p><p><i><b>Note:</b> Unlike <a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta">update_post_meta()</a>, This function will delete <b>all</b> fields that match the criteria.</i>
</p>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=8" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>delete_post_meta()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/post.php#L0">wp-includes/post.php</a></code>
</p>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=9" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since <a href="https://codex.wordpress.org/Version_1.5" title="Version 1.5">1.5.0</a>
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Function_Reference/delete_post_meta&amp;action=edit&amp;section=10" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Custom_Fields" title="Custom Fields"><b>Custom Fields</b></a>: 
<a href="https://codex.wordpress.org/Function_Reference/the_meta" title="Function Reference/the meta"> the_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_meta" title="Function Reference/get post meta"> get_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta"> add_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta"> update_post_meta()</a>, 
<strong class="selflink"> delete_post_meta()</strong>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom" title="Function Reference/get post custom"> get_post_custom()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom_values" title="Function Reference/get post custom values"> get_post_custom_values()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom_keys" title="Function Reference/get post custom keys"> get_post_custom_keys()</a> 
(See Also: <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples"> post_meta Function Examples</a>)
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>


