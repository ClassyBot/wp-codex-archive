<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/add_meta_box" title="Function Reference/add meta box">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/add_meta_box">日本語</a> 
<strong class="selflink">Português do Brasil</strong> • 

 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Descri.C3.A7.C3.A3o"><span class="tocnumber">1</span> <span class="toctext">Descrição</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Uso"><span class="tocnumber">2</span> <span class="toctext">Uso</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Par.C3.A2metros"><span class="tocnumber">3</span> <span class="toctext">Parâmetros</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Valor_de_retorno"><span class="tocnumber">4</span> <span class="toctext">Valor de retorno</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Exemplos"><span class="tocnumber">5</span> <span class="toctext">Exemplos</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Argumentos_de_callback"><span class="tocnumber">5.1</span> <span class="toctext">Argumentos de callback</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Arquivo_fonte"><span class="tocnumber">6</span> <span class="toctext">Arquivo fonte</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Leituras_relacionadas"><span class="tocnumber">7</span> <span class="toctext">Leituras relacionadas</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Recursos_externos"><span class="tocnumber">8</span> <span class="toctext">Recursos externos</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Descri.C3.A7.C3.A3o">Descrição</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=1" title="Edit section: Descrição">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A função <tt>add_meta_box()</tt> foi introduzida na <a rel="nofollow" class="external text" href="http://codex.wordpress.org/Version_2.5/">Versão 2.5</a> (em inglês).  Ela permite que desenvolvedores de plugin adicionem meta boxes na interface de administração.
</p>
<h2><span class="mw-headline" id="Uso">Uso</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=2" title="Edit section: Uso">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&#160;&#160;&#160;add_meta_box</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$title</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$callback</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$post_type</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$context</span><span style="color: #007700">,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$priority</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$callback_args&#160;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Par.C3.A2metros">Parâmetros</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=3" title="Edit section: Parâmetros">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) O atributo 'id' do HTML da seção na tela de edição.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$title</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Título da seção na tela de edição, visível para o usuário.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$callback</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Callback" title="How to Pass Tag Parameters"><i>callback</i></a>) (<i>required</i>) Função que imprime o HTML para a seção na tela de edição. Aceita uma string com o nome da função ou, se dentro de uma classe, um array que chame um dos métodos dessa classe. O callback aceita até dois argumentos, veja em <a href="#Argumentos_de_callback">Argumentos de callback</a>. Veja o segundo c;odigo dentro da seção <a href="#Exemplos">Exemplos</a> abaixo.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$post_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) O tipo de post que receberá a seção (<tt>'post'</tt>, <tt>'page'</tt>, <tt>'link'</tt>, <tt>'attachment'</tt> ou <tt>'custom_post_type'</tt>, onde <tt>'custom_post_type'</tt> é o slug do <em>post type</em>.)
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$context</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>opcional</i>) A parte da página onde a seção será mostrada (<tt>'normal'</tt>, <tt>'advanced'</tt>, or <tt>'side'</tt>). (Note que <tt>'side'</tt> não existe antes da versão 2.7)
<dl><dd> Default: 'advanced'</dd></dl></dd></dl>
<dl><dt> <tt>$priority</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>opctional</i>) A prioridade dentro do contexto em que as meta boxes serão mostradas (<tt>'high'</tt>, <tt>'core'</tt>, <tt>'default'</tt> or <tt>'low'</tt>)
<dl><dd> Default: 'default'</dd></dl></dd></dl>
<dl><dt> <tt>$callback_args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>opcional</i>) Argumentos que serão passados para a sua função de callback. Ela receberá o objeto <tt>$post</tt> e quaisquer outros parâmetros que forem passados através dessa variável.
<dl><dd> Default: null</dd></dl></dd></dl>
<h2><span class="mw-headline" id="Valor_de_retorno">Valor de retorno</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=4" title="Edit section: Valor de retorno">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Nenhum.
</p>
<h2><span class="mw-headline" id="Exemplos">Exemplos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=5" title="Edit section: Exemplos">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Este exemplo adiciona uma seção personalizada para as telas de edição de Post e de Página: 
</p>
<pre>
&lt;?php
/* Define a meta box */

add_action( 'add_meta_boxes', 'myplugin_add_custom_box' );

// Compatibilidade para  WP &lt; 3.0
// add_action( 'admin_init', 'myplugin_add_custom_box', 1 );

/* Faça algo com os dados inseridos */
add_action( 'save_post', 'myplugin_save_postdata' );

/* Adiciona uma meta box na coluna principal das telas de edição de Post e Página */
function myplugin_add_custom_box() {
    $screens = array( 'post', 'page' );
    foreach ($screens as $screen) {
        add_meta_box(
            'myplugin_sectionid',
            __( 'My Post Section Title', 'myplugin_textdomain' ),
            'myplugin_inner_custom_box',
            $screen
        );
    }
}

/* Imprime o conteúdo da meta box */
function myplugin_inner_custom_box( $post ) {

  // Faz a verificação através do nonce
  wp_nonce_field( plugin_basename( __FILE__ ), 'myplugin_noncename' );

  // Os campos para inserção dos dados
  // Use get_post_meta para para recuperar um valor existente no banco de dados e usá-lo dentro do atributo HTML 'value' 
  $value = get_post_meta( $post-&gt;ID, '_my_meta_value_key', true );
  echo '&lt;label for="myplugin_new_field"&gt;';
       _e("Description for this field", 'myplugin_textdomain' );
  echo '&lt;/label&gt; ';
  echo '&lt;input type="text" id="myplugin_new_field" name="myplugin_new_field" value="'.esc_attr($value).'" size="25" /&gt;';
}

/* Quando o post for salvo, salvamos também nossos dados personalizados */
function myplugin_save_postdata( $post_id ) {

  // É necessário verificar se o usuário está autorizado a fazer isso
  if ( 'page' == $_POST['post_type'] ) {
    if (&#160;! current_user_can( 'edit_page', $post_id ) )
        return;
  } else {
    if (&#160;! current_user_can( 'edit_post', $post_id ) )
        return;
  }

  // Agora, precisamos verificar se o usuário realmente quer trocar esse valor
  if (&#160;! isset( $_POST['myplugin_noncename'] ) ||&#160;! wp_verify_nonce( $_POST['myplugin_noncename'], plugin_basename( __FILE__ ) ) )
      return;

  // Por fim, salvamos o valor no banco

  // Recebe o ID do post
  $post_ID = $_POST['post_ID'];

  // Remove caracteres indesejados
  $mydata = sanitize_text_field( $_POST['myplugin_new_field'] );

  // Adicionamos ou atualizados o $mydata 
    update_post_meta($post_ID, '_my_meta_value_key', $mydata);
}
?&gt;
</pre>
<p>Este é um exemplo de como adicionar uma meta box através de uma classe:
</p>
<pre>
/**
 * Chama a classe na tela de edição do post
 */
function call_someClass() 
{
    return new someClass();
}
if ( is_admin() )
    add_action( 'load-post.php', 'call_someClass' );

/** 
 * A classe
 */
class someClass
{
    const LANG = 'some_textdomain';

    public function __construct()
    {
        add_action( 'add_meta_boxes', array( &amp;$this, 'add_some_meta_box' ) );
    }

    /**
     * Adiciona a meta box
     */
    public function add_some_meta_box()
    {
        add_meta_box( 
             'some_meta_box_name'
            ,__( 'Some Meta Box Headline', self::LANG )
            ,array( &amp;$this, 'render_meta_box_content' )
            ,'post' 
            ,'advanced'
            ,'high'
        );
    }


    /**
     * O conteúdo da meta box
     */
    public function render_meta_box_content() 
    {
        echo '&lt;h1&gt;TESTE - esta mensagem estará dentro da meta box&lt;/h1&gt;';
    }
}
</pre>
<h3><span class="mw-headline" id="Argumentos_de_callback">Argumentos de callback</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=6" title="Edit section: Argumentos de callback">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>O <em>array</em> <code>$callback_args</code> será passado para a função de callback como um segundo argumento. O primeiro é o objeto <tt>$post</tt>.
</p>
<pre>
// Esta função adiciona uma meta box com a função de callback my_metabox_callback()
function add_my_meta_box() {
     $var1 = 'this';
     $var2 = 'that';
     add_meta_box( 
           'metabox_id',
           'Metabox Title',
           'my_metabox_callback',
           'page',
           'normal',
           'low', 
           array( 'foo' =&gt; $var1, 'bar' =&gt; $var2)
      );
}

// $post é um objeto que contém o post atual
// $metabox é um arrau com o ID da metabox, o título, a função de callback e seus argumentos
// Os argumentos formam um array com as variáveis passadas dentro de $callback_args

function my_metabox_callback ( $post, $metabox ) {
     echo 'Last Modified: '.$post-&gt;post_modified;        // mostra a última vez que o post foi modificado
     echo $metabox['args']['foo'];                         // mostra 'isto'
     echo $metabox['args']['bar'];                         // mostra 'aquilo'
     echo get_post_meta($post-&gt;ID,'my_custom_field',true); // mostra o valor do campo personalizado
}
</pre>
<h2><span class="mw-headline" id="Arquivo_fonte">Arquivo fonte</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=7" title="Edit section: Arquivo fonte">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A função <code>add_meta_box()</code> está localizada em <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-admin/includes/template.php#L0">wp-admin/includes/template.php</a></code>.
</p>
<h2><span class="mw-headline" id="Leituras_relacionadas">Leituras relacionadas</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=8" title="Edit section: Leituras relacionadas">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Migrating_Plugins_and_Themes" title="Migrating Plugins and Themes">Migrating Plugins and Themes</a> (em inglês)</li>
<li> <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> (em inglês)</li>
<li> <a href="https://codex.wordpress.org/Creating_Tables_with_Plugins" title="Creating Tables with Plugins">Creating Tables with Plugins</a> (em inglês)</li>
<li> <a href="https://codex.wordpress.org/Function_Reference/remove_meta_box" title="Function Reference/remove meta box"> remove_meta_box()</a> (em inglês)</li>
<li> <a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta"> update_post_meta()</a> (em inglês)</li>
<li> <a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta"> add_post_meta()</a> (em inglês)</li></ul>
<h2><span class="mw-headline" id="Recursos_externos">Recursos externos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:add_meta_box&amp;action=edit&amp;section=9" title="Edit section: Recursos externos">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://gist.github.com/1880770">Classe para criação rápida de meta boxes</a> (em inglês) - Permite que você facilmente declare uma meta box e defina seus valores em algumas linhas.</li></ul>
<ul><li> <a rel="nofollow" class="external text" href="http://andrewferguson.net/2008/09/26/using-add_meta_box/">Usando add_meta_box() em seu plugin</a> (em inglês) - Como usar meta boxes na página de administração do seu plugin.</li>
<li> <a rel="nofollow" class="external text" href="http://wefunction.com/2008/10/tutorial-creating-custom-write-panels-in-wordpress/">Tutorial: criando painéis personalizados no WordPress</a></li>
<li> <a rel="nofollow" class="external text" href="http://farinspace.com/2010/03/page-specific-wordpress-meta-box/">Como limitar uma meta box a uma página específica</a> (em inglês)</li>
<li> <a rel="nofollow" class="external text" href="http://wpengineer.com/1991/example-how-to-add-meta-boxes-to-edit-area/">Como adicionar meta boxes</a> (em inglês) - Um plugin funcional de exemplo.</li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/support/topic/add_meta_box-callback-with-arguments">add_meta_box() $callback_args parameter </a> (em inglês) - Como usar o parâmetro <tt>$callback_args</tt>.</li>
<li> <a rel="nofollow" class="external text" href="http://www.wproots.com/complex-meta-boxes-in-wordpress/">Meta boxes e hooks</a> (em inglês) - Como construir e usar meta boxes nas telas de administração.</li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>


