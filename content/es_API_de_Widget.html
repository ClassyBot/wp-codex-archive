<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Widgets_API" title="Widgets API">English</a> • 
<strong class="selflink">Español</strong> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/WordPress">ウィジェット API 日本語</a> 
<a href="https://codex.wordpress.org/zh-cn:%E6%8C%82%E4%BB%B6%E6%8E%A5%E5%8F%A3" title="zh-cn:挂件接口" class="mw-redirect">中文(简体)</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div style="background-color:#EEEEFF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This article is <a href="https://codex.wordpress.org/Category:Copyedits" title="Category:Copyedits" class="mw-redirect">marked</a> as in need of editing. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=es:API_de_Widget&amp;action=edit">editing it</a></b>.</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#API_de_Widgets"><span class="tocnumber">1</span> <span class="toctext">API de Widgets</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Referencia_de_Funciones"><span class="tocnumber">2</span> <span class="toctext">Referencia de Funciones</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Definir_Barras_laterales"><span class="tocnumber">3</span> <span class="toctext">Definir Barras laterales</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Registrar_Varias_Barras_Laterales_.28Sidebars.29"><span class="tocnumber">3.1</span> <span class="toctext">Registrar Varias Barras Laterales (Sidebars)</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Regitrar_una_.C3.BAnica_Barra_Lateral"><span class="tocnumber">3.2</span> <span class="toctext">Regitrar una única Barra Lateral</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Mostrar_la_Barra_Lateral_en_el_Tema"><span class="tocnumber">3.3</span> <span class="toctext">Mostrar la Barra Lateral en el Tema</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Desarrollando_Widgets"><span class="tocnumber">4</span> <span class="toctext">Desarrollando Widgets</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Desarrollando_Widgets_en_2.8.2B"><span class="tocnumber">4.1</span> <span class="toctext">Desarrollando Widgets en 2.8+</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Uso_por_Defecto"><span class="tocnumber">4.1.1</span> <span class="toctext">Uso por Defecto</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Ejemplo"><span class="tocnumber">4.1.2</span> <span class="toctext">Ejemplo</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#.C2.BFQu.C3.A9_m.C3.A1s_puedo_hacer_con_Widgets.3F"><span class="tocnumber">4.2</span> <span class="toctext">¿Qué más puedo hacer con Widgets?</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Widgets_-_Multiple_Instances"><span class="tocnumber">4.3</span> <span class="toctext">Widgets - Multiple Instances</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Resources"><span class="tocnumber">4.4</span> <span class="toctext">Resources</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="API_de_Widgets">API de Widgets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=1" title="Edit section: API de Widgets">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Esta página contiene documentación técnica del API (Interfaz de Programación de Aplicaciones) para widgets de WordPress.  El público objetivo de esta información incluye a diseñadores de temas para WordPress, creadores de plugin y cualquiera que desde escribir un widget. Este documento asume unos conocimientos básicos de PHP. 
</p><p>Un widget es una <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/language.functions.php">función PHP</a> que imprime información en forma de cadenas a la salida estándar (STDOUT) cuando se le invoca. Para convertir una función PHP en un widget de WordPress, ésta ha de ser registrada como tal. Esto se hace utilizando un <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/language.pseudo-types.php">PHP callback</a> (un <i>pseudo-tipo</i> en la documentación de PHP) que se registra gracias a una función API de WordPress.
</p><p>El API de WordPress está ubicado en <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/widgets.php#L0">wp-includes/widgets.php</a></code>.
</p>
<h2><span class="mw-headline" id="Referencia_de_Funciones">Referencia de Funciones</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=2" title="Edit section: Referencia de Funciones">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table cellspacing="10" width="100%">

<tr valign="top">
<td width="50%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Funciones de Barra lateral (Sidebar)</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="https://codex.wordpress.org/Function_Reference/is_active_sidebar" title="Function Reference/is active sidebar">is_active_sidebar</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/register_sidebars" title="Function Reference/register sidebars">register_sidebars</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/register_sidebar" title="Function Reference/register sidebar">register_sidebar</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/unregister_sidebar" title="Function Reference/unregister sidebar">unregister_sidebar</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/is_dynamic_sidebar" title="Function Reference/is dynamic sidebar">is_dynamic_sidebar</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/dynamic_sidebar" title="Function Reference/dynamic sidebar">dynamic_sidebar</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/register_sidebar_widget" title="Function Reference/register sidebar widget">register_sidebar_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/unregister_sidebar_widget" title="Function Reference/unregister sidebar widget">unregister_sidebar_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_register_sidebar_widget" title="Function Reference/wp register sidebar widget">wp_register_sidebar_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_unregister_sidebar_widget" title="Function Reference/wp unregister sidebar widget">wp_unregister_sidebar_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_get_sidebars_widgets" title="Function Reference/wp get sidebars widgets">wp_get_sidebars_widgets</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_set_sidebars_widgets" title="Function Reference/wp set sidebars widgets">wp_set_sidebars_widgets</a></tt></li></ul>
</td></tr></table>
</td>
<td width="50%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Funciones de Widget</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="https://codex.wordpress.org/Function_Reference/is_active_widget" title="Function Reference/is active widget">is_active_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/the_widget" title="Function Reference/the widget">the_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/register_widget" title="Function Reference/register widget">register_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/unregister_widget" title="Function Reference/unregister widget">unregister_widget</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/register_widget_control" title="Function Reference/register widget control">register_widget_control</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/unregister_widget_control" title="Function Reference/unregister widget control">unregister_widget_control</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_register_widget_control" title="Function Reference/wp register widget control">wp_register_widget_control</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_unregister_widget_control" title="Function Reference/wp unregister widget control">wp_unregister_widget_control</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_convert_widget_settings" title="Function Reference/wp convert widget settings">wp_convert_widget_settings</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_get_widget_defaults" title="Function Reference/wp get widget defaults">wp_get_widget_defaults</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/wp_widget_description" title="Function Reference/wp widget description">wp_widget_description</a></tt></li></ul>
</td></tr></table>
</td></tr></table>
<h2><span class="mw-headline" id="Definir_Barras_laterales">Definir Barras laterales</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=3" title="Edit section: Definir Barras laterales">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Las funciones listadas más adelante se utilizan para añadir barras laterales funcionales al tema.
</p>
<h3><span class="mw-headline" id="Registrar_Varias_Barras_Laterales_.28Sidebars.29">Registrar Varias Barras Laterales (Sidebars)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=4" title="Edit section: Registrar Varias Barras Laterales (Sidebars)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>register_sidebars( $count, $args );
</pre>
<p>Registra una o más barras laterales para utilizar en el tema actual. Muchos temas disponen de una única barra lateral. Por esta razón, el parámetro <i>count</i> es opcional y el valor por defecto es 1.
</p><p>El parámetro <i>$args</i> se pasará a <a href="https://codex.wordpress.org/es:Referencia_de_Funciones/register_sidebar" title="es:Referencia de Funciones/register sidebar">register_sidebar()</a> y sigue su formato, con la excepción del nombre, que es tratado con sprintf() para insertar o añadir un número único a cada barra lateral si <i>count</i> es mayor que uno.
</p><p>Por ejemplo, la siguiente línea creará barras laterales con los nombres "Foobar 1" y "Foobar 2":
</p>
<pre>register_sidebars(2, array('name'=&gt;'Foobar&#160;%d'));
</pre>
<h3><span class="mw-headline" id="Regitrar_una_.C3.BAnica_Barra_Lateral">Regitrar una única Barra Lateral</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=5" title="Edit section: Regitrar una única Barra Lateral">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>register_sidebar( $args );
</pre>
<p>El parámetro opcional <i>$args</i> es un array asociativo que será pasado como primer argumento en toda respuesta de widget activos. (Si se pasa una cadena en vez de un array, será pasada a través de parse_str() para generar un array asociativo).  El uso básico de estos argumentos es pasar etiquetas HTML específicas de un tema para envolver al widget y a su título. Aquí están los valores por defecto:
</p>
<pre>
 'before_widget' =&gt; '&lt;li id="%1$s" class="widget&#160;%2$s"&gt;',
 'after_widget' =&gt; "&lt;/li&gt;n",
 'before_title' =&gt; '&lt;h2 class="widgettitle"&gt;',
 'after_title' =&gt; "&lt;/h2&gt;n"
</pre>
<p>Hay momentos en los que usted puede querer llamar a esta función en vez de registrar las barras laterales. Un ejemplo podría ser cuando usted desea dar nombres únicos a sus sidebars, tales como "Barra Lateral Derecha" y "Barra Lateral Izquierda", o cuando deberían ser marcadas de forma diferente. Los nombres aparecen en el interface de administración y se utilizan como índice para mantener la disposición de las barras. Tenga en cuenta que la disposición de las barras laterales se pueden reutilizar y sobre-escribir cuando se elige otro tema que utiliza los mismos nombres de barras laterales.
</p><p>Los valores por defecto before/after están pensados para temas que generan barras laterales marcadas como una lista con títulos "h2". Esta es la convención recomendada para los temas. Los temas construidos utilizando esta estructura pueden registrar barras laterales sin problemas gracias a las etiquetas before/after. Si un tema no puede ser marcado de esta forma, estas etiquetas deben especificarse al registrar la barra. Está recomendado copiar la id y los atributos literales de claase de forma que una llamada a un sprintf interno pueda funcionar y que los estilos CSS se puedan aplicar a widgets individuales.
</p>
<h3><span class="mw-headline" id="Mostrar_la_Barra_Lateral_en_el_Tema">Mostrar la Barra Lateral en el Tema</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=6" title="Edit section: Mostrar la Barra Lateral en el Tema">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>dynamic_sidebar( $sidebar );
</pre>
<p>Esta función llama a cada una de las respuestas de widget activos por orden, e imprime el marcado para las barras laterales. Si usted dispone de más de una barra lateral, debería dar a esta función el nombre o el número de la barra lateral que desea mostrar. Esta función devuelve true si termina correctamente, o false si encuentra un fallo.
</p><p>El valor de retorno podría utilizarse para determinar si se va a mostrar una barra lateral estática. Esto aseguraría que su tema se mostrará correctamente cuando el plugin de widget no esté activo. Debajo se muestra el uso recomendado de esta función, junto con un test para prevenir errores fatales:
</p>
<pre>
    &lt;ul id="sidebar"&gt;
        &lt;?php if (&#160;!function_exists('dynamic_sidebar') ||&#160;!dynamic_sidebar() )&#160;:&#160;?&gt;
            &lt;li&gt;{static sidebar item 1}&lt;/li&gt;
            &lt;li&gt;{static sidebar item 2}&lt;/li&gt;
        &lt;?php endif;&#160;?&gt;
    &lt;/ul&gt;
</pre>
<p>Si sus barras laterales fueron registrados con un número, deberían ser recuperadas con un número. Si tenían nombres cuando usted las registró, debería utilizar sus nombres.
</p>
<h2><span class="mw-headline" id="Desarrollando_Widgets">Desarrollando Widgets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=7" title="Edit section: Desarrollando Widgets">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Desarrollando_Widgets_en_2.8.2B">Desarrollando Widgets en 2.8+</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=8" title="Edit section: Desarrollando Widgets en 2.8+">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>El desarrollo de Widget es más sencillo desde la versión 2.8. Para crear uno, solo necesita extender la clase estándar widget y algunas de sus funciones.
</p><p>La clase base contiene información sobre la función que debe ser extendida para obtener un widget funcional.
</p>
<h4><span class="mw-headline" id="Uso_por_Defecto">Uso por Defecto</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=9" title="Edit section: Uso por Defecto">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>
class My_Widget extends WP_Widget {
	function My_Widget() {
		// procesos efectivos, reales del widget
	}

	function form($instance) {
		// saca el formulario de opciones en admin
	}

	function update($new_instance, $old_instance) {
		// procesa las opciones del widget que se guardarán
	}

	function widget($args, $instance) {
		// saca el contenido del widget
	}

}
register_widget('My_Widget');
</pre>
<h4><span class="mw-headline" id="Ejemplo">Ejemplo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=10" title="Edit section: Ejemplo">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Este ejemplo crea un Widget llamado <i>FooWidget</i> que tiene un formulario de configuraciones para cambiar el título.
</p>
<pre>
/**
 * FooWidget Class
 */
class FooWidget extends WP_Widget {
    /** constructor */
    function FooWidget() {
        parent::WP_Widget(false, $name = 'FooWidget');	
    }

    /** @see WP_Widget::widget */
    function widget($args, $instance) {		
        extract( $args );
        $title = apply_filters('widget_title', $instance['title']);
       &#160;?&gt;
              &lt;?php echo $before_widget;&#160;?&gt;
                  &lt;?php if ( $title )
                        echo $before_title . $title . $after_title;&#160;?&gt;
                  Hello, World!
              &lt;?php echo $after_widget;&#160;?&gt;
        &lt;?php
    }

    /** @see WP_Widget::update */
    function update($new_instance, $old_instance) {				
	$instance = $old_instance;
	$instance['title'] = strip_tags($new_instance['title']);
        return $instance;
    }

    /** @see WP_Widget::form */
    function form($instance) {				
        $title = esc_attr($instance['title']);
       &#160;?&gt;
            &lt;p&gt;&lt;label for="&lt;?php echo $this-&gt;get_field_id('title');&#160;?&gt;"&gt;&lt;?php _e('Title:');&#160;?&gt; &lt;input class="widefat" id="&lt;?php echo $this-&gt;get_field_id('title');&#160;?&gt;" name="&lt;?php echo $this-&gt;get_field_name('title');&#160;?&gt;" type="text" value="&lt;?php echo $title;&#160;?&gt;" /&gt;&lt;/label&gt;&lt;/p&gt;
        &lt;?php 
    }

} // clase FooWidget
</pre>
<p>Este widget puede registrarse en el gancho <i>widgets_init</i>:
</p>
<pre>
// registrar el widget FooWidget
add_action('widgets_init', create_function('', 'return register_widget("FooWidget");'));
</pre>
<p>Esto es todo. Usted habrá obtenido automáticamente un widget múltiple. No hay que darle más vueltas.
</p><p>Hay más información disponible en  <a href="https://codex.wordpress.org/Version_2.8#New_Widgets_API" title="Version 2.8">información sobre la versión 2.8</a>.
</p>
<h3><span class="mw-headline" id=".C2.BFQu.C3.A9_m.C3.A1s_puedo_hacer_con_Widgets.3F">¿Qué más puedo hacer con Widgets?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=11" title="Edit section: ¿Qué más puedo hacer con Widgets?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Gracias por preguntar. Aquí tiene unas cuantas ideas:
</p>
<ul><li> Escribir un tema que incluya un widget especial que lo diferencie de los demás.</li>
<li> Registrar un widget que reemplace a uno original y transformarlo de alguna manera.</li>
<li> Recuerde que un "widget" realmente no es más que un nombre para un código configurable. Puede ser invisible o posicionarse de forma absoluta; horizontalmente o verticalmente.</li>
<li> Utilice los atributos de clase y el id de uno o todos los widgets en los scripts para animar su barra lateral.</li>
<li> Intente utilizar jQuery (incluida con WordPress) para hacer sus widgets arrastrables o replegables....</li>
<li> REcuerde, el contro API de widget está disponible para su provecho. Usted siempre puede optar por diseñar su propia página de administración.</li>
<li> De soporte a sus usuarios y obtenga feedback de forma que pueda mejorar su widget. Pong un link a su email o su web en el pie de página de su widget.</li>
<li> Para que su widget sea considerado para su uso en WordPress.com, por favor, envie un link (no adjuntos, por favor) a widgets@wordpress.com.</li></ul>
<h3><span class="mw-headline" id="Widgets_-_Multiple_Instances">Widgets - Multiple Instances</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=12" title="Edit section: Widgets - Multiple Instances">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Widgets can be coded for multiple instances or a single instance.
</p>
<h3><span class="mw-headline" id="Resources">Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=es:API_de_Widget&amp;action=edit&amp;section=13" title="Edit section: Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> <a rel="nofollow" class="external text" href="http://justintadlock.com/archives/2009/05/26/the-complete-guide-to-creating-widgets-in-wordpress-28">The complete guide to creating widgets in WordPress 2.8</a></li>
<li> <a rel="nofollow" class="external text" href="http://brainfart.com.ua/post/lesson-wordpress-multi-widgets/">Multiple Widget Lesson</a></li>
<li> <a rel="nofollow" class="external text" href="http://jessealtman.com/2009/06/08/tutorial-wordpress-28-widget-api/">Tutorial for creating a widget using WordPress 2.8</a></li>
<li> <a rel="nofollow" class="external text" href="http://wpengineer.com/wordpress-built-a-widget/">Build A WordPress 2.8 Widget With The New Widget API</a></li></ul>


