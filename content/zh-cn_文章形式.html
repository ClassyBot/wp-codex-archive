<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Post">Formats 日本語</a> 
<a href="https://codex.wordpress.org/pt-br:Formatos_de_Posts" title="pt-br:Formatos de Posts">Português do Brasil</a> • 

<a href="https://codex.wordpress.org/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9" title="Форматы записей">Русский</a> • 

<strong class="selflink">中文(简体)</strong> • 
<a href="https://codex.wordpress.org/zh-tw:%E6%96%87%E7%AB%A0%E6%A0%BC%E5%BC%8F" title="zh-tw:文章格式">中文(繁體)</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<p>在 <a href="/index.php?title=zh-cn:3.1_%E7%89%88%E6%9C%AC&amp;action=edit&amp;redlink=1" class="new" title="zh-cn:3.1 版本 (page does not exist)">3.1 版本</a>中引入的<strong class="selflink">文章形式</strong>，是文章的一种属性，可以被主题用来决定文章的显示方式。其设计目的是要提供一个特殊的方法来根据文章的特点选用显示“格式”。该方法用于替代以前需要使用分类来达到同样目的的做法，而且更重要的是，该方法在支持的主题间是通用的。
</p><p>简单地说，如果一位博客作者正在使用一个支持“文章形式”的主题，那么作者就可以从一个单选列表中选择文章的形式，以此决定文章的显示样式。
</p><p>以<b>微博式</b>（aside）为例，以前曾经创建了一个称作“Asides”的分类，指定为该分类的文章在显示的时候与别的文章不同，而是基于<a href="https://codex.wordpress.org/Template_Tags/post_class" title="Template Tags/post class" class="mw-redirect">post_class()</a> 或者 <a href="https://codex.wordpress.org/Conditional_Tags" title="Conditional Tags">in_category('asides')</a>所设定的样式规则。有了<strong class="selflink">文章形式</strong>，就为主题设定文章格式提供了一种的新方法（例如，<a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support">add_theme_support('post-formats', array('aside'))</a>），然后就可以在保存文章的时候在发布信息框里选择对应的文章格式。通过调用功能函数<a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format( $post-&gt;ID )</a>就能确定文章所属格式，而<a href="https://codex.wordpress.org/Template_Tags/post_class" title="Template Tags/post class" class="mw-redirect">post_class()</a>将会创建“format-asides”类，以用于纯 CSS 样式编辑。
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E6.94.AF.E6.8C.81.E7.9A.84.E5.BD.A2.E5.BC.8F"><span class="tocnumber">1</span> <span class="toctext">支持的形式</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E5.8F.82.E8.80.83.E5.87.BD.E6.95.B0"><span class="tocnumber">2</span> <span class="toctext">参考函数</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.E6.B7.BB.E5.8A.A0.E4.B8.BB.E9.A2.98.E6.94.AF.E6.8C.81"><span class="tocnumber">3</span> <span class="toctext">添加主题支持</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.E5.90.8E.E5.90.91.E5.85.BC.E5.AE.B9"><span class="tocnumber">4</span> <span class="toctext">后向兼容</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E6.94.AF.E6.8C.81.E7.9A.84.E5.BD.A2.E5.BC.8F">支持的形式</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%96%87%E7%AB%A0%E5%BD%A2%E5%BC%8F&amp;action=edit&amp;section=1" title="Edit section: 支持的形式">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>目前支持以下文章格式：
</p>
<ul><li> <b><a href="https://codex.wordpress.org/Adding_Asides" title="Adding Asides">日志（aside）</a></b> - 典型样式就是没有标题。类似于 Facebook 或人人网中更新的一条日志。</li>
<li> <b>相册（gallery）</b> - 图像陈列厅。文章中通常会有“gallery”代码和相应的图像附件。</li>
<li> <b>链接（link）</b> - 链接到其它网站的链接。主题可能会使用文章中的第一个 &lt;a href=""&gt; 标签作为文章的外部链接。有可能有的文章至包含一个 URL，那么这个 URL 将会被使用；同时，文章标题（post_title）将会是附加到它的锚的名称。</li>
<li> <b>图像（image）</b> - 单张图像。文章中的首个 &lt;img /&gt; 标记将会被认为是该图片。另外，如果文章只包含一个 URL 链接，则被认为是该图片的 URL 地址，而文章标题（post_title）将会作为图片的标题属性。</li>
<li> <b>引语（quote）</b> -  引用他人的一段话。通常使用 blockquote 来包裹引用内容。或者，可能直接将引语写入文章，并将其出处写在标题栏。</li>
<li> <b>状态（status）</b> - 简短更新，通常最多 140 个字符。类似于微博 Twitter 状态消息。</li>
<li> <b>视频（video）</b> - 单一视频。文章中第一个 &lt;video /&gt; 或 object 或 embed 将被作为视频处理。或者，文章可以仅包含视频的 URL，甚至一些主题和插件可以支持自动嵌入您的文章附件中的视频。</li>
<li> <b>音频（audio）</b> - 一个音频文件。可以用于播客（podcasting）等。</li>
<li> <b>聊天（chat）</b> - 聊天记录，类似于：</li></ul>
<pre>
张三: foo
李四: bar
张三: foo 2
</pre>
<p>注意：当编辑文章时，若没有指定文章样式，则默认使用“标准”。同样，若指定了一个无效的文章形式，那么也将默认使用标准样式。
</p>
<h2><span class="mw-headline" id=".E5.8F.82.E8.80.83.E5.87.BD.E6.95.B0">参考函数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%96%87%E7%AB%A0%E5%BD%A2%E5%BC%8F&amp;action=edit&amp;section=2" title="Edit section: 参考函数">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>主题和插件可以使用函数 <a href="https://codex.wordpress.org/Function_Reference/set_post_format" title="Function Reference/set post format">set_post_format()</a> 来设置形式，使用 <a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format()</a> 来查询形式，使用 <a href="https://codex.wordpress.org/Function_Reference/has_post_format" title="Function Reference/has post format">has_post_format()</a> 来检查是否已经设置了某个形式。
</p>
<h2><span class="mw-headline" id=".E6.B7.BB.E5.8A.A0.E4.B8.BB.E9.A2.98.E6.94.AF.E6.8C.81">添加主题支持</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%96%87%E7%AB%A0%E5%BD%A2%E5%BC%8F&amp;action=edit&amp;section=3" title="Edit section: 添加主题支持">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>主题必须使用 <a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support">add_theme_support()</a> 函数，通过传递一个数组来告诉 WordPress 使用何种文章形式，例如：
</p>
<pre>add_theme_support( 'post-formats', array( 'aside', 'gallery' ) );</pre>
<p>然后在主题中使用 <a href="https://codex.wordpress.org/Function_Reference/get_post_format" title="Function Reference/get post format">get_post_format()</a> 函数以检查文章格式，并据此来修改格式。要注意的是使用默认格式的文章时，该函数返回值为FALSE。或者使用 <a href="https://codex.wordpress.org/Conditional_Tags" title="Conditional Tags">条件判断标签函数</a> <a href="https://codex.wordpress.org/Function_Reference/has_post_format" title="Function Reference/has post format">has_post_format()</a>：
</p>
<pre>
if ( has_post_format( 'video' )) {
  echo 'this is the video format';
}
</pre>
<h2><span class="mw-headline" id=".E5.90.8E.E5.90.91.E5.85.BC.E5.AE.B9">后向兼容</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%96%87%E7%AB%A0%E5%BD%A2%E5%BC%8F&amp;action=edit&amp;section=4" title="Edit section: 后向兼容">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>如果要让你的插件或主题兼容早期版本的 WordPress，你需要按照 post-format-$format 的格式添加 "post_format" 分类。例如
</p>
<pre>
wp_insert_term('post-format-aside', 'post_format');
</pre>
<p>还需要用函数 <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy" title="Function Reference/register taxonomy">register_taxonomy()</a> 来注册 post_format 文章形式分类。
</p>
<div style="background-color:#EEEEFF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">本文已被<a href="https://codex.wordpress.org/Category:zh-cn:Copyedits" title="Category:zh-cn:Copyedits">标记</a>为需要加工。欢迎您踊跃<b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=zh-cn:%E6%96%87%E7%AB%A0%E5%BD%A2%E5%BC%8F&amp;action=edit">编辑</a>它</b>，来<a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">帮助</a> Codex。</div>

<!-- 
NewPP limit report
Cached time: 20190429054903
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.095 seconds
Preprocessor visited node count: 110/1000000
Preprocessor generated node count: 563/1000000
Post‐expand include size: 1851/2097152 bytes
Template argument size: 632/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   53.567      1 - -total
 67.96%   36.406      1 - Template:zh-cn:Copyedit
 30.53%   16.355      1 - Template:Languages
 11.74%    6.288      1 - Template:Message
  3.81%    2.040      1 - Template:ru
  3.44%    1.844      1 - Template:pt-br
  2.91%    1.561      1 - Template:ja
  2.68%    1.434      1 - Template:zh-tw
  2.61%    1.396      1 - Template:zh-cn
  2.59%    1.387      1 - Template:en
-->
