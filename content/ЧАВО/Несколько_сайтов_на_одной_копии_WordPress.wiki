[[Создание сети|Режим Multisite]] — не единственный способ создания нескольких сайтов на одной копии движка.

В файлах WordPress хранит только параметры для соединения к базе данных. Все остальные настройки хранятся уже в самой базе данных.

Так как база у нас общая, то имя пользователя, пароль и название базы данных для каждого сайта одинаковы. Разными будут только префиксы таблиц. В качестве префикса можно использовать значение <code>$_SERVER['HTTP_HOST']</code>, которое индивидуально для каждого сайта.

Процесс состоит из двух шагов:
# Прикрепить домен каждого сайта к каталогу, в котором находится WordPress.
# Заменить строку <code>$table_prefix  = 'wp_';</code> в файле <code>wp-config.php</code> на подобный фрагмент:
 $prefix = str_replace( array( 'www.', '-', '.' ), &#x27;', $_SERVER['HTTP_HOST'] );
 $table_prefix = $prefix . '_';

P.S. Данный код подойдёт только для блогов на разных доменах. Если блоги на одном домене, то надо разбирать <code>$_SERVER['REQUEST_URI']</code> и брать часть пути.

Автор приёма: Денис Болтиков

[[ЧАВО|« Вернуться к ЧАВО]]

[[Category:Russian Codex]]