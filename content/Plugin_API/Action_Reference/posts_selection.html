<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This page is <a href="https://codex.wordpress.org/Category:Stubs" title="Category:Stubs">marked</a> as incomplete. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=Plugin_API/Action_Reference/posts_selection&amp;action=edit">expanding it</a></b>.</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Example_Usage"><span class="tocnumber">2</span> <span class="toctext">Example Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Source_File"><span class="tocnumber">3</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Related"><span class="tocnumber">4</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/posts_selection&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This <a href="https://codex.wordpress.org/Plugin_API/Action_Reference" title="Plugin API/Action Reference">action hook</a> is executed prior to the query, and is passed a string containing the assembled query. Note that this string is NOT passed by reference and manipulating this string will not affect the actual query. This is intended to be used primarily by caching plugins.
</p>
<h2><span class="mw-headline" id="Example_Usage">Example Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/posts_selection&amp;action=edit&amp;section=2" title="Edit section: Example Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre>
add_action( 'posts_selection', 'check_assembled_query' );

function check_assembled_query( $query ) {
    var_dump( $query );
}
</pre>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/posts_selection&amp;action=edit&amp;section=3" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The 'posts_selection' hook is found in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src//wp-includes/query.php#L0">/wp-includes/query.php</a></code>, within the get_posts() method of the <a href="https://codex.wordpress.org/Class_Reference/WP_Query" title="Class Reference/WP Query">WP_Query()</a> class.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/posts_selection&amp;action=edit&amp;section=4" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Filter: <a href="/index.php?title=Plguin_API/Filter_Reference/posts_fields&amp;action=edit&amp;redlink=1" class="new" title="Plguin API/Filter Reference/posts fields (page does not exist)">posts_fields</a></li>
<li> Filter: <a href="/index.php?title=Plguin_API/Filter_Reference/posts_clauses&amp;action=edit&amp;redlink=1" class="new" title="Plguin API/Filter Reference/posts clauses (page does not exist)">posts_clauses</a></li>
<li> et al</li></ul>


