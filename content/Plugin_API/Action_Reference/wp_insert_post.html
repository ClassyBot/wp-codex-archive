<p>The wp_insert_post action fires once a post has been saved. You have the ability to set it to only fire on new posts or on all save actions using the parameters. Please see <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/save_post" title="Plugin API/Action Reference/save post">Plugin_API/Action_Reference/save_post</a> for more information. Keep in mind that this action is called both for actions in the admin as well as anytime the wp_insert_post() function is invoked. 
</p><p>This action can be replicated by creating a conditional in a <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/save_post" title="Plugin API/Action Reference/save post">save_post</a> action that excludes certain post statuses.
</p><p>An important distinction of wp_insert_post action is that it is fired after update_post_meta has been called.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Parameters"><span class="tocnumber">1</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Examples"><span class="tocnumber">2</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Source_File"><span class="tocnumber">3</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Related"><span class="tocnumber">4</span> <span class="toctext">Related</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Actions"><span class="tocnumber">4.1</span> <span class="toctext">Actions</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Filters"><span class="tocnumber">4.2</span> <span class="toctext">Filters</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit&amp;section=1" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>$post_ID - (int) Post ID.</li>
<li>$post - (WP_Post) Post object.</li>
<li>$update - (bool) Whether this is an existing post being updated or not.</li></ul>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit&amp;section=2" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Below is a basic example that will send an email every time a post or page is created or updated on your website.
</p>
<pre>
function my_project_updated_send_email( $post_id, $post, $update ) {

	// If this is a revision, don't send the email.
	if ( wp_is_post_revision( $post_id ) )
		return;

	$post_url = get_permalink( $post_id );
	$subject = 'A post has been updated';

	$message = "A post has been updated on your website:\n\n";
	$message .= $post-&gt;post_title . ": " . $post_url;

	// Send email to admin.
	wp_mail( 'admin@example.com', $subject, $message );
}
add_action( 'wp_insert_post', 'my_project_updated_send_email', 10, 3 );
</pre>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit&amp;section=3" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Triggered by <a href="https://codex.wordpress.org/Function_Reference/wp_insert_post" title="Function Reference/wp insert post">wp_insert_post</a> and <a href="https://codex.wordpress.org/Function_Reference/wp_publish_post" title="Function Reference/wp publish post">wp_publish_post</a> in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/post.php#L0">wp-includes/post.php</a></code>
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit&amp;section=4" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Actions">Actions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit&amp;section=5" title="Edit section: Actions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> Saving
<ul><li> <a href="/index.php?title=Plugin_API/Action_Reference/edit_post&amp;action=edit&amp;redlink=1" class="new" title="Plugin API/Action Reference/edit post (page does not exist)">edit_post</a></li>
<li> <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/save_post" title="Plugin API/Action Reference/save post">save_post</a></li>
<li> <strong class="selflink">wp_insert_post</strong></li></ul></li></ul>
<h3><span class="mw-headline" id="Filters">Filters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit&amp;section=6" title="Edit section: Filters">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> <a href="/index.php?title=Plugin_API/Filter_Reference/redirect_post_location&amp;action=edit&amp;redlink=1" class="new" title="Plugin API/Filter Reference/redirect post location (page does not exist)">redirect_post_location</a> - redirects a user to a certain location after post creation</li></ul>
<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This page is <a href="https://codex.wordpress.org/Category:Stubs" title="Category:Stubs">marked</a> as incomplete. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=Plugin_API/Action_Reference/wp_insert_post&amp;action=edit">expanding it</a></b>.</div>


