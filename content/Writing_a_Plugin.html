<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/ar:%D9%83%D8%AA%D8%A7%D8%A8%D8%A9_%D8%A7%D9%84%D8%A5%D8%B6%D8%A7%D9%81%D8%A9" title="ar:كتابة الإضافة">العربية</a> • 

<a href="https://codex.wordpress.org/bn:%E0%A6%AA%E0%A7%8D%E0%A6%B2%E0%A6%BE%E0%A6%97%E0%A6%87%E0%A6%A8_%E0%A6%B2%E0%A7%87%E0%A6%96%E0%A6%BE" title="bn:প্লাগইন লেখা">বাংলা</a> • 

<a href="https://codex.wordpress.org/es:Escribiendo_un_Plugin" title="es:Escribiendo un Plugin">Español</a> • 

<a href="https://codex.wordpress.org/it:Scrivi_un_Plugin" title="it:Scrivi un Plugin">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Writing">a Plugin 日本語</a> 
<a href="https://codex.wordpress.org/ko:Writing_a_Plugin" title="ko:Writing a Plugin">한국어</a> • 
<a href="https://codex.wordpress.org/pt-br:Escrevendo_um_Plugin" title="pt-br:Escrevendo um Plugin">Português do Brasil</a> • 

<a href="https://codex.wordpress.org/%D0%9D%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D0%B0" title="Написание плагина">Русский</a> • 

<a rel="nofollow" class="external text" href="http://codex.wordthai.com/Writing+a+Plugin">ไทย</a> • 

<a href="https://codex.wordpress.org/zh-cn:%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%8F%92%E4%BB%B6" title="zh-cn:开发一个插件">中文(简体)</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Creating_a_Plugin"><span class="tocnumber">2</span> <span class="toctext">Creating a Plugin</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Names.2C_Files.2C_and_Locations"><span class="tocnumber">2.1</span> <span class="toctext">Names, Files, and Locations</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Plugin_Name"><span class="tocnumber">2.1.1</span> <span class="toctext">Plugin Name</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Plugin_Files"><span class="tocnumber">2.1.2</span> <span class="toctext">Plugin Files</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Readme_File"><span class="tocnumber">2.1.3</span> <span class="toctext">Readme File</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Home_Page"><span class="tocnumber">2.1.4</span> <span class="toctext">Home Page</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#File_Headers"><span class="tocnumber">2.2</span> <span class="toctext">File Headers</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Standard_Plugin_Information"><span class="tocnumber">2.2.1</span> <span class="toctext">Standard Plugin Information</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#License"><span class="tocnumber">2.2.2</span> <span class="toctext">License</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Programming_Your_Plugin"><span class="tocnumber">2.3</span> <span class="toctext">Programming Your Plugin</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#WordPress_Plugin_Hooks"><span class="tocnumber">2.3.1</span> <span class="toctext">WordPress Plugin Hooks</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Template_Tags"><span class="tocnumber">2.3.2</span> <span class="toctext">Template Tags</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Saving_Plugin_Data_to_the_Database"><span class="tocnumber">2.3.3</span> <span class="toctext">Saving Plugin Data to the Database</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#WordPress_Options_Mechanism"><span class="tocnumber">2.3.4</span> <span class="toctext">WordPress Options Mechanism</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Administration_Panels"><span class="tocnumber">2.3.5</span> <span class="toctext">Administration Panels</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Internationalizing_Your_Plugin"><span class="tocnumber">2.4</span> <span class="toctext">Internationalizing Your Plugin</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Updating_Your_Plugin"><span class="tocnumber">3</span> <span class="toctext">Updating Your Plugin</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Plugin_Development_Suggestions"><span class="tocnumber">4</span> <span class="toctext">Plugin Development Suggestions</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#External_Resources"><span class="tocnumber">5</span> <span class="toctext">External Resources</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a href="https://codex.wordpress.org/Plugins" title="Plugins">WordPress Plugins</a> allows you to easily modify, customize, and enhance a WordPress site. Instead of changing the core program code of WordPress, you can add functionality with WordPress Plugins. Here is a basic definition.
</p><p>A <b>WordPress Plugin</b> is a program or a set of one or more functions written in the PHP scripting language, that adds a specific set of features or services to the WordPress site. You can seamlessly integrate a plugin with the site using access points and methods provided by the WordPress <a href="https://codex.wordpress.org/Plugin_API" title="Plugin API">Plugin Application Program Interface (API)</a>. 
</p><p>Wish that WordPress had some new or modified functionality? The first thing to do is to search various WordPress Plugin repositories and sources to see if someone has already created a WordPress Plugin that suits your needs. If not, this article will guide you through the process of creating your own WordPress Plugin.
</p><p><i>This article assumes you are already familiar with the basic functionality of WordPress and with PHP programming.</i>
</p><p>Resources
</p>
<ul><li> To understand how WordPress Plugins work and how to install them on your WordPress blog, see <a href="https://codex.wordpress.org/Plugins" title="Plugins">Plugins</a>.</li>
<li> There is a comprehensive list of articles and resources for Plugin developers in <a href="https://codex.wordpress.org/Plugin_Resources" title="Plugin Resources">Plugin Resources</a>, including external articles on writing WordPress Plugins and articles on special topics.</li>
<li> To learn the basics about how WordPress Plugins are written, view the source code for a well-written Plugin like <a href="https://codex.wordpress.org/Plugins#Default_Plugins" title="Plugins">Hello Dolly</a>, which is distributed with WordPress.</li>
<li> Once you have written your WordPress Plugin, read <a href="https://codex.wordpress.org/Plugin_Submission_and_Promotion" title="Plugin Submission and Promotion">Plugin Submission and Promotion</a> to learn how to distribute it and share it with others.</li></ul>
<h1><span class="mw-headline" id="Creating_a_Plugin">Creating a Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=2" title="Edit section: Creating a Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This section of the article goes through the steps you need to follow – and some things you need to consider – when creating a well-structured WordPress Plugin.
</p>
<h2><span class="mw-headline" id="Names.2C_Files.2C_and_Locations">Names, Files, and Locations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=3" title="Edit section: Names, Files, and Locations">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Plugin_Name">Plugin Name</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=4" title="Edit section: Plugin Name">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The first task in creating a WordPress Plugin is to think about what the Plugin will do, then choose a (preferably unique) name for your Plugin. Check out the <a rel="nofollow" class="external text" href="https://wordpress.org/plugins/">Plugins</a> page (and the other repositories linked there) to verify that your name is unique. You could also do a Google search on your proposed name. Most Plugin developers choose to use names that describe what the Plugin does: for instance, a weather-related Plugin would probably have the word "weather" in the name. The name can be made up of multiple words.
</p>
<h3><span class="mw-headline" id="Plugin_Files">Plugin Files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=5" title="Edit section: Plugin Files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The next step is to create a PHP file with a name derived from your chosen Plugin name. For instance, if your Plugin is going to be called "Fabulous Functionality", you might call your PHP file <i>fabulous-functionality.php</i>. People who install your Plugin will be putting this PHP file into the WordPress Plugins directory in their installation – usually <i>wp-content/plugins/</i> – so no two Plugins in that directory can have the same PHP file name.
</p><p>Your Plugin filename should also be unique so that your Plugin will not conflict with another in the Plugin Repository. A good solution is to use your name or the name of your company as a prefix, without spaces or special characters –for example, <i>mycompanyname-fabulous-functionality.php</i>.
</p><p>Your WordPress Plugin must have at least one PHP file; it could also contain JavaScript files, CSS files, image files and language files. If there are multiple files, pick a unique name for a directory and a name of your choice for the main PHP file. (This file name is often, but not essentially, the same as the directory name.) Example directory and file names could be <i>mycompanyname-fabulous-functionality</i> and <i>mycompanyname-fabulous-functionality.php</i> respectively. Put all your Plugin's files into the directory you've created and tell your Plugin users to upload the whole directory to <i>wp-content/plugins/</i>.
</p><p>If you use a directory to contain your Plugin files, then the directory name will be used by WordPress when checking the WordPress Plugin Repository for updates. If your plugin only consists of a single PHP file, then the file name will be used. If WordPress tells you that a newer version of your Plugin is available, but you know nothing about a newer version, beware. It's possible that another Plugin with the same directory name or file name is in the Plugin Repository, and it's this one which WordPress is seeing.
</p><p>A WordPress installation can be configured so that the standard Plugin directory is changed from <i>wp-content/plugins/</i>, so you must use <a href="https://codex.wordpress.org/Function_Reference/plugin_dir_path" title="Function Reference/plugin dir path"> plugin_dir_path()</a> and <a href="https://codex.wordpress.org/Function_Reference/plugins_url" title="Function Reference/plugins url"> plugins_url()</a> for absolute paths and URLs within your PHP code. For more details see <a href="https://codex.wordpress.org/Determining_Plugin_and_Content_Directories" title="Determining Plugin and Content Directories">Determining Plugin and Content Directories</a>.
</p><p>In the rest of this article, "the Plugin PHP file" refers to the main Plugin PHP file: whether it's directly in the <i>wp-content/plugins/</i> directory, or in a sub-directory.
</p><p><b>Security Note</b>: Consider blocking direct access to your plugin PHP files by adding the following line at the top of each of them. Also, be sure to refrain from executing sensitive standalone PHP code before calling any WordPress functions.
</p><p>This can be achieved in a few ways. You can either check to see if the <code>ABSPATH</code> constant is defined, or check if a function such as <code>add_action</code> exists. Either method can be used to ensure PHP execution is only allowed when it is included as part of the core system.
</p>
<pre>
defined( 'ABSPATH' ) or die( 'No script kiddies please!' );
</pre>
<h3><span class="mw-headline" id="Readme_File">Readme File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=6" title="Edit section: Readme File">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you want to host your Plugin on <a rel="nofollow" class="external free" href="https://wordpress.org/plugins/">https://wordpress.org/plugins/</a>, you need to create a <i>readme.txt</i> file within your plugin directory in a standardized format. You can use the automatic <a rel="nofollow" class="external text" href="http://generatewp.com/plugin-readme/">plugin 'readme.txt' generator</a>.
</p><p>The WordPress plugin repository uses the "Requires" and "Tested up to" versions from the <i>readme.txt</i> in the stable tag.
</p>
<h3><span class="mw-headline" id="Home_Page">Home Page</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=7" title="Edit section: Home Page">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It is very useful for users of the Plugin if you create a web page to act as a source of information for your WordPress Plugin. This page should describe how to install the Plugin, what it does, what versions of WordPress it is compatible with, what has changed from version to version of your Plugin, and how to use the Plugin.
</p>
<h2><span class="mw-headline" id="File_Headers">File Headers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=8" title="Edit section: File Headers">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Now it's time to put some information into your main Plugin PHP file.
</p>
<h3><span class="mw-headline" id="Standard_Plugin_Information">Standard Plugin Information</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=9" title="Edit section: Standard Plugin Information">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a rel="nofollow" class="external text" href="https://developer.wordpress.org/plugins/the-basics/header-requirements/">Read about this in the plugin developer handbook.</a>
</p>
<h3><span class="mw-headline" id="License">License</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=10" title="Edit section: License">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a rel="nofollow" class="external text" href="http://developer.wordpress.org/plugins/the-basics/including-a-software-license/">Read about this in the plugin developer handbook.</a>
</p>
<h2><span class="mw-headline" id="Programming_Your_Plugin">Programming Your Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=11" title="Edit section: Programming Your Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Next, it's time to make your Plugin actually do something. This section contains some general ideas about Plugin development and describes how to allow your Plugin to accomplish several tasks.
</p>
<h3><span class="mw-headline" id="WordPress_Plugin_Hooks">WordPress Plugin Hooks</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=12" title="Edit section: WordPress Plugin Hooks">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Many WordPress Plugins accomplish their goals by connecting to one or more WordPress Plugin "hooks". The way Plugin hooks work is that at various times while WordPress is running, WordPress checks to see whether any Plugins have registered functions to run at that time. If so, then these functions are run. These functions modify the default behavior of WordPress.
</p><p>For instance, before WordPress adds the title of a post to browser output, it first checks to see if any Plugin has registered a function for the "filter" hook called "the_title". If so, the title text is passed in turn through each registered function and the final output is the end result of any and all of these registered functions. If your Plugin needs to add some information to the printed title, it can register a special function which is called when the "the_title" filter is called.
</p><p>Another example is the "action" hook "wp_footer". Just before the end of the HTML page generated by WordPress, this hook checks to see whether any Plugins have registered functions against it. If so, it runs them in turn.
</p><p>You can learn more about how to register functions for both filter and action hooks – and what Plugin hooks are available in WordPress – in the <a href="https://codex.wordpress.org/Plugin_API" title="Plugin API">Plugin API</a>. If you find a spot in the WordPress code where you'd like to have an action or filter, but WordPress doesn't have one, you can also suggest new hooks. (Suggestions will generally be taken; see <a href="https://codex.wordpress.org/Reporting_Bugs" title="Reporting Bugs">Reporting Bugs</a> to find out how you can submit a suggestion.)
</p>
<h3><span class="mw-headline" id="Template_Tags">Template Tags</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=13" title="Edit section: Template Tags">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Another way for a WordPress Plugin to add functionality to WordPress is by creating custom <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>. Someone who wants to use your Plugin can add these "tags" to their theme, in the sidebar, post content section, or wherever it is appropriate. For instance, a Plugin that adds geographical tags to posts might define a template tag function called <tt>geotag_list_states()</tt> for the sidebar, which lists all the states posts are tagged with, with links to the state-based archive pages the Plugin enables.
</p><p>To define a custom template tag, simply write a PHP function and document it for Plugin users on your Plugin's home page and/or in the Plugin's main PHP file. It's a good idea when documenting the function to give an example of exactly what needs to be added to the theme file to use the function, including the <tt>&lt;?php</tt> and <tt>?&gt;</tt>.
</p>
<h3><span class="mw-headline" id="Saving_Plugin_Data_to_the_Database">Saving Plugin Data to the Database</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=14" title="Edit section: Saving Plugin Data to the Database">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Most WordPress Plugins will need to get some input from the site owner or blog users and save it between sessions, for use in its filter functions, action functions, and template functions. This information has to be saved in the WordPress database, in order to be persistent between sessions. There are four (4) methods for saving Plugin data in the database:
</p>
<ol><li> Use the WordPress "option" mechanism (described below). This method is appropriate for storing relatively small amounts of relatively static, named pieces of data -- the type of data you'd expect the site owner to enter when first setting up the Plugin, and rarely change thereafter.</li>
<li> Post Meta (a.k.a. Custom Fields).  Appropriate for data associated with individual posts, pages, or attachments.  See <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples">post_meta Function Examples</a>, <a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta">add_post_meta()</a>, and related functions.</li>
<li> Custom Taxonomy. For classifying posts or other objects like users and comments and/or for a user-editable name/value list of data consider using a Custom Taxonomy, especially when you want to access all posts/objects associated with a given taxonomy term. See <a href="https://codex.wordpress.org/Taxonomies#Custom_Taxonomies" title="Taxonomies">Custom Taxonomies</a>.</li>
<li> Create a new, custom database table. This method is appropriate for data not associated with individual posts, pages, attachments, or comments -- the type of data that will grow as time goes on, and that doesn't have individual names. See <a href="https://codex.wordpress.org/Creating_Tables_with_Plugins" title="Creating Tables with Plugins">Creating Tables with Plugins</a> for information on how to do this.</li></ol>
<h3><span class="mw-headline" id="WordPress_Options_Mechanism">WordPress Options Mechanism</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=15" title="Edit section: WordPress Options Mechanism">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>See <a href="https://codex.wordpress.org/Creating_Options_Pages" title="Creating Options Pages">Creating Options Pages</a> for info on how to create a page that will automatically save your options for you.
</p><p>WordPress has a mechanism for saving, updating, and retrieving individual, named pieces of data ("options") in the WordPress database. Option values can be strings, arrays, or PHP objects (they will be "serialized", or converted to a string, before storage, and unserialized when retrieved). Option names are strings, and they must be unique so that they do not conflict with either WordPress or other Plugins. 
</p><p>It's also generally considered a good idea to minimize the number of options you use for your plugin. For example, instead of storing 10 different named options consider storing a serialized array of 10 elements as a single named option.
</p><p>Here are the main functions your Plugin can use to access WordPress options.
</p>
<pre>
add_option($name, $value, $deprecated, $autoload);
</pre>
<dl><dd> Creates a new option; does nothing if option already exists.</dd>
<dt>$name</dt>
<dd> Required (string). Name of the option to be added.</dd>
<dt>$value</dt>
<dd> Optional (mixed), defaults to empty string. The option value to be stored.</dd>
<dt>$deprecated</dt>
<dd> Optional (string); no longer used by WordPress. You may pass an empty string or null to this argument if you wish to use the following $autoload parameter.</dd>
<dt>$autoload</dt>
<dd> Optional, defaults to 'yes' (enum: 'yes' or 'no').  If set to 'yes' the setting is automatically retrieved by the <tt>wp_load_alloptions</tt> function.</dd></dl>
<pre>
get_option($option);
</pre>
<dl><dd> Retrieves an option value from the database.</dd>
<dt>$option</dt>
<dd> Required (string).  Name of the option whose value you want returned. You can find a list of the default options that are installed with WordPress at the <a href="https://codex.wordpress.org/Option_Reference" title="Option Reference">Option Reference</a>.</dd></dl>
<pre>
update_option($option_name, $newvalue);
</pre>
<dl><dd> Updates or creates an option value in the database (note that <tt>add_option</tt> does not have to be called if you do not want to use the <tt>$deprecated</tt> or <tt>$autoload</tt> parameters).</dd>
<dt>$option_name</dt>
<dd> Required (string). Name of the option to update.</dd>
<dt>$newvalue</dt>
<dd> Required. (string|array|object) The new value for the option.</dd></dl>
<h3><span class="mw-headline" id="Administration_Panels">Administration Panels</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=16" title="Edit section: Administration Panels">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Assuming that your Plugin has some options stored in the WordPress database (see section above), you will probably want it to have an administration panel that will enable your Plugin users to view and edit option values. The methods for doing this are described in <a href="https://codex.wordpress.org/Adding_Administration_Menus" title="Adding Administration Menus" class="mw-redirect">Adding Administration Menus</a>.
</p>
<h2><span class="mw-headline" id="Internationalizing_Your_Plugin">Internationalizing Your Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=17" title="Edit section: Internationalizing Your Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Once you have the programming for your Plugin done, another consideration (assuming you are planning on distributing your Plugin) is <i>internationalization</i>. Internationalization is the process of setting up software so that it can be <i>localized</i>; localization is the process of translating text displayed by the software into different languages. WordPress is used all around the world, so it has internationalization and localization built into its structure, including localization of Plugins. 
</p><p>Please note that language files for Plugins <b>ARE NOT</b> automatically loaded. Add this to the Plugin code to make sure the language file(s) are loaded:
</p>
<pre>	load_plugin_textdomain('your-unique-name', false, basename( dirname( __FILE__ ) ) . '/languages' );
</pre>
<p>To fetch a string simply use <b>__('String name','your-unique-name');</b> to return the translation or <b>_e('String name','your-unique-name');</b> to echo the translation. Translations will then go into your plugin's /languages directory.
</p><p>It is highly recommended that you internationalize your Plugin so that users from different countries can localize it. There is a comprehensive reference on internationalization, including a section describing how to internationalize your plugin, at <a href="https://codex.wordpress.org/I18n_for_WordPress_Developers" title="I18n for WordPress Developers">I18n for WordPress Developers</a>.
</p>
<h1><span class="mw-headline" id="Updating_Your_Plugin">Updating Your Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=18" title="Edit section: Updating Your Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This section describes the necessary steps to update your Plugin when you host it on <a rel="nofollow" class="external free" href="https://wordpress.org/plugins/">https://wordpress.org/plugins/</a>, including details about using <a rel="nofollow" class="external text" href="https://wordpress.org/plugins/about/svn/">Subversion</a> (SVN) with wordpress.org.
</p><p>Assuming you have already submitted your Plugin to the <a href="https://codex.wordpress.org/Plugin_Submission_and_Promotion" title="Plugin Submission and Promotion">WordPress Plugin Repository</a>, over time you will probably find the need, and hopefully, the time to add features to your Plugin or fix bugs. Work on these changes and commit the changes to the trunk of your plugin as often as you want. The changes will be publicly visible, but only to the technically-minded people checking out your Plugin via SVN. What other users download through the website or their WordPress Plugin administration will not change.
</p><p>When you're ready to release a new version of the Plugin:
</p>
<ul><li> Make sure everything is committed and the new version actually works. Pay attention to all WordPress versions your Plugin supports and try to test it with all of them. Don't just test the new features; also make sure you didn't accidentally break some older functionality of the Plugin.</li>
<li> Change the version number in the header comment of the main PHP file to the new version number (in the trunk folder).</li>
<li> Change the version number in the 'Stable tag' field of the readme.txt file (in the trunk folder).</li>
<li> Add a new sub-section in the 'changelog' section of the readme.txt file, briefly describing what changed compared to the last release. This will be listed on the 'Changelog' tab of the Plugin page.</li>
<li> Commit these changes.</li>
<li> Create a new SVN tag as a copy of trunk, following <a rel="nofollow" class="external text" href="https://wordpress.org/plugins/about/svn/#task-3">this guide</a>.</li></ul>
<p>Give the system a couple of minutes to work, and then check the wordpress.org Plugin page and a WordPress installation with your Plugin to see if everything updated correctly and the WordPress installation shows an update for your Plugin (the update checks might be cached, so this could take some time -- try visiting the 'available updates' page in your WordPress installation).
</p><p>Troubleshooting:
</p>
<ul><li> The Plugin's page on wordpress.org still lists the old version. Have you updated the 'stable tag' field in the trunk folder? Just creating a tag and updating the readme.txt in the tag folder is not enough!</li>
<li> The Plugin's page offers a zip file with the new version, but the button still lists the old version number and no update notification happens in your WordPress installations. Have you remembered to update the 'Version' comment in the main PHP file?</li>
<li> For other problems check Otto's good write-up of common problems: <a rel="nofollow" class="external text" href="https://make.wordpress.org/plugins/2012/06/09/the-plugins-directory-and-readme-txt-files/">The Plugins directory and readme.txt files</a></li></ul>
<h1><span class="mw-headline" id="Plugin_Development_Suggestions">Plugin Development Suggestions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=19" title="Edit section: Plugin Development Suggestions">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>This last section contains various suggestions regarding Plugin development. 
</p>
<ul><li> The code of a WordPress Plugin should <b>follow the <a rel="nofollow" class="external text" href="https://make.wordpress.org/core/handbook/coding-standards/">WordPress Coding Standards</a></b>. Please consider the <a rel="nofollow" class="external text" href="https://make.wordpress.org/core/handbook/inline-documentation-standards/">Inline Documentation</a> Standards as well.</li>
<li> All the functions in your Plugin need to have unique names that are different from functions in the WordPress core, other Plugins, and themes. For that reason, it is a good idea to <b>use a unique function name prefix on all of your Plugin's functions</b>. A far superior possibility is to define your Plugin functions inside a class (which also needs to have a unique name).</li>
<li> <b>Do not hardcode the WordPress database table prefix</b> (usually "wp_") into your Plugins.  Be sure to use the <tt>$wpdb-&gt;prefix</tt> variable instead. </li>
<li> Database reading is cheap, but writing is expensive. Databases are exceptionally good at fetching data and giving it to you, and these operations are (usually) lightning quick.  Making changes to the database, though, is a more complex process, and computationally more expensive. As a result, try to <b>minimize the amount of <em>writing</em> you do to the database</b>.  Get everything prepared in your code first, so that you can make only those write operations that you need.</li>
<li> <b>Use WordPress' APIs instead of using direct SQL</b> where possible. For example, use <tt>get_posts()</tt> or <tt>new WP_Query()</tt> instead of <tt>SELECT * FROM {$wpdb-&gt;prefix}_posts</tt>. </li>
<li> <b>Use the existing database tables instead of creating new custom tables</b> if possible. Most use-cases can be accomplished with custom post types and metadata, custom taxonomy and/or one of the other standard tables and using the standard tables provides a lot of UI and other functionality <i>"for free."</i> Think very carefully before adding a table because it adds complexity to your plugin that many users and site builders prefer to avoid.</li>
<li> <b>SELECT only what you need</b>. Even though databases fetch data blindingly fast, you should still try to reduce the load on the database by only selecting that data which you need to use.  If you need to count the number of rows in a table don't <tt>SELECT * FROM</tt>, because all the data in all the rows will be pulled, wasting memory.  Likewise, if you only need the post_id and the post_author in your Plugin, then just <tt>SELECT</tt> those specific fields, to minimize database load. Remember: hundreds of other processes may be hitting the database at the same time.  The database and server each have only so many resources to spread around amongst all those processes.  Learning how to minimize your Plugin's hit against the database will ensure that your Plugin isn't the one that is blamed for abuse of resources.</li>
<li> <b>Eliminate PHP errors in your plugin</b>. Add <tt>define('WP_DEBUG', true);</tt> to your <i>wp-config.php</i> file, try all of your plugin functionality, and check to see if there are any errors or warnings. Fix any that occur, and continue in debug mode until they have all been eliminated.</li>
<li> <b>Try not to echo &lt;script&gt; and &lt;style&gt; tags directly</b> - instead use the recommended <a href="https://codex.wordpress.org/Function_Reference/wp_enqueue_style" title="Function Reference/wp enqueue style">wp_enqueue_style()</a> and <a href="https://codex.wordpress.org/Function_Reference/wp_enqueue_script" title="Function Reference/wp enqueue script">wp_enqueue_script()</a> functions. They help eliminate including duplicate scripts and styles as well as introduce dependency support. See posts by the following people for more info: <a rel="nofollow" class="external text" href="http://planetozh.com/blog/2008/04/how-to-load-javascript-with-your-wordpress-plugin/">Ozh Richard</a>, <a rel="nofollow" class="external text" href="http://beerpla.net/2010/01/13/wordpress-plugin-development-how-to-include-css-and-javascript-conditionally-and-only-when-needed-by-the-posts/">Artem Russakovskii</a>, and <a rel="nofollow" class="external text" href="http://www.prelovac.com/vladimir/best-practice-for-adding-javascript-code-to-wordpress-plugin">Vladimir Prelovac</a>.</li></ul>
<h1><span class="mw-headline" id="External_Resources">External Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Writing_a_Plugin&amp;action=edit&amp;section=20" title="Edit section: External Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li> <a rel="nofollow" class="external text" href="http://www.packtpub.com/article/anatomy-wordpress-plugin">Anatomy of a WordPress Plugin Featuring Hello Dolly </a> (09MAR11) </li>
<li> <a rel="nofollow" class="external text" href="http://planetozh.com/blog/2009/09/top-10-most-common-coding-mistakes-in-wordpress-plugins/">Top 10 Most Common Coding Mistakes in WordPress Plugins</a> (11SEP09)</li>
<li> <a rel="nofollow" class="external text" href="http://markjaquith.wordpress.com/2006/06/02/wordpress-203-nonces/">WordPress 2.0.3: Nonces (Secure your forms with nonces)</a> (02JUN06)</li>
<li> <a rel="nofollow" class="external text" href="http://amiworks.co.in/talk/simplified-ajax-for-wordpress-plugin-developers-using-jquery/">Simplified AJAX For WordPress Plugin Developers using Jquery</a>(10APR08)</li>
<li> <a rel="nofollow" class="external text" href="http://dev.feijaocosta.com.br/criando-plugins-para-wordpress/">"Criando Plugins para WordPress" by Feijão Costa  (in Brazilian Portuguese)</a> (10JUN15)</li>
<li> <a rel="nofollow" class="external text" href="http://www.devlounge.net/extras/how-to-write-a-wordpress-plugin">12 part "How to Write a Wordpress Plugin" at DevLounge.net</a> by <a rel="nofollow" class="external text" href="http://ronalfy.com">Ronald Huereca</a></li>
<li> <a rel="nofollow" class="external text" href="http://ditio.net/2007/08/09/how-to-create-wordpress-plugin-from-a-scratch/">How to create WordPress Plugin from a scratch</a> (09AUG07)</li>
<li> <a rel="nofollow" class="external text" href="http://mitcho.com/code/hookpress/">HookPress</a>, a plugin that enables extending WordPress in languages other than PHP via webhooks. (26SEP09)</li>
<li> <a rel="nofollow" class="external text" href="http://beerpla.net/2010/01/13/wordpress-plugin-development-how-to-include-css-and-javascript-conditionally-and-only-when-needed-by-the-posts/">How To Include CSS and JavaScript Conditionally And Only When Needed By The Posts</a> (13JAN10)</li>
<li> <a rel="nofollow" class="external text" href="http://aaron.jorb.in/blog/2010/03/wordpress-external-cron-plugin/">Demonstrating how to use the Settings API, WP_Http, and Pseudo-cron</a> (01MAR10)</li>
<li> <a rel="nofollow" class="external text" href="http://make.wordpress.org/plugins/">Make WordPress Plugins</a> - official blog with information for plugin authors (25JUN12)</li>
<li> <a rel="nofollow" class="external text" href="http://generatewp.com/">WordPress Generator</a> - GenerateWP provides user-friendly tools for developers to create advanced systems built on WordPress. (15JAN13)</li>
<li> <a rel="nofollow" class="external text" href="http://wpsettingsapi.jeroensormani.com/">WP Settings API Generator</a> - WP Settings API is a tool for developers to easily create options pages for your plugins. (10JUL14)</li>
<li> <a rel="nofollow" class="external text" href="http://www.yaconiello.com/blog/how-to-write-wordpress-plugin">How to write a WordPress Plugin</a> - A simple how-to guide to writing a class based WordPress plugin with a settings page, custom post type and metaboxes that separates business and template logic in an easy to understand way. (31JAN13)</li></ul>


