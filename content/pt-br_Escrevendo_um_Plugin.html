<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Writing_a_Plugin" title="Writing a Plugin">English</a> • 
<a href="/index.php?title=ar:%D9%83%D8%AA%D8%A7%D8%A8%D8%A9_%D8%A7%D9%84%D8%A5%D8%B6%D8%A7%D9%81&amp;action=edit&amp;redlink=1" class="new" title="ar:كتابة الإضاف (page does not exist)">العربية</a> • 

<a href="https://codex.wordpress.org/bn:%E0%A6%AA%E0%A7%8D%E0%A6%B2%E0%A6%BE%E0%A6%97%E0%A6%87%E0%A6%A8_%E0%A6%B2%E0%A7%87%E0%A6%96%E0%A6%BE" title="bn:প্লাগইন লেখা">বাংলা</a> • 

<a href="https://codex.wordpress.org/es:Escribiendo_un_Plugin" title="es:Escribiendo un Plugin">Español</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/プラグインの作成">日本語</a> 
<a href="https://codex.wordpress.org/ko:Writing_a_Plugin" title="ko:Writing a Plugin">한국어</a> • 
<strong class="selflink">Português do Brasil</strong> • 

<a href="https://codex.wordpress.org/%D0%9D%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D0%B0" title="Написание плагина">Русский</a> • 

<a rel="nofollow" class="external text" href="http://codex.wordthai.com/Writing+a+Plugin">ไทย</a> • 

<a href="https://codex.wordpress.org/zh-cn:%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%8F%92%E4%BB%B6" title="zh-cn:开发一个插件">中文(简体)</a> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<table style="border:1px solid #ccc;width:100%;border-collapse:collapse;margin:5px 0">

<tr>
<td style="width:60px;padding:5px;border-left:5px solid #ccc"><img alt="cb-help.png" src="/images/thumb/a/aa/cb-help.png/60px-cb-help.png" width="60" height="60" srcset="/images/thumb/a/aa/cb-help.png/90px-cb-help.png 1.5x, /images/thumb/a/aa/cb-help.png/120px-cb-help.png 2x" /></td>
<td style="vertical-align:top;padding:5px"> <div style="display:block;margin-bottom:5px;letter-spacing:0px"><span style="font-weight:bold;font-size:14px;">Ajuda ao Usuário WordPress</span></div><div style="font-size:11px;line-height:18px"><b>Referência da Ajuda Contextual</b> - Este artigo é acessado a partir da Ajuda Contextual do WordPress PT-BR.<br /><i>Procure nosso <a rel="nofollow" class="external text" href="http://br.forums.wordpress.org/">Fórum Oficial</a> se precisar de mais ajuda sobre este assunto.</i></div>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introdu.C3.A7.C3.A3o"><span class="tocnumber">1</span> <span class="toctext">Introdução</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Criando_um_Plugin"><span class="tocnumber">2</span> <span class="toctext">Criando um Plugin</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Nomes.2C_arquivos_e_Locais"><span class="tocnumber">2.1</span> <span class="toctext">Nomes, arquivos e Locais</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Nome_do_Plugin"><span class="tocnumber">2.1.1</span> <span class="toctext">Nome do Plugin</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Arquivos_de_Plugin"><span class="tocnumber">2.1.2</span> <span class="toctext">Arquivos de Plugin</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Readme_File"><span class="tocnumber">2.1.3</span> <span class="toctext">Readme File</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#P.C3.A1gina_do_Plugin"><span class="tocnumber">2.1.4</span> <span class="toctext">Página do Plugin</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Cabe.C3.A7alhos_de_arquivos"><span class="tocnumber">2.2</span> <span class="toctext">Cabeçalhos de arquivos</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Informa.C3.A7.C3.B5es_padr.C3.A3o_do_Plugin"><span class="tocnumber">2.2.1</span> <span class="toctext">Informações padrão do Plugin</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#License"><span class="tocnumber">2.2.2</span> <span class="toctext">License</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Programando_seu_Plugin"><span class="tocnumber">2.3</span> <span class="toctext">Programando seu Plugin</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Hooks_para_Plugin_WordPress"><span class="tocnumber">2.3.1</span> <span class="toctext">Hooks para Plugin WordPress</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Tags_de_Modelos"><span class="tocnumber">2.3.2</span> <span class="toctext">Tags de Modelos</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Salvando_dados_do_Plugin_no_banco_de_dados"><span class="tocnumber">2.3.3</span> <span class="toctext">Salvando dados do Plugin no banco de dados</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Mecanismo_de_Op.C3.A7.C3.B5es_WordPress"><span class="tocnumber">2.3.4</span> <span class="toctext">Mecanismo de Opções WordPress</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Pain.C3.A9is_de_Administra.C3.A7.C3.A3o"><span class="tocnumber">2.3.5</span> <span class="toctext">Painéis de Administração</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Internacionalizando_seu_Plugin"><span class="tocnumber">2.4</span> <span class="toctext">Internacionalizando seu Plugin</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Atualizando_seu_Plugin"><span class="tocnumber">3</span> <span class="toctext">Atualizando seu Plugin</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Sugest.C3.B5es_para_desenvolvimento_de_Plugins"><span class="tocnumber">4</span> <span class="toctext">Sugestões para desenvolvimento de Plugins</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Recursos_Externos_.28em_ingl.C3.AAs.29"><span class="tocnumber">5</span> <span class="toctext">Recursos Externos (em inglês)</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introdu.C3.A7.C3.A3o">Introdução</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=1" title="Edit section: Introdução">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a href="https://codex.wordpress.org/pt-br:O_que_s%C3%A3o_Plugins_WordPress" title="pt-br:O que são Plugins WordPress">Plugins WordPress</a> permitem modificação fácil, personalização e melhoramento de um blog WordPress. Em vez de alterar o core do WordPress, você pode adicionar funcionalidade com WordPress Plugins. Aqui está uma definição básica:
</p><p><b>WordPress Plugin:</b> Um WordPress Plugin é um programa, ou um conjunto de uma ou mais funções, escrito na linguagem de script PHP, que adiciona um conjunto específico de recursos ou serviços para o blog do WordPress, que pode ser perfeitamente integrado com o weblog usando pontos de acesso e métodos fornecidos pela <a href="https://codex.wordpress.org/Plugin_API" title="Plugin API">Interface de Programação de Aplicações (API)</a> (em inglês) para Plugin WordPress.
</p><p>Desejando que o WordPress teve algumas funcionalidades novas ou modificadas? A primeira coisa a fazer é procurar vários repositórios de plugins WordPress e fontes para ver se alguém já criou um plugin WordPress que se adapte às suas necessidades. Senão, este artigo irá guiá-lo através do processo de criação do seu próprio Plugin WordPress.
</p><p><i>Este artigo pressupõe que você já está familiarizado com a funcionalidade básica do WordPress, e programação PHP.</i>
</p><p>Recursos
</p>
<ul><li> Para entender como Plugins WordPress funcionam e como instalá-los em seu blog WordPress, consulte <a href="https://codex.wordpress.org/pt-br:O_que_s%C3%A3o_Plugins_WordPress" title="pt-br:O que são Plugins WordPress">Plugins</a>.</li>
<li> Há uma lista abrangente de artigos e recursos para desenvolvedores de Plugins, incluindo artigos externos sobre como escrever PluginsWordPress e artigos sobre temas especiais, em <a href="https://codex.wordpress.org/Plugin_Resources" title="Plugin Resources">Recursos de Plugin</a> (em inglês).</li>
<li> Para aprender o básico sobre como Plugins WordPress são escritos, visualize o código-fonte de <a href="https://codex.wordpress.org/pt-br:O_que_s%C3%A3o_Plugins_WordPress#Plugins_Default" title="pt-br:O que são Plugins WordPress">Plugins bem escritos distribuídos com o WordPress</a>.</li>
<li> Depois de ter escrito o seu Plugin WordPress, leia <a href="https://codex.wordpress.org/Plugin_Submission_and_Promotion" title="Plugin Submission and Promotion">Submissão e Promoção de Plugin</a> (em inglês) para aprender como distribuí-lo e compartilhá-lo com os outros.</li></ul>
<h1><span class="mw-headline" id="Criando_um_Plugin">Criando um Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=2" title="Edit section: Criando um Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Esta seção do artigo percorre os passos que você precisa seguir, e coisas a considerar ao criar um Plugin WordPress bem estruturado.
</p>
<h2><span class="mw-headline" id="Nomes.2C_arquivos_e_Locais">Nomes, arquivos e Locais</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=3" title="Edit section: Nomes, arquivos e Locais">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Nome_do_Plugin">Nome do Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=4" title="Edit section: Nome do Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A primeira tarefa na criação de um Plugin WordPress é pensar sobre o que o Plugin vai fazer, e criar um nome (esperançosamente único) para o seu Plugin. Confira no <a rel="nofollow" class="external text" href="https://br.wordpress.org/plugins/">repositório de plugins</a> e em outros repositórios se o nome é exclusivo; você também pode fazer uma pesquisa no Google sobre o nome proposto. A maioria dos desenvolvedores de Plugins optam por usar nomes que descrevem o que o Plugin faz; por exemplo, um Plugin relacionado com o clima provavelmente teria a palavra "tempo" no nome. O nome pode ter várias palavras.
</p>
<h3><span class="mw-headline" id="Arquivos_de_Plugin">Arquivos de Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=5" title="Edit section: Arquivos de Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>O próximo passo é criar um arquivo PHP com um nome derivado do nome de seu Plugin escolhido. Por exemplo, se o seu plugin será chamado de "Fabulous Functionality", o que se pode chamar seu arquivo PHP <i>fabulous-functionality.php</i>. Mais uma vez, tente escolher um nome único. As pessoas que instalam o seu Plugin terão que colocar este arquivo PHP no diretório de Plugins WordPress na sua instalação (geralmente <i>wp-content/plugins/</i>), por isso não há dois plugins que estão usando pode ter o mesmo nome do arquivo PHP.
</p><p>Outra opção é dividir o seu plugin em vários arquivos. O seu Plugin WordPress deve ter pelo menos um arquivo PHP; ele também pode conter arquivos JavaScript, arquivos CSS, arquivos de imagem, arquivos de idioma, etc. Se houver vários arquivos, escolhe um nome exclusivo para um diretório e um nome de sua escolha (geralmente o mesmo) para o arquivo PHP principal de seu Plugin, como fabulous-functionality e fabulous-functionality.php, respectivamente, coloque todos os arquivos do Plugin no diretório, e diga aos  usuários de seu Plugin para instalar todo o diretório sob o <i>wp-content/plugins/</i>. Observe que a instalação WordPress pode ser configurado para wp-content/ plugins/ diretório a ser movido, por isso você deve usar <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/functions/plugin_dir_path/">plugin_dir_path()</a> e <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/functions/plugins_url/">plugins_url</a> para caminhos absolutos e URLs. Para mais detalhes consulte <a href="https://codex.wordpress.org/Determining_Plugin_and_Content_Directories" title="Determining Plugin and Content Directories">Determinando plugin e diretórios de conteúdo</a> (em inglês).
</p><p>No resto deste artigo, "o arquivo Plugin PHP" se refere ao arquivo PHP principal do Plugin, seja em <i>wp-content/plugins/</i> ou um sub-diretório.
</p><p><b>Nota de Segurança:</b> Considere bloqueando o acesso direto aos arquivos PHP de seu Plugin, adicionando a seguinte linha na parte superior de cada um deles, ou esteja certo para evitar de executar código PHP independente e delicado antes de chamar quaisquer funções do WordPress.
</p>
<pre>
defined( 'ABSPATH' ) or die( 'No script kiddies please!' );
</pre>
<h3><span class="mw-headline" id="Readme_File">Readme File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=6" title="Edit section: Readme File">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Se você quer hospedar seu Plugin no <a rel="nofollow" class="external free" href="https://br.wordpress.org/plugins/">https://br.wordpress.org/plugins/</a>, você também precisa criar um arquivo <i>readme.txt</i> no formato padrão, e incluir ele em seu Plugin. Veja <a rel="nofollow" class="external free" href="https://br.wordpress.org/plugins/about/readme.txt">https://br.wordpress.org/plugins/about/readme.txt</a> para uma descrição do formato ou use o automático <a rel="nofollow" class="external text" href="http://generatewp.com/plugin-readme/">gerador de 'readme.txt' para plugin</a> (em inglês).
</p><p>Note que o plugin repositório WordPress usa o "Requires" e "Tested up to" do <i>readme.txt </i> na tag estável.
</p>
<h3><span class="mw-headline" id="P.C3.A1gina_do_Plugin">Página do Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=7" title="Edit section: Página do Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>É também muito útil para criar uma página web para atuar como a página para o seu Plugin WordPress. Esta página deve descrever como instalar o Plugin, o que faz, quais versões do WordPress ele é compatível, o que mudou de versão para versão do seu Plugin, e como usar o Plugin.
</p>
<h2><span class="mw-headline" id="Cabe.C3.A7alhos_de_arquivos">Cabeçalhos de arquivos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=8" title="Edit section: Cabeçalhos de arquivos">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Agora é hora de colocar algumas informações no arquivo principal do Plugin PHP.
</p>
<h3><span class="mw-headline" id="Informa.C3.A7.C3.B5es_padr.C3.A3o_do_Plugin">Informações padrão do Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=9" title="Edit section: Informações padrão do Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a rel="nofollow" class="external text" href="https://developer.wordpress.org/plugins/the-basics/header-requirements/">Leia este no manual do desenvolvedor de plugin.</a>
</p>
<h3><span class="mw-headline" id="License">License</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=10" title="Edit section: License">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a rel="nofollow" class="external text" href="http://developer.wordpress.org/plugins/the-basics/including-a-software-license/">Leia este no manual do desenvolvedor de plugin.</a>
</p>
<h2><span class="mw-headline" id="Programando_seu_Plugin">Programando seu Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=11" title="Edit section: Programando seu Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Agora, é hora de fazer o seu Plugin realmente fazer alguma coisa. Esta seção contém algumas ideias gerais sobre Plugin desenvolvimento, e descreve como realizar várias tarefas que seu Plugin precisa fazer.
</p>
<h3><span class="mw-headline" id="Hooks_para_Plugin_WordPress">Hooks para Plugin WordPress</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=12" title="Edit section: Hooks para Plugin WordPress">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Muitos Plugins WordPress realizam seus objetivos através da ligação a um ou mais "hooks" para Plugin WordPress. A maneira de trabalho dos "hooks" de Plugin é que em vários momentos enquanto WordPress está em execução, WordPress verifica para ver se alguns Plugins tem registado funções para executar nesse momento, e se assim for, as funções são executadas. Estas funções modifica, o comportamento padrão do WordPress.
</p><p>Por exemplo, antes do WordPress adicionar o título de um post para a saída no navegador, ele primeiro verifica para ver se algum Plugin tem registado uma função para o hook de "filtro" chamado "the_title". Se assim for, o texto do título é passado, por sua vez, através de cada função registada, e o resultado final é o que está impresso. Assim, se seu Plugin precisa adicionar algumas informações para o título impresso, ele pode registrar uma função de filtro "the_title".
</p><p>Outro exemplo é o hook "action" chamado "wp_footer". Ele é gerado um pouco antes do fim da página HTML WordPress, ele verifica se quaisquer Plugins têm funções registados para o hook de ação "wp_footer", e executá-los, por sua vez.
</p><p>Você pode aprender mais sobre como registrar funções para ambos os hooks de ação e filtro, e o que os hooks de Plugins estão disponíveis no WordPress, em <a href="https://codex.wordpress.org/Plugin_API" title="Plugin API">Plugin API</a> (em inglês). Se você encontrar um local no código WordPress onde você gostaria de ter uma ação ou filtro, mas o WordPress não tiver um, você também pode sugerir novos ganchos (geralmente serão tomadas sugestões); ver <a href="https://codex.wordpress.org/Reporting_Bugs" title="Reporting Bugs">Reporting Bugs</a> (em inglês) para saber como.
</p>
<h3><span class="mw-headline" id="Tags_de_Modelos">Tags de Modelos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=13" title="Edit section: Tags de Modelos">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Outra maneira para um Plugin WordPress é adicionar funcionalidade para o WordPress é através da criação de <a href="https://codex.wordpress.org/pt-br:Tags_de_Modelos" title="pt-br:Tags de Modelos">Tags de Modelos</a> customizadas. Alguém que quer usar o seu Plugin pode adicionar estas "tags" para seu tema, na barra lateral, seção pós conteúdo, ou onde quer que seja apropriado. Por exemplo, um plugin que adiciona marcas geográficas de mensagens pode definir uma função tag de modelo chamada <tt>geotag_list_states()</tt> para a barra lateral, que lista todos os posts de estados que estão tagueados, com links para a página de arquivo da tag que o Plugin habilita.
</p><p>Para definir uma tag de modelo customizada, basta escrever uma função PHP e documentá-la para os usuários do Plugin em sua página inicial do Plugins e/ou no arquivo principal PHP do Plugin. É uma boa ideia quando documentar a função de dar um exemplo de exatamente o que precisa ser adicionado ao arquivo de tema para usar a função, incluindo o <tt>&lt;?php</tt> and <tt>?&gt;</tt>.
</p>
<h3><span class="mw-headline" id="Salvando_dados_do_Plugin_no_banco_de_dados">Salvando dados do Plugin no banco de dados</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=14" title="Edit section: Salvando dados do Plugin no banco de dados">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A maioria dos Plugins WordPress vai precisar de ter alguma entrada do proprietário do site ou do usuários de blog e guardá-la entre as sessões, para usar em suas funções de filtro, funções de ação e as funções de template. Esta informação tem de ser salvo no banco de dados WordPress, a fim de ser persistente entre as sessões. Há quatro (4) métodos para salvar os dados do Plugin no banco de dados:
</p>
<ol><li> Utilizar o mecanismo WordPress "option" (descrito abaixo). Este método é apropriado para o armazenamento de quantidades relativamente pequenas de relativamente estáticos, registros nomeados de dados -- o tipo de dados que você esperaria do proprietário do site na primeira vez que configurar o plugin, e raramente mudam depois.</li>
<li> Post Meta (também conhecidos como campos customizados). Apropriado para dados associados a posts individuais, páginas ou anexos. Veja <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples">Examplos com post_meta</a> (em inglês), <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/functions/add_post_meta/">add_post_meta()</a> (em inglês), e funções relacionadas.</li>
<li> Taxonomia customizada. Para a classificação de posts ou outros objetos, como usuários e comentários e/ou uma lista considerada de dados nome/valor editável pelo usuário, especialmente quando você deseja acessar todos os posts/objetos associados a um determinado termo de taxonomia. Veja <a href="https://codex.wordpress.org/pt-br:Taxonomias#Taxonomias_Customizadas" title="pt-br:Taxonomias">Taxonomias Customizadas</a>.</li>
<li> Criar uma nova tabela de banco de dados customizada. Este método é apropriado para dados não associados com post, páginas, anexos ou comentários individuais -- o tipo de dados que irá crescer à medida que o tempo passa, e que não têm nomes individuais. Veja <a href="https://codex.wordpress.org/Creating_Tables_with_Plugins" title="Creating Tables with Plugins">Creating Tables with Plugins</a> (em inglês) para obter informações sobre como fazer isso.</li></ol>
<h3><span class="mw-headline" id="Mecanismo_de_Op.C3.A7.C3.B5es_WordPress">Mecanismo de Opções WordPress</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=15" title="Edit section: Mecanismo de Opções WordPress">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Veja <a href="https://codex.wordpress.org/Creating_Options_Pages" title="Creating Options Pages">Creating Options Pages</a> para obter informações sobre como criar uma página que irá salvar automaticamente suas opções para você.
</p><p>O WordPress tem um mecanismo para salvar, atualizar e recuperar registros nomeados de dados ("options") no banco de dados WordPress. Options podem ser strings, arrays ou objetos PHP (que serão serializados, ou convertido para uma string, antes do armazenamento, e deserializados quando recuperados). Options são strings, e eles devem ser únicos, para que eles não entrem em conflito tanto com WordPress ou outros Plugins. Também é considerado geralmente uma boa ideia para minimizar o número de options que você usa para o seu Plugin. Por exemplo, em vez de armazenar 10 diferentes options, considere armazenar um array em série de 10 elementos como uma única option.
</p><p>Aqui estão as principais funções o seu plugin pode usar para acessar as opções do WordPress.
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/functions/add_option/">add_option()</a> (em inglês)</li>
<li> <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/functions/get_option/">get_option()</a> (em inglês)</li>
<li> <a rel="nofollow" class="external text" href="https://developer.wordpress.org/reference/functions/update_option/">update_option()</a> (em inglês)</li></ul>
<h3><span class="mw-headline" id="Pain.C3.A9is_de_Administra.C3.A7.C3.A3o">Painéis de Administração</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=16" title="Edit section: Painéis de Administração">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Assumindo que o seu Plugin tem algumas opções armazenadas no banco de dados WordPress (ver seção acima), você provavelmente vai querer que ele tena um painel de administração que irá permitir que os usuários do Plugin visualizar e editar as options. Os métodos para fazer isso são descritas em <a href="https://codex.wordpress.org/Adding_Administration_Menus" title="Adding Administration Menus" class="mw-redirect">Adding Administration Menus</a> (em inglês).
</p>
<h2><span class="mw-headline" id="Internacionalizando_seu_Plugin">Internacionalizando seu Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=17" title="Edit section: Internacionalizando seu Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Uma vez que você tem o coódigo do seu Plugin feito, uma outra consideração (supondo que você está pensando em distribuir o seu Plugin) é <i>internacionalização</i>. Internacionalização é o processo de criação de software para que ele possa ser <i>localizado</i>; Localização é o processo de traduzir o texto exibido pelo software em diferentes idiomas. O WordPress é usado em todo o mundo, por isso tem internacionalização e localização construído em sua estrutura, incluindo a localização de Plugins.
</p><p>Por favor, note que os arquivos de idioma para Plugins <b>NÃO SÃO</b> carregados automaticamente. Adicione isso ao código Plugin para garantir que o arquivo de idioma(s) sejam carregados:
</p>
<pre>
load_plugin_textdomain( 'your-unique-name', false, basename( dirname( __FILE__ ) ) . '/languages' );
</pre>
<p>Para coletar uma string usar simplesmente <tt>__('String name','your-unique-name');</tt> para retornar a tradução ou <tt>_e('String name','your-unique-name');</tt> para ecoar a tradução. Traduções, irão na pasta <i>/languages</i> do Plugin.
</p><p>É altamente recomendável que você internacionalize o seu plugin, para que os usuários de diferentes países possam localizá-los. Há uma referência abrangente sobre internacionalização, incluindo uma seção que descreve como internacionalizar o seu plugin, em <a href="https://codex.wordpress.org/I18n_for_WordPress_Developers" title="I18n for WordPress Developers">I18n for WordPress Developers</a> (em inglês).
</p>
<h1><span class="mw-headline" id="Atualizando_seu_Plugin">Atualizando seu Plugin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=18" title="Edit section: Atualizando seu Plugin">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Esta seção descreve as etapas necessárias para atualizar o seu Plugin quando você hospedá-lo em <a rel="nofollow" class="external free" href="https://wordpress.org/plugins/">https://wordpress.org/plugins/</a>, incluindo detalhes sobre como usar <a rel="nofollow" class="external text" href="https://wordpress.org/plugins/about/svn/">Subversion</a> (SVN) (em inglês) com wordpress.org.
</p><p>Supondo que você já enviou o seu plugin para o <a href="https://codex.wordpress.org/Plugin_Submission_and_Promotion" title="Plugin Submission and Promotion">Reposiório de Plugins WordPress</a> (em inglês), ao longo do tempo você provavelmente vai encontrar a necessidade, e espero que ao longo do tempo, adicionar funcionalidades ao seu Plugin ou corrigir bugs. Os trabalhos sobre estas mudanças e confirmar as alterações para o trunk do seu Plugin tão frequentemente como você deseja. As alterações serão visíveis ao público, mas apenas para as pessoas de espírito técnivo visitarão a seu Plugin via SVN. O que outros usuários baixarem através do site ou da administração de Plugins WordPress não vai mudar.
</p><p>Quando você está pronto para lançar uma nova versão do Plugin:
</p>
<ul><li> Certifique-se de que tudo está no repositório e a nova versão realmente funciona. Preste atenção a todas as versões do WordPress que seu Plugin suporta e tentar testá-lo com todos eles. Não basta testar os novos recursos; também certifique-se que você não quebrou acidentalmente algumas funcionalidades mais antiga do Plugin.</li>
<li> Mude o número da versão no comentário cabeçalho do arquivo principal PHP para o novo número de versão (na pasta trunk).</li>
<li> Mude o número da versão no campo 'Stable tag' do arquivo readme.txt (na pasta trunk).</li>
<li> Adicionar um nova sub-seção na seção 'changelog' do arquivo readme.txt, descrevendo brevemente o que mudou em comparação com a última versão. Isso será listado na guia da página 'Changelog' do plugin.</li>
<li> Suba para o repositório essas mudanças.</li>
<li> Criar uma nova tag SVN como uma cópia do trunk, seguindo <a rel="nofollow" class="external text" href="https://wordpress.org/plugins/about/svn/#task-3">este guia</a> (em inglês).</li></ul>
<p>Dê ao sistema alguns minutos, e, em seguida, verifique a página do Plugin no wordpress.org e numa instalação do WordPress com o seu Plugin para ver se tudo está atualizado corretamente e se a instalação WordPress mostra uma atualização para o seu Plugin (as verificações de atualização podem ser armazenada em cache, de modo que este pode levar algum tempo -- tente visitar a página das 'atualizações disponíveis' na sua instalação do WordPress).
</p><p>Solução de problemas:
</p>
<ul><li> A página do Plugin no wordpress.org ainda lista a versão antiga. Você já atualizou o campo 'tag stable' na pasta trunk? Criar uma tag e atualizar o readme.txt na pasta da tag não é suficiente!</li>
<li> A página do Plugin oferece um arquivo zip com a nova versão, mas o botão ainda lista o número da versão antiga e nenhuma notificação de atualização ocorre em suas instalações WordPress. Você se lembrou de atualizar o comentário 'Version' no arquivo PHP principal?</li>
<li> Para outros problemas verificar o ótimo post do Otto sobre: <a rel="nofollow" class="external text" href="https://make.wordpress.org/plugins/2012/06/09/the-plugins-directory-and-readme-txt-files/">O diretório de Plugins e arquivos readme.txt</a> (em inglês)</li></ul>
<h1><span class="mw-headline" id="Sugest.C3.B5es_para_desenvolvimento_de_Plugins">Sugestões para desenvolvimento de Plugins</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=19" title="Edit section: Sugestões para desenvolvimento de Plugins">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Essa última seção conteve várias sugestões em relação a desenvolvimento de Plugin.
</p>
<ul><li> O código de um Plugin WordPress deve <b>seguir o </b> <a rel="nofollow" class="external text" href="https://make.wordpress.org/core/handbook/coding-standards/">Padrão de código WordPress</a> (em inglês). Por favor, considere também a <a rel="nofollow" class="external text" href="https://make.wordpress.org/core/handbook/inline-documentation-standards/">Documentação do código</a> (em inglês).</li>
<li> Todas as funções em seu Plugin precisa ter nomes únicos que são diferentes de funções do core do WordPress, outros Plugins, e temas. Por essa razão, é uma boa ideia <b>usar um nome único como prefixo em todas suas funções do Plugin</b>. Uma melhor possibilidade é definir as funções de seu Plugin dentro de uma classe (que também precisa ter um nome único).</li>
<li> <b>Não coloque no seu código o prefixo de tabela </b> (geralmente "wp_") em seus Plugins. Tenha certeza que esteja usando a variável <tt>$wpdb-&gt;prefix</tt>.</li>
<li> Leitura em banco de dados é barata, mas a escrita é cara. Banco de dados são excepcionalmente bons para coletar dados e entregar para vocês, e essas operações são (geralmente) extremamente rápidas. Fazer alterações no banco de dados, embora, é um processo mais complexo, e computacionalmente mais caro. Como um resultado, tente <b>minimizar a quantia de <em>escrita</em> que você faz no banco de dados</b>. Deixe tudo preparado em seu código primeiro, então assim você pode fazer um única operação de escrita que você precisa.</li>
<li> <b>Use as APIs do WordPress ao invés de usar SQL diretamente</b> aonde possível. Por exemplo, use <tt>get_posts()</tt> ou <tt>new WP_Query()</tt> ao invés de <tt>SELECT * FROM {$wpdb-&gt;prefix}_posts</tt>.</li>
<li> <b>Use as tabelas de banco de dados existentes ao invés de criar novas tabelas customizadas</b>, se possível. A maioria dos casos de uso pode ser efetuado com custom post types e meta data, taxonomias customizadas e/ou uma das outras tabelas padrões e usá-las para fornecer interface gráfica e outras funcionalidades <i>"for free."</i>. Pense muito bem antes de adicionar uma tabela porque ela aumenta a complexidade do seu Plugin que muitos usuários e construtores do local preferem evitar.</li>
<li> <b>SELECIONAR apenas o que você precisa</b>. Mesmo que os bancos de dados buscar dados extremamente rápido, você ainda deve tentar reduzir a carga sobre o banco de dados, selecionar apenas os dados que você precisa usar. Se você precisa para contar o número de linhas em uma tabela não <tt> SELECT * FROM </tt>, porque todos os dados em todas as linhas será puxado, desperdiçando memória. Da mesma forma, se você só precisa do post_id eo post_author no seu plug-in, em seguida, basta <tt>SELECIONAR</tt> esses campos específicos, para minimizar a carga de banco de dados. Lembre-se: centenas de outros processos podem ser bater o banco de dados ao mesmo tempo. O banco de dados e servidor de cada um tem recursos limitados para se espalhar entre todos esses processos. Aprender como minimizar as chamdas a banco de dados no seu Plugins irá garantir que o seu plugin não é aquele que é acusado de abuso de recursos.</li>
<li> <b>Eliminar erros do PHP no seu Plugin</b>. Adicionar <tt>define( 'WP_DEBUG', true );</tt> para o seu arquivo <i>wp-config.php</i>, tente todas as funcionalidades do seu Plugin, e verifique para ver se há erros ou avisos. Corrigir qualquer um que ocorrer, e continue no modo de depuração até que todos eles foram eliminados.</li>
<li> <b>Tente não ecoar as tags &lt;script&gt; e &lt;style&gt; diretamente</b> - ao invés use as funções recomendadas <a href="https://codex.wordpress.org/Function_Reference/wp_enqueue_style" title="Function Reference/wp enqueue style">wp_enqueue_style()</a> e <a href="https://codex.wordpress.org/Function_Reference/wp_enqueue_script" title="Function Reference/wp enqueue script">wp_enqueue_script()</a>. Elas ajudam a eliminar scripts e estilos duplicados e também introduz suporte a dependência. Veja os posts (em inglês) das sequintes pessoas para mais informações: <a rel="nofollow" class="external text" href="http://planetozh.com/blog/2008/04/how-to-load-javascript-with-your-wordpress-plugin/">Ozh Richard</a>, <a rel="nofollow" class="external text" href="http://beerpla.net/2010/01/13/wordpress-plugin-development-how-to-include-css-and-javascript-conditionally-and-only-when-needed-by-the-posts/">Artem Russakovskii</a>, and <a rel="nofollow" class="external text" href="http://www.prelovac.com/vladimir/best-practice-for-adding-javascript-code-to-wordpress-plugin">Vladimir Prelovac</a>.</li></ul>
<h1><span class="mw-headline" id="Recursos_Externos_.28em_ingl.C3.AAs.29">Recursos Externos (em inglês)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=pt-br:Escrevendo_um_Plugin&amp;action=edit&amp;section=20" title="Edit section: Recursos Externos (em inglês)">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li> <a rel="nofollow" class="external text" href="http://www.packtpub.com/article/anatomy-wordpress-plugin">Anatomy of a WordPress Plugin Featuring Hello Dolly </a> (09March11) </li>
<li> <a rel="nofollow" class="external text" href="http://planetozh.com/blog/2009/09/top-10-most-common-coding-mistakes-in-wordpress-plugins/">Top 10 Most Common Coding Mistakes in WordPress Plugins</a> (11SEP09)</li>
<li> <a rel="nofollow" class="external text" href="http://markjaquith.wordpress.com/2006/06/02/wordpress-203-nonces/">WordPress 2.0.3: Nonces (Secure your forms with nonces)</a> (02JUN06)</li>
<li> <a rel="nofollow" class="external text" href="http://amiworks.co.in/talk/simplified-ajax-for-wordpress-plugin-developers-using-jquery/">Simplified AJAX For WordPress Plugin Developers using Jquery</a>(10APR08)</li>
<li> <a rel="nofollow" class="external text" href="http://dev.feijaocosta.com.br/criando-plugins-para-wordpress/">"Criando Plugins para WordPress" by Feijão Costa  (in Brazilian Portuguese)</a> (10JUN15)</li>
<li> <a rel="nofollow" class="external text" href="http://www.devlounge.net/extras/how-to-write-a-wordpress-plugin">12 part "How to Write a Wordpress Plugin" at DevLounge.net</a> by <a rel="nofollow" class="external text" href="http://ronalfy.com">Ronald Huereca</a></li>
<li> <a rel="nofollow" class="external text" href="http://ditio.net/2007/08/09/how-to-create-wordpress-plugin-from-a-scratch/">How to create WordPress Plugin from a scratch</a> (9AUG07)</li>
<li> <a rel="nofollow" class="external text" href="http://mitcho.com/code/hookpress/">HookPress</a>, a plugin that enables extending WordPress in languages other than PHP via webhooks. (26SEP09)</li>
<li> <a rel="nofollow" class="external text" href="http://beerpla.net/2010/01/13/wordpress-plugin-development-how-to-include-css-and-javascript-conditionally-and-only-when-needed-by-the-posts/">How To Include CSS and JavaScript Conditionally And Only When Needed By The Posts</a> (13JAN10)</li>
<li> <a rel="nofollow" class="external text" href="http://aaron.jorb.in/blog/2010/03/wordpress-external-cron-plugin/">Demonstrating how to use the Settings API, WP_Http, and Pseudo-cron</a> (01MAR10)</li>
<li> <a rel="nofollow" class="external text" href="http://make.wordpress.org/plugins/">Make WordPress Plugins</a> - official blog with information for plugin authors (25Jun12)</li>
<li> <a rel="nofollow" class="external text" href="http://generatewp.com/">WordPress Generator</a> - GenerateWP provides user-friendly tools for developers to create advanced systems built on WordPress. (15JAN13)</li>
<li> <a rel="nofollow" class="external text" href="http://wpsettingsapi.jeroensormani.com/">WP Settings API Generator</a> - WP Settings API is a tool for developers to easily create options pages for your plugins. (10JUL14)</li>
<li> <a rel="nofollow" class="external text" href="http://www.yaconiello.com/blog/how-to-write-wordpress-plugin/">How to write a WordPress Plugin</a> - A simple how-to guide to writing a class based WordPress plugin with a settings page, custom post type and metaboxes that separates business and template logic in an easy to understand way. (31Jan13)</li></ul>


