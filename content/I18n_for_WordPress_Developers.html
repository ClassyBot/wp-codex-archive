<p>The <a rel="nofollow" class="external text" href="https://developer.wordpress.org/plugin/internationalization/how-to-internationalize-your-plugin/">plugin internationalization documentation</a> is now located in the <a rel="nofollow" class="external text" href="https://developer.wordpress.org/plugins/">Plugin Developer Handbook</a>.
</p><p>The <a rel="nofollow" class="external text" href="https://developer.wordpress.org/plugin/internationalization/localization/">plugin localization documentation</a> is now located in the <a rel="nofollow" class="external text" href="https://developer.wordpress.org/plugins/">Plugin Developer Handbook</a>.
</p><p>The <a rel="nofollow" class="external text" href="https://developer.wordpress.org/theme/functionality/internationalization/">theme internationalization documentation</a> is now located in the <a rel="nofollow" class="external text" href="https://developer.wordpress.org/themes/getting-started/">Theme Developer Handbook</a>.
</p><p>The <a rel="nofollow" class="external text" href="https://developer.wordpress.org/theme/functionality/localization/">theme localization documentation</a> is now located in the <a rel="nofollow" class="external text" href="https://developer.wordpress.org/themes/getting-started/">Theme Developer Handbook</a>. 
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_is_I18n.3F"><span class="tocnumber">1</span> <span class="toctext">What is I18n?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Why_is_internationalization_important.3F"><span class="tocnumber">2</span> <span class="toctext">Why is internationalization important?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Introduction_to_Gettext"><span class="tocnumber">3</span> <span class="toctext">Introduction to Gettext</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Text_Domains"><span class="tocnumber">4</span> <span class="toctext">Text Domains</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Strings_for_Translation"><span class="tocnumber">5</span> <span class="toctext">Strings for Translation</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Translatable_strings"><span class="tocnumber">5.1</span> <span class="toctext">Translatable strings</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Placeholders"><span class="tocnumber">5.2</span> <span class="toctext">Placeholders</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#HTML"><span class="tocnumber">5.3</span> <span class="toctext">HTML</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Plurals"><span class="tocnumber">5.4</span> <span class="toctext">Plurals</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Disambiguation_by_context"><span class="tocnumber">5.5</span> <span class="toctext">Disambiguation by context</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Descriptions"><span class="tocnumber">5.6</span> <span class="toctext">Descriptions</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Newline_characters"><span class="tocnumber">5.7</span> <span class="toctext">Newline characters</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Empty_strings"><span class="tocnumber">5.8</span> <span class="toctext">Empty strings</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Handling_JavaScript_files"><span class="tocnumber">5.9</span> <span class="toctext">Handling JavaScript files</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#I18n_for_widgets"><span class="tocnumber">5.10</span> <span class="toctext">I18n for widgets</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Best_Practices"><span class="tocnumber">5.11</span> <span class="toctext">Best Practices</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Loading_a_Text_Domain"><span class="tocnumber">5.12</span> <span class="toctext">Loading a Text Domain</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Marking_strings_with_Text_Domain"><span class="tocnumber">5.13</span> <span class="toctext">Marking strings with Text Domain</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Translating_Plugins_and_Themes"><span class="tocnumber">6</span> <span class="toctext">Translating Plugins and Themes</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#POT_files"><span class="tocnumber">6.1</span> <span class="toctext">POT files</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Using_WP-CLI"><span class="tocnumber">6.1.1</span> <span class="toctext">Using WP-CLI</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Using_Grunt"><span class="tocnumber">6.1.2</span> <span class="toctext">Using Grunt</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Example_content"><span class="tocnumber">6.1.3</span> <span class="toctext">Example content</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24"><a href="#PO_files"><span class="tocnumber">6.2</span> <span class="toctext">PO files</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#MO_files"><span class="tocnumber">6.3</span> <span class="toctext">MO files</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Resources"><span class="tocnumber">7</span> <span class="toctext">Resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="What_is_I18n.3F">What is I18n?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=1" title="Edit section: What is I18n?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Internationalization is the process of developing your plugin so it can easily be translated into other languages. Localization describes the subsequent process of translating an internationalized plugin. Internationalization is often abbreviated as i18n (because there are 18 letters between the i and the n) and localization is abbreviated as l10n (because there are 10 letters between the l and the n.)
</p>
<h2><span class="mw-headline" id="Why_is_internationalization_important.3F">Why is internationalization important?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=2" title="Edit section: Why is internationalization important?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Because WordPress is used all over the world, it is a good idea to prepare a WordPress plugin so that it can be easily translated into whatever language is needed. As a developer, you may not have an easy time providing localizations for all your users; you may not speak their language after all. However, any developer can successfully internationalize a theme to allow others to create a localization without the need to modify the source code itself.
</p>
<h2><span class="mw-headline" id="Introduction_to_Gettext">Introduction to Gettext</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=3" title="Edit section: Introduction to Gettext">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>WordPress uses the <a rel="nofollow" class="external text" href="http://www.gnu.org/software/gettext/">gettext</a> libraries and tools for i18n. Gettext is an old and respectable piece of software, widely used in the open-source world.
</p><p>Here is how it works in a few sentences:
</p>
<ul><li> Developers wrap translatable strings in special gettext functions</li>
<li> Special tools parse the source code files and extract the translatable strings into POT (Portable Objects Template) files</li>
<li> In the WordPress world, POT files are often fed to GlotPress, which is a collaboration tool for translators</li>
<li> Translators translate the strings and the result is a PO file (POT file, but with translations inside)</li>
<li> PO files are compiled to binary MO files, which give faster access to the strings at run-time</li></ul>
<p>If you need to remember one thing: <b>translatable strings are parsed from special function calls in the source-code, they are not obtained at run-time</b>.
</p><p>Note that if you look online, you'll see the <tt>_()</tt> function which refers to the native PHP gettext-compliant translation function, but instead with WordPress you should use the <a href="https://codex.wordpress.org/Function_Reference/_2" title="Function Reference/ 2"><tt>__()</tt></a> wordpress-defined PHP function.
</p>
<h2><span class="mw-headline" id="Text_Domains">Text Domains</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=4" title="Edit section: Text Domains">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If you're translating a plugin or a theme, you'll need to use a text domain to denote all text belonging to that plugin. This increases portability and plays better with already existing WordPress tools. The text domain must match the “slug” of the plugin.
</p><p>The Text Domain needs to be added to the plugin header. WordPress should internationalize your plugin or theme meta-data when it displays your plugin in the admin screens:
</p>
<pre>/*
 * Plugin Name: My Plugin
 * Author: Otto
 * Text Domain: my-plugin
 */
</pre>
<p>The text domain is a unique identifier, which makes sure WordPress can distinguish between all loaded translations. If your plugin is a single file called <code>my-plugin.php</code> or it is contained in a folder called <code>my-plugin</code> the domain name should be <code>my-plugin</code>. The text domain name must use dashes and not underscores.
</p><p>In general, an application may use more than one large logical translatable module and a different <code>MO</code> file accordingly. A text domain is a handle to each of these modules, which has a different <code>MO</code> file.
</p>
<h2><span class="mw-headline" id="Strings_for_Translation">Strings for Translation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=5" title="Edit section: Strings for Translation">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Translatable_strings">Translatable strings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=6" title="Edit section: Translatable strings">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In order to make a string translatable in your application you have to just wrap the original string in a <code>__()</code> function:
</p>
<pre>__( 'Hello, dear user!', 'my-text-domain' );</pre>
<p>If your code should echo the string to the browser, use the _e() function instead：
</p>
<pre>_e( 'Your Ad here', 'my-text-domain' );</pre>
<p>The strings for translation are wrapped in a call to one of a set of special functions. The most commonly used one is <code>esc_html__()</code>. It escapes and returns the translation of its argument:
</p>
<pre>echo '&lt;h2&gt;' . esc_html__( 'Blog Options', 'my-text-domain' ) . '&lt;/h2&gt;';</pre>
<p>Another similar function is <tt>esc_html_e()</tt>, which escapes and echos the translation of its argument:
</p>
<pre>esc_html_e( 'Using this option you will make a fortune!', 'my-text-domain' );</pre>
<h3><span class="mw-headline" id="Placeholders">Placeholders</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=7" title="Edit section: Placeholders">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>echo 'We deleted $count spam messages.'</pre>
<p>How would you i18n this line? Let's give it a try together:
</p>
<pre>esc_html_e( "We deleted $count spam messages.", 'my-text-domain' );</pre>
<p>It won't work! Remember, the strings for translation are extracted from the sources, so the translators will see work on the phrase: <i>"We deleted $count spam messages."</i>. However in the application <code>_e</code> will be called with an argument like <i>"We deleted 49494 spam messages."</i> and <code>gettext</code> won't find a suitable translation of this one and will return its argument: <i>"We deleted 49494 spam messages."</i>. Unfortunately, it isn't translated correctly.
</p><p>The solution is to use the <code>printf</code> family of functions. Especially helpful are <a rel="nofollow" class="external text" href="http://php.net/printf">printf</a> and <a rel="nofollow" class="external text" href="http://php.net/sprintf">sprintf</a>. Here is what the right solution of the spams count problem will look like:
</p>
<pre>printf( esc_html__( 'We deleted&#160;%d spam messages.', 'my-text-domain' ), $count );</pre>
<p>Notice that here the string for translation is just the template <i>"We deleted&#160;%d spam messages."</i>, which is the same both in the source and at run-time.
</p><p>If you have more than one placeholder in a string, it is recommended that you use <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/function.sprintf.php#example-6070">argument swapping</a>. In this case, single quotes (') are mandatory&#160;: double quotes (") will tell php to interpret the $s as the s variable, which is not what we want.
</p>
<pre>printf( esc_html__( 'Your city is&#160;%1$s, and your zip code is&#160;%2$s.', 'my-text-domain' ), $city, $zipcode );</pre>
<p>Here the zip code is being displayed after the city name. In some languages displaying the zip code and city in reverse order would be more appropriate. A translation can thereby be written:
</p>
<pre>Your zip code is&#160;%2$s, and your city is&#160;%1$s.</pre>
<h3><span class="mw-headline" id="HTML">HTML</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=8" title="Edit section: HTML">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Including HTML in translatable strings depends on the context. Include HTML if the string is not separated from any text surrounding it. If the latter is unavoidable, and since translations should not be considered trusted strings, be sure to sanitize the result before echoing.
</p><p>Example of a link (separated from text surrounding it):
</p>
<pre>
&lt;div class="site-info"&gt;
  &lt;a href="http://wordpress.org/" &gt;&lt;?php esc_html_e( 'Proudly powered by WordPress.', 'my-text-domain' );&#160;?&gt;&lt;/a&gt;
&lt;/div&gt;&lt;!-- .site-info --&gt;
</pre>
<p>Example of a link in a paragraph (not separated from text surrounding it), using <code><a rel="nofollow" class="external text" href="https://codex.wordpress.org/Function_Reference/wp_kses">wp_kses()</a></code> to ensure the safety of the resulting string:
</p>
<pre>
&lt;p&gt;
&lt;?php
$url = 'http://example.com';
$link = sprintf( wp_kses( __( 'Check out this link to my &lt;a href="%s"&gt;website&lt;/a&gt; made with WordPress.', 'my-text-domain' ), array(  'a' =&gt; array( 'href' =&gt; array() ) ) ), esc_url( $url ) );
echo $link;
?&gt;
&lt;/p&gt;
</pre>
<h3><span class="mw-headline" id="Plurals">Plurals</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=9" title="Edit section: Plurals">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Let's get back to the spam comments example. What if we delete only one spam comment? The output will be: <i>We deleted 1 spam messages.</i>, which is definitely not correct English, and would certainly be incorrect for many other languages as well.
</p><p>In WordPress you can use the <code><a rel="nofollow" class="external text" href="http://codex.wordpress.org/Function_Reference/_n">_n()</a></code> function.
</p>
<pre>printf( esc_html( _n( 'We deleted&#160;%d spam message.', 'We deleted&#160;%d spam messages.', $count, 'my-text-domain'  ) ), $count );</pre>
<p><code>_n()</code> accepts 4 arguments:
</p>
<ul><li> singular &#8212; the singular form of the string</li>
<li> plural &#8212; the plural form of the string</li>
<li> count &#8212; the number of objects, which will determine whether the singular or the plural form should be returned (there are languages, which have far more than 2 forms)</li>
<li> text domain</li></ul>
<p>The return value of the functions is the correct translated form, corresponding to the given count.
</p><p>Note that some languages use the singular form for other numbers (e.g. 21, 31 and so on, much like '21st', '31st' in English).  If you would like to special case the singular, check for it specifically:
</p>
<pre>if ( 1 === $count ) {
	printf( esc_html__( 'Last thing!', 'my-text-domain' ), $count );
} else {
	printf( esc_html( _n( '%d thing.', '%d things.', $count, 'my-text-domain' ) ), $count );
}</pre>
<p>Also note that the <code>$count</code> parameter is often used twice.  First <code>$count</code> is passed to <code>_n()</code> to determine which translated string to use, and then <code>$count</code> is passed to <code>printf()</code> to substitute the number into the translated string.
</p>
<h3><span class="mw-headline" id="Disambiguation_by_context">Disambiguation by context</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=10" title="Edit section: Disambiguation by context">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Sometimes a single term is used in several contexts. Although it is one and the same word in English, it may need to be translated differently in some languages. For example, the word "Post" can be used both as a verb ("Click here to post your comment") and as a noun ("Edit this post"). In such cases, the <tt><a href="https://codex.wordpress.org/Function_Reference/_x" title="Function Reference/ x">_x()</a></tt> function should be used. It is similar to <tt><a href="https://codex.wordpress.org/Function_Reference/_2" title="Function Reference/ 2">__()</a></tt>, but it has an additional second argument -- the context:
</p>
<pre>if ( false === $commenttxt ) $commenttxt = _x( 'Comment', 'noun', 'my-text-domain' );
if ( false === $trackbacktxt ) $trackbacktxt = __( 'Trackback', 'my-text-domain' );
if ( false === $pingbacktxt ) $pingbacktxt = __( 'Pingback', 'my-text-domain' );
...
// some other place in the code
echo _x( 'Comment', 'column name', 'my-text-domain' );</pre>
<p>Using this method, we will see the string "Comment" for both of the original versions, but the translators will see two "Comment" strings for translation, each in the different contexts.
</p><p>If the translation needs escaping, use <a href="https://codex.wordpress.org/Function_Reference/esc_attr_x" title="Function Reference/esc attr x">esc_attr_x()</a> or <a href="https://codex.wordpress.org/Function_Reference/esc_html_x" title="Function Reference/esc html x">esc_html_x()</a>.
</p><p>Note that similarly to <code>__()</code>, <code>_x()</code> has an 'echo' version: <code><a href="https://codex.wordpress.org/Function_Reference/_ex" title="Function Reference/ ex">_ex()</a></code>. The previous example could be written as:
</p>
<pre>_ex( 'Comment', 'column name', 'my-text-domain' );</pre>
<p>Use whichever you feel enhances legibility and ease-of-coding.
</p><p>To add contexts to a string with plural form(s), use  <a href="https://codex.wordpress.org/Function_Reference/_nx" title="Function Reference/ nx">_nx()</a>.
</p>
<h3><span class="mw-headline" id="Descriptions">Descriptions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=11" title="Edit section: Descriptions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Do you think translators will know how to translate the string below?
</p>
<pre>esc_html__( 'g:i:s a', 'my-text-domain' )</pre>
<p>In this case you can add a clarifying comment in the source code. It has to start with the words <code>translators:</code> and to be the last PHP comment before the gettext call. Here is an example:
</p>
<pre>/* translators: draft saved date format, see http://php.net/date */
$draft_saved_date_format = esc_html__( 'g:i:s a', 'my-text-domain' );</pre>
<p>By adding a <code>translators:</code> comment you can write a "personal" message to the translators, so that they know how to deal with the string.
</p>
<h3><span class="mw-headline" id="Newline_characters">Newline characters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=12" title="Edit section: Newline characters">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Gettext doesn't like <code>\r</code> (ASCII code: 13) in translatable strings, so please avoid it and use <code>\n</code> instead.
</p>
<h3><span class="mw-headline" id="Empty_strings">Empty strings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=13" title="Edit section: Empty strings">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The empty string is reserved for internal Gettext usage and you must not try to internationalize the empty string. It also doesn't make any sense, because the translators won't see any context.
</p><p>If you have a valid use-case to internationalize an empty string, <a href="#Disambiguation_by_context">add context</a> to both help translators and be in peace with the Gettext system.
</p>
<h3><span class="mw-headline" id="Handling_JavaScript_files">Handling JavaScript files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=14" title="Edit section: Handling JavaScript files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Use <code>wp_localize_script()</code> to add translated strings or other server-side data to a previously enqueued script.
</p>
<pre>
wp_enqueue_script( 'script-handle', &#8230; );
wp_localize_script( 'script-handle', 'objectL10n', array(
	'speed'  =&gt; $distance / $time,
	'submit' =&gt; esc_html__( 'Submit', 'my-text-domain' ),
) );
</pre>
<p>Then in the JavaScript file, corresponding to <code>script-handle</code> you can use <code>objectL10n.variable</code>:
</p>
<pre>
$('#submit').val(objectL10n.submit);
$('#speed').val('{speed} km/h'.replace('{speed}', objectL10n.speed));
</pre>
<h3><span class="mw-headline" id="I18n_for_widgets">I18n for widgets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=15" title="Edit section: I18n for widgets">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="https://codex.wordpress.org/Version_2.8" title="Version 2.8">WordPress 2.8+</a> uses a new <a href="https://codex.wordpress.org/Widget_API" title="Widget API" class="mw-redirect">Widget API</a>, that only requires the widget developer to extend the standard widget class and some of its functions. With this API there is no <tt>init</tt> function. After the widget is coded using the <code>widget()</code>, <code>form()</code>, and <code>update()</code> methods, the widget must be registered. The textdomain is then loaded after the widget is registered.
</p><p>Example:
</p>
<pre>// register Foo_Widget widget
function Foo_Widget_init() {
    return register_widget( 'Foo_Widget' );
}
add_action( 'widgets_init', 'Foo_Widget_init' );

$plugin_dir = basename( dirname( __FILE__ ) );
load_plugin_textdomain( 'foo_widget', null, $plugin_dir );
</pre>
<p>This example registers a widget named <i>Foo_Widget</i>, then sets the plugin directory variable and attempts to load the <tt>foo_widget-<i>locale</i>.po</tt> file.
</p>
<h3><span class="mw-headline" id="Best_Practices">Best Practices</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=16" title="Edit section: Best Practices">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Until we gather some WordPress-specific examples, use your time to read the short, but excellent article in the <a rel="nofollow" class="external text" href="http://www.gnu.org/software/gettext/manual/html_node/Preparing-Strings.html#Preparing-Strings">gettext manual</a>. Summarized, it looks like this:
</p>
<ul><li> Decent English style&#8212;minimize slang and abbreviations.</li>
<li> Entire sentences&#8212;in most languages word order is different than that in English.</li>
<li> Split at paragraphs&#8212;merge related sentences, but do not include a whole page of text in one string.</li>
<li> Use format strings instead of string concatenation&#8212;<tt>sprintf(__('Replace&#160;%1$s with&#160;%2$s'), $a, $b);</tt> is always better than <tt>__('Replace ').$a.__(' with ').$b; </tt>.</li>
<li> Avoid unusual markup and unusual control characters&#8212;do not include tags that surround your text and do not leave URLs for translation, unless they could have a version in another language.</li>
<li> Do not leave leading or trailing whitespace in a translatable phrase.</li></ul>
<h3><span class="mw-headline" id="Loading_a_Text_Domain">Loading a Text Domain</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=17" title="Edit section: Loading a Text Domain">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The text domain name is also used to form the name of the MO file for your plugin. You can load the file by calling the function <a href="https://codex.wordpress.org/Function_Reference/load_plugin_textdomain" title="Function Reference/load plugin textdomain">load_plugin_textdomain</a> as early as the <tt>plugins_loaded</tt> <a href="https://codex.wordpress.org/Plugin_API#Actions" title="Plugin API">action</a>. 
</p>
<pre>load_plugin_textdomain( $domain, $path_from_abspath, $path_from_plugins_folder )
</pre>
<p>Example:
</p>
<pre>function myplugin_init() {
    $plugin_rel_path = basename( dirname( __FILE__ ) ) . '/languages'; /* Relative to WP_PLUGIN_DIR */
    load_plugin_textdomain( 'my-plugin', false, $plugin_rel_path );
}
add_action('plugins_loaded', 'myplugin_init');</pre>
<p>This call tries to load <tt>my-plugin-<i>{locale}</i>.mo</tt> from your plugin directory. The <i>locale</i> is the language code and/or country code you defined in the constant <tt>WPLANG</tt> in the file <tt>wp-config.php</tt>.
</p><p>For example, the locale for German is 'de', and the locale for Danish is 'da_DK'. The MO files for 'my-plugin' should be named <tt>my-plugin-de.mo</tt> and <tt>my-plugin-da_DK.po</tt>. For more information about language and country codes, see <a href="https://codex.wordpress.org/Installing_WordPress_in_Your_Language" title="Installing WordPress in Your Language">Installing WordPress in Your Language</a>.
</p>
<ul><li> For <i>WordPress 2.6 and up</i>, the <i>third parameter</i> is the directory containing the .mo file, <i>relative to the plugin directory</i>. <b>It must end with a trailing slash.</b> If your plugin doesn't need compatibility with older versions of WordPress, you can leave the second parameter blank.</li></ul>
<ul><li> For <i>versions lower than 2.6</i>, the <i>second parameter</i> should be the directory containing the .mo file, <i>relative to ABSPATH</i>. The third parameter should be blank.</li></ul>
<p>For themes the process is surprisingly similar:
</p>
<pre>load_theme_textdomain('my_theme');
</pre>
<p>Put this call in your <tt>functions.php</tt> and it will search your theme directory for <tt><i>locale</i>.mo</tt> and load it (where <i>locale</i> is the current language, i.e. <i>he_IL.mo</i>).
</p><p><b>Watch Out</b>
</p>
<ul><li> <b>DO</b> name your MO file as <tt><i>locale</i>.mo</tt> (e.g., <tt>he_IL.mo</tt>)</li>
<li> <b>DO NOT</b> name your MO file as <tt>my_theme-he_IL.mo</tt></li></ul>
<h3><span class="mw-headline" id="Marking_strings_with_Text_Domain">Marking strings with Text Domain</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=18" title="Edit section: Marking strings with Text Domain">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>You must add your domain as an argument to every __, _e and __n gettext call</b>, otherwise <b>your translations won't work</b>.
</p><p>Adding the domain by hand is a burden and that's why you can do it automatically:
</p><p>If your plugin is registered in the <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/">official repository</a>:
</p>
<ul><li> Go to your <b>Admin</b> page there and scroll to <b>Add Domain to Gettext Calls</b>.</li></ul>
<p>Otherwise:
</p>
<ul><li> Get the <a rel="nofollow" class="external text" href="http://svn.automattic.com/wordpress-i18n/tools/trunk/add-textdomain.php">add-textdomain.php</a> script and execute it like this:</li></ul>
<pre>php add-textdomain.php -i <i>domain</i> <i>phpfile</i> <i>phpfile</i> ...
</pre>
<p>After it's done, the domain will be added to all gettext calls in the files.
</p>
<h2><span class="mw-headline" id="Translating_Plugins_and_Themes">Translating Plugins and Themes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=19" title="Edit section: Translating Plugins and Themes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="POT_files">POT files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=20" title="Edit section: POT files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The first stage is to generate a <tt>.pot</tt> for your plugin or theme. This is done by way of the <tt>xgettext</tt> utility as part of gettext. You will need to have the gettext package installed if you want to do this generation on-site.
</p>
<h4><span class="mw-headline" id="Using_WP-CLI">Using WP-CLI</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=21" title="Edit section: Using WP-CLI">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Install <a rel="nofollow" class="external text" href="https://make.wordpress.org/cli/handbook/installing/">WP-CLI</a> and use the <tt>wp i18n make-pot</tt> command according to the <a rel="nofollow" class="external text" href="https://developer.wordpress.org/cli/commands/i18n/make-pot/">documentation</a>.
</p>
<h4><span class="mw-headline" id="Using_Grunt">Using Grunt</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=22" title="Edit section: Using Grunt">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If you use <a rel="nofollow" class="external text" href="http://gruntjs.com">Grunt</a> with your theme or plugin, you can use the <a rel="nofollow" class="external text" href="https://github.com/stephenharris/grunt-pot">grunt-pot</a> plugin by Stephen Harris to generate a <tt>.pot</tt> file. See <a rel="nofollow" class="external text" href="http://stephenharris.info/grunt-wordpress-development-iii-tasks-for-internationalisation/">his site</a> for instructions on integrating it into your project.
</p>
<h4><span class="mw-headline" id="Example_content">Example content</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=23" title="Edit section: Example content">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Each translatable string is formatted like this:
</p>
<pre>#: comments.php:28
msgid "Comments:"
msgstr ""</pre>
<h3><span class="mw-headline" id="PO_files">PO files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=24" title="Edit section: PO files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Every translator takes the WordPress <tt>.pot</tt> file and translates the <tt>msgstr</tt> sections to their own language. The result is a <tt>.po</tt> file with the same format as a <tt>.pot</tt>, but with translations and some specific headers.
</p>
<h3><span class="mw-headline" id="MO_files">MO files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=25" title="Edit section: MO files">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>From a resulting <tt>.po</tt> translation file a <tt>.mo</tt> file is compiled. This is a binary file which contains all the original strings and their translations in a format suitable for fast translation extraction. The conversion is done using the <tt>msgfmt</tt> tool:
</p>
<pre>msgfmt -o &lt;output&gt;.mo &lt;input&gt;.po
</pre>
<p>If you have a lot of <tt>.po</tt> files to convert at once, you can run it as a batch. For example, using a <tt>bash</tt> command:
</p>
<pre>
# Find PO files, process each with msgfmt and rename the result to MO
for file in `find . -name "*.po"`&#160;; do msgfmt -o ${file/.po/.mo} $file&#160;; done
</pre>
<h2><span class="mw-headline" id="Resources">Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=I18n_for_WordPress_Developers&amp;action=edit&amp;section=26" title="Edit section: Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://pascalbirchler.com/text-domain-wordpress-internationalization/">The text domain in WordPress internationalization</a></li>
<li> <a rel="nofollow" class="external text" href="http://ottopress.com/2013/language-packs-101-prepwork/">Language Packs 101 – Prepwork</a></li>
<li> <a rel="nofollow" class="external text" href="http://clivern.com/how-to-internationalize-your-wordpress-plugin/">How to internationalize your wordpress plugin</a></li>
<li> <a rel="nofollow" class="external text" href="https://wpgeodirectory.com/loading-wordpress-language-files-correctly/">Loading WordPress language files correctly</a> </li>
<li> <a rel="nofollow" class="external text" href="http://markjaquith.wordpress.com/2011/10/06/translating-wordpress-plugins-and-themes-dont-get-clever/">Translating WordPress Plugins and Themes: Don’t Get Clever</a></li>
<li> <a rel="nofollow" class="external text" href="http://wp.smashingmagazine.com/2011/12/29/internationalizing-localizing-wordpress-theme/">Internationalizing And Localizing Your WordPress Theme</a></li>
<li> <a rel="nofollow" class="external text" href="http://ottopress.com/2012/internationalization-youre-probably-doing-it-wrong/">Internationalization: You’re probably doing it wrong</a></li>
<li> <a rel="nofollow" class="external text" href="http://ottopress.com/2012/more-internationalization-fun/">More Internationalization Fun</a></li></ul>

<!-- 
NewPP limit report
Cached time: 20190429054040
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.028 seconds
Real time usage: 0.128 seconds
Preprocessor visited node count: 301/1000000
Preprocessor generated node count: 548/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
