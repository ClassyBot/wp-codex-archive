<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/register_post_type" title="Function Reference/register post type">English</a> • 
<strong class="selflink">中文(简体)</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/register_post_type">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<p><span style="color:red">这篇函数参考按照<a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">Version 3.1</a>做了修改. 3.1以前版本请查看 <a rel="nofollow" class="external text" href="http://codex.wordpress.org/index.php?title=Function_Reference/register_post_type&amp;oldid=93756">this revision.</a></span>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E8.AF.B4.E6.98.8E"><span class="tocnumber">1</span> <span class="toctext">说明</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E7.94.A8.E6.B3.95"><span class="tocnumber">2</span> <span class="toctext">用法</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.E5.8F.82.E6.95.B0"><span class="tocnumber">3</span> <span class="toctext">参数</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.E5.8F.82.E6.95.B0_2"><span class="tocnumber">3.1</span> <span class="toctext">参数</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#.E8.8C.83.E4.BE.8B"><span class="tocnumber">4</span> <span class="toctext">范例</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Change_Log"><span class="tocnumber">5</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Source_File"><span class="tocnumber">6</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Resources"><span class="tocnumber">7</span> <span class="toctext">Resources</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Plugin_Resources"><span class="tocnumber">7.1</span> <span class="toctext">Plugin Resources</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Related"><span class="tocnumber">8</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E8.AF.B4.E6.98.8E">说明</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=1" title="Edit section: 说明">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Create or modify a <a href="https://codex.wordpress.org/Glossary#Post_Type" title="Glossary">post type</a>. Do not use <a href="https://codex.wordpress.org/Function_Reference/register_post_type" title="Function Reference/register post type">register_post_type</a> before init.
</p>
<h2><span class="mw-headline" id=".E7.94.A8.E6.B3.95">用法</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=2" title="Edit section: 用法">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;register_post_type</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$post_type</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$args&#160;</span><span style="color: #007700">)&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id=".E5.8F.82.E6.95.B0">参数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=3" title="Edit section: 参数">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$post_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>必选</i>) 文章类型。(<b>最多20个字符</b>)
<dl><dd> Default: 空</dd></dl></dd></dl>
<dl><dt> <tt>$args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>可选</i>) 一个数组参数。
<dl><dd> Default: 空</dd></dl></dd></dl>
<h3><span class="mw-headline" id=".E5.8F.82.E6.95.B0_2">参数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=4" title="Edit section: 参数">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt> <tt>label</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>可选</i>) A <b>plural</b> descriptive name for the post type marked for translation.
<dl><dd> Default: $post_type</dd></dl></dd></dl>
<dl><dt> <tt>labels</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>可选</i>) labels - An array of labels for this post type. By default post labels are used for non-hierarchical types and page labels for hierarchical ones.
<dl><dd> Default: if empty, name is set to label value, and singular_name is set to name value</dd></dl>
<ul><li> 'name' - general name for the post type, usually plural. The same as,  and overridden by $post_type_object-&gt;label</li>
<li> 'singular_name' - name for one object of this post type. Defaults to value of name</li>
<li> 'add_new' -  the add new text.  The default is Add New for both hierarchical and non-hierarchical types. When internationalizing this string, please use a <a href="https://codex.wordpress.org/I18n_for_WordPress_Developers#Disambiguation_by_context" title="I18n for WordPress Developers">gettext context</a> matching your post type. Example: <code>_x('Add New', 'product');</code></li>
<li> 'add_new_item' -  the add new item text.  Default is Add New Post/Add New Page</li>
<li> 'edit_item' - the edit item text. Default is Edit Post/Edit Page</li>
<li> 'new_item' - the new item text.  Default is New Post/New Page</li>
<li> 'view_item' - the view item text.  Default is View Post/View Page</li>
<li> 'search_items' - the search items text. Default is Search Posts/Search Pages</li>
<li> 'not_found' - the not found text. Default is No posts found/No pages found</li>
<li> 'not_found_in_trash' - the not found in trash text. Default is No posts found in Trash/No pages found in Trash</li>
<li> 'parent_item_colon' - the parent text.  This string isn't used on non-hierarchical types. In hierarchical ones the default is Parent Page</li>
<li> 'menu_name' - the menu name text.  This string is the name to give menu items.  Defaults to value of name</li></ul></dd></dl>
<dl><dt> <tt>description</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) A short descriptive summary of what the post type is.
<dl><dd> Default: blank</dd></dl></dd></dl>
<dl><dt> <tt>public</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Meta argument used to define default values for publicly_queriable, show_ui, show_in_nav_menus and exclude_from_search.
<dl><dd> Default: false</dd></dl>
<ul><li> 'false' - do not display a user-interface for this post type (show_ui=false), post_type queries can not be performed from the front end (publicly_queryable=false), exclude posts with this post type from search results (exclude_from_search=true), hide post_type for selection in navigation menus (show_in_nav_menus=false)</li>
<li> 'true' - show_ui=true, publicly_queryable=true, exclude_from_search=false, show_in_nav_menus=true</li></ul></dd></dl>
<dl><dt> <tt>publicly_queryable</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether post_type queries can be performed from the front end.
<dl><dd> Default: value of public argument</dd></dl></dd></dl>
<dl><dt> <tt>exclude_from_search</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>importance</i>) Whether to exclude posts with this post type from search results.
<dl><dd> Default: value of the opposite of the public argument</dd></dl></dd></dl>
<dl><dt> <tt>show_ui</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to generate a default UI for managing this post type.  Note that _built-in post types, such as post and page, are intentionally set to false.
<dl><dd> Default: value of public argument</dd></dl>
<ul><li> 'false' - do not display a user-interface for this post type</li>
<li> 'true' - display a user-interface (admin panel) for this post type</li></ul></dd></dl>
<dl><dt> <tt>show_in_menu</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) Whether to show the post type in the admin menu and where to show that menu.  Note that show_ui must be true.
<dl><dd> Default: null</dd></dl>
<ul><li> 'false' - do not display in the admin menu</li>
<li> 'true' - display as a top level menu</li>
<li> 'some string' - a top level page like 'tools.php' or 'edit.php?post_type=page'</li></ul></dd>
<dd> Note: When using 'some string' to show as a submenu of a menu page created by a plugin, this item will become the first submenu item, and replace the location of the top level link. If this isn't desired, the plugin that creates the menu page needs to set the add_action priority for admin_menu to 9 or lower.</dd></dl>
<dl><dt> <tt>menu_position</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>optional</i>) The position in the menu order the post type should appear. 
<dl><dd> Default: null - defaults to below Comments</dd></dl>
<ul><li> 5  - below Posts</li>
<li> 10 - below Media</li>
<li> 15 - below Links</li>
<li> 20 - below Pages</li>
<li> 25 - below comments</li>
<li> 60 - below first separator</li>
<li> 65 - below Plugins</li>
<li> 70 - below Users</li>
<li> 75 - below Tools</li>
<li> 80 - below Settings</li>
<li> 100 - below second separator</li></ul></dd></dl>
<dl><dt> <tt>menu_icon</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The url to the icon to be used for this menu.
<dl><dd> Default: null - defaults to the posts icon</dd></dl></dd></dl>
<dl><dt> <tt>capability_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String_or_array" title="How to Pass Tag Parameters"><i>string or array</i></a>) (<i>optional</i>) The string to use to build the read, edit, and delete capabilities. May be passed as an array to allow for alternative plurals when using this argument as a base to construct the capabilities, e.g. array('story', 'stories').  By default the capability_type is used as a base to construct capabilities.
<dl><dd> Default: "post"</dd></dl></dd></dl>
<dl><dt> <tt>capabilities</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of the capabilities for this post type.
<dl><dd> Default: capability_type is used to construct</dd></dl></dd>
<dd> By default, seven keys are accepted as part of the capabilities array:
<ul><li> edit_post, read_post, and delete_post - These three are <b>meta capabilities</b>, which are then generally mapped to corresponding <b>primitive capabilities</b> depending on the context, for example the post being edited/read/deleted and the user or role being checked. Thus these capabilities would generally not be granted directly to users or roles.</li>
<li> edit_posts - Controls whether objects of this post type can be edited.</li>
<li>  edit_others_posts - Controls whether objects of this type owned by other users can be edited. If the post type does not support an author, then this will behave like edit_posts.</li>
<li> publish_posts - Controls publishing objects of this post type.</li>
<li> read_private_posts - Controls whether private objects can be read.</li></ul></dd>
<dd> Note: those last four <b>primitive capabilities</b> are checked in core in various locations.</dd></dl>
<dl><dd> There are also seven other <b>primitive capabilities</b> which are not referenced directly in core, except in map_meta_cap(), which takes the three aforementioned <b>meta capabilities</b> and translates them into one or more <b>primitive capabilities</b> that must then be checked against the user or role, depending on the context.  These additional capabilities are only used in map_meta_cap(). Thus, they are only assigned by default if the post type is registered with the 'map_meta_cap' argument set to true (default is false).
<ul><li> read - Controls whether objects of this post type can be read.</li>
<li> delete_posts - Controls whether objects of this post type can be deleted.</li>
<li> delete_private_posts - Controls whether private objects can be deleted.</li>
<li> delete_published_posts - Controls whether published objects can be deleted.</li>
<li> delete_others_posts - Controls whether objects owned by other users can be  can be deleted. If the post type does not support an author, then this will behave like delete_posts.</li>
<li> edit_private_posts - Controls whether private objects can be edited.</li>
<li> edit_published_posts - Controls whether published objects can be edited.</li></ul></dd></dl>
<dl><dt> <tt>map_meta_cap</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to use the internal default meta capability handling.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>hierarchical</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether the post type is hierarchical. Allows Parent to be specified.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>supports</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An alias for calling <a href="https://codex.wordpress.org/Function_Reference/add_post_type_support" title="Function Reference/add post type support">add_post_type_support()</a> directly.
<dl><dd> Default: title and editor</dd></dl>
<ul><li> 'title'</li>
<li> 'editor' (content)</li>
<li> 'author'</li>
<li> 'thumbnail' (featured image, current theme must also support post-thumbnails)</li>
<li> 'excerpt'</li>
<li> 'trackbacks'</li>
<li> 'custom-fields'</li>
<li> 'comments' (also will see comment count balloon on edit screen)</li>
<li> 'revisions' (will store revisions)</li>
<li> 'page-attributes' (template and menu order, hierarchical must be true to show Parent option)</li></ul></dd></dl>
<dl><dt> <tt>register_meta_box_cb</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) Provide a callback function that will be called when setting up the meta boxes for the edit form. Do <a href="https://codex.wordpress.org/Function_Reference/remove_meta_box" title="Function Reference/remove meta box">remove_meta_box()</a> and <a href="https://codex.wordpress.org/Function_Reference/add_meta_box" title="Function Reference/add meta box">add_meta_box()</a> calls in the callback.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>taxonomies</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of registered taxonomies like <code>category</code> or <code>post_tag</code> that will be used with this post type. This can be use in lieu of calling <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy_for_object_type" title="Function Reference/register taxonomy for object type">register_taxonomy_for_object_type()</a> directly.  Taxonomies still need to be registered with <a href="https://codex.wordpress.org/Function_Reference/register_taxonomy" title="Function Reference/register taxonomy">register_taxonomy()</a>.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>permalink_epmask</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The default rewrite endpoint bitmasks. For more info see <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/12605">Trac Ticket 12605</a>.
<dl><dd> Default: EP_PERMALINK</dd></dl></dd></dl>
<dl><dt> <tt>has_archive</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) Enables post type archives. Will use string as archive slug. Will generate the proper rewrite rules if rewrite is enabled.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>rewrite</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_array" title="How to Pass Tag Parameters"><i>boolean or array</i></a>) (<i>optional</i>) Rewrite permalinks with this format.  False to prevent rewrite.
<dl><dd> Default: true and use post type as slug</dd></dl></dd>
<dd>$args array
<ul><li> 'slug' - prepend posts with this slug - defaults to post type's name - use array('slug'=&gt;$slug) to customize permastruct</li>
<li> 'with_front' - allowing permalinks to be prepended with front base (example: if your permalink structure is /blog/, then your links will be: false-&gt;/news/, true-&gt;/blog/news/) - defaults to true</li>
<li> 'feeds' - default to has_archive value</li>
<li> 'pages' - defaults to true</li></ul></dd></dl>
<dl><dt> <tt>query_var</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) False to prevent queries, or string value of the query var to use for this post type.
<dl><dd> Default: true - set to $post_type</dd></dl></dd></dl>
<dl><dt> <tt>can_export</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Can this post_type be exported.
<dl><dd> Default: true</dd></dl></dd></dl>
<dl><dt> <tt>show_in_nav_menus</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether post_type is available for selection in navigation menus.
<dl><dd> Default: value of public argument</dd></dl></dd></dl>
<dl><dt> <tt>_builtin</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>not for general use</i>) Whether this post type is a native or "built-in" post_type. <b>Note: this Codex entry is for documentation - core developers recommend you don't use this when registering your own post type</b>
<dl><dd> Default: false</dd></dl>
<ul><li> 'false' - default this is a custom post type</li>
<li> 'true' - this is a built-in native post type (post, page, attachment, revision, nav_menu_item)</li></ul></dd></dl>
<dl><dt> <tt>_edit_link</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>not for general use</i>) Link to edit an entry with this post type. <b>Note: this Codex entry is for documentation '-' core developers recommend you don't use this when registering your own post type</b>
<dl><dd> Default: </dd></dl>
<ul><li> 'post.php?post=%d'</li></ul></dd></dl>
<h2><span class="mw-headline" id=".E8.8C.83.E4.BE.8B">范例</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=5" title="Edit section: 范例">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>注册一个文章类型叫 "book"的范例，包括提供上下文帮助:
</p>
<pre>
&lt;?php
add_action('init', 'my_custom_init');
function my_custom_init() 
{
  $labels = array(
    'name' =&gt; _x('Books', 'post type general name'),
    'singular_name' =&gt; _x('Book', 'post type singular name'),
    'add_new' =&gt; _x('Add New', 'book'),
    'add_new_item' =&gt; __('Add New Book'),
    'edit_item' =&gt; __('Edit Book'),
    'new_item' =&gt; __('New Book'),
    'view_item' =&gt; __('View Book'),
    'search_items' =&gt; __('Search Books'),
    'not_found' =&gt;  __('No books found'),
    'not_found_in_trash' =&gt; __('No books found in Trash'), 
    'parent_item_colon' =&gt; '',
    'menu_name' =&gt; 'Books'

  );
  $args = array(
    'labels' =&gt; $labels,
    'public' =&gt; true,
    'publicly_queryable' =&gt; true,
    'show_ui' =&gt; true, 
    'show_in_menu' =&gt; true, 
    'query_var' =&gt; true,
    'rewrite' =&gt; true,
    'capability_type' =&gt; 'post',
    'has_archive' =&gt; true, 
    'hierarchical' =&gt; false,
    'menu_position' =&gt; null,
    'supports' =&gt; array('title','editor','author','thumbnail','excerpt','comments')
  ); 
  register_post_type('book',$args);
}

//添加过滤器，以确保课本用户更新时会显示。
 
add_filter('post_updated_messages', 'book_updated_messages');
function book_updated_messages( $messages ) {
  global $post, $post_ID;

  $messages['book'] = array(
    0 =&gt; '', // 未使用。信息开始在索引1。
    1 =&gt; sprintf( __('Book updated. &lt;a href="%s"&gt;View book&lt;/a&gt;'), esc_url( get_permalink($post_ID) ) ),
    2 =&gt; __('Custom field updated.'),
    3 =&gt; __('Custom field deleted.'),
    4 =&gt; __('Book updated.'),
    /* translators:&#160;%s: date and time of the revision */
    5 =&gt; isset($_GET['revision'])&#160;? sprintf( __('Book restored to revision from&#160;%s'), wp_post_revision_title( (int) $_GET['revision'], false ) )&#160;: false,
    6 =&gt; sprintf( __('Book published. &lt;a href="%s"&gt;View book&lt;/a&gt;'), esc_url( get_permalink($post_ID) ) ),
    7 =&gt; __('Book saved.'),
    8 =&gt; sprintf( __('Book submitted. &lt;a target="_blank" href="%s"&gt;Preview book&lt;/a&gt;'), esc_url( add_query_arg( 'preview', 'true', get_permalink($post_ID) ) ) ),
    9 =&gt; sprintf( __('Book scheduled for: &lt;strong&gt;%1$s&lt;/strong&gt;. &lt;a target="_blank" href="%2$s"&gt;Preview book&lt;/a&gt;'),
      // translators: Publish box date format, see http://php.net/date
      date_i18n( __( 'M j, Y @ G:i' ), strtotime( $post-&gt;post_date ) ), esc_url( get_permalink($post_ID) ) ),
    10 =&gt; sprintf( __('Book draft updated. &lt;a target="_blank" href="%s"&gt;Preview book&lt;/a&gt;'), esc_url( add_query_arg( 'preview', 'true', get_permalink($post_ID) ) ) ),
  );

  return $messages;
}

//显示图书上下文帮助
add_action( 'contextual_help', 'add_help_text', 10, 3 );

function add_help_text($contextual_help, $screen_id, $screen) { 
  //$contextual_help .= var_dump($screen); // use this to help determine $screen-&gt;id
  if ('book' == $screen-&gt;id ) {
    $contextual_help =
      '&lt;p&gt;' . __('Things to remember when adding or editing a book:') . '&lt;/p&gt;' .
      '&lt;ul&gt;' .
      '&lt;li&gt;' . __('Specify the correct genre such as Mystery, or Historic.') . '&lt;/li&gt;' .
      '&lt;li&gt;' . __('Specify the correct writer of the book.  Remember that the Author module refers to you, the author of this book review.') . '&lt;/li&gt;' .
      '&lt;/ul&gt;' .
      '&lt;p&gt;' . __('If you want to schedule the book review to be published in the future:') . '&lt;/p&gt;' .
      '&lt;ul&gt;' .
      '&lt;li&gt;' . __('Under the Publish module, click on the Edit link next to Publish.') . '&lt;/li&gt;' .
      '&lt;li&gt;' . __('Change the date to the date to actual publish this article, then click on Ok.') . '&lt;/li&gt;' .
      '&lt;/ul&gt;' .
      '&lt;p&gt;&lt;strong&gt;' . __('For more information:') . '&lt;/strong&gt;&lt;/p&gt;' .
      '&lt;p&gt;' . __('&lt;a href="http://codex.wordpress.org/Posts_Edit_SubPanel" target="_blank"&gt;Edit Posts Documentation&lt;/a&gt;') . '&lt;/p&gt;' .
      '&lt;p&gt;' . __('&lt;a href="http://wordpress.org/support/" target="_blank"&gt;Support Forums&lt;/a&gt;') . '&lt;/p&gt;'&#160;;
  } elseif ( 'edit-book' == $screen-&gt;id ) {
    $contextual_help = 
      '&lt;p&gt;' . __('This is the help screen displaying the table of books blah blah blah.') . '&lt;/p&gt;'&#160;;
  }
  return $contextual_help;
}
?&gt;
</pre>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=6" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> Since <a href="https://codex.wordpress.org/Version_2.9" title="Version 2.9">2.9</a></li></ul>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=7" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>register_post_type()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/post.php#L0">wp-includes/post.php</a></code>.
</p>
<h2><span class="mw-headline" id="Resources">Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=8" title="Edit section: Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Custom_Post_Types" title="Custom Post Types" class="mw-redirect">Custom Post Types</a></li>
<li> <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/12943">Feeds for Custom Post Types (Trac 12943)</a></li>
<li> <a rel="nofollow" class="external text" href="http://lists.automattic.com/pipermail/wp-hackers/2010-June/032655.html">Discussion on wp-hackers about capabilities</a></li>
<li> <a rel="nofollow" class="external text" href="http://lists.automattic.com/pipermail/wp-hackers/2010-June/032657.html">Another discussion on wp-hackers about capabilities</a></li></ul>
<h3><span class="mw-headline" id="Plugin_Resources">Plugin Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=9" title="Edit section: Plugin Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/content-types-wordpress-plugin/">Custom Content Type Plugin</a> </li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/custom-post-type-ui/">Custom Post Type UI Plugin</a> </li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/cms-press/">CMS Press</a> </li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/gd-taxonomies-tools/">GD Custom Posts And Taxonomies Tools</a></li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/post-types-order/">Change Order for Custom Post Types in WordPress 3.0</a></li></ul>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_post_type&amp;action=edit&amp;section=10" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Post_Types" title="Post Types"><b>Post Types</b></a>: 
<a href="https://codex.wordpress.org/Function_Reference/register_post_type" title="Function Reference/register post type"> register_post_type()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/add_post_type_support" title="Function Reference/add post type support"> add_post_type_support()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/remove_post_type_support" title="Function Reference/remove post type support"> remove_post_type_support()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/post_type_supports" title="Function Reference/post type supports"> post_type_supports()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/post_type_exists" title="Function Reference/post type exists"> post_type_exists()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/set_post_type" title="Function Reference/set post type"> set_post_type()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type" title="Function Reference/get post type"> get_post_type()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_types" title="Function Reference/get post types"> get_post_types()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type_object" title="Function Reference/get post type object"> get_post_type_object()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type_capabilities" title="Function Reference/get post type capabilities"> get_post_type_capabilities()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_type_labels" title="Function Reference/get post type labels"> get_post_type_labels()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/is_post_type_hierarchical" title="Function Reference/is post type hierarchical"> is_post_type_hierarchical()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/is_post_type_archive" title="Function Reference/is post type archive"> is_post_type_archive()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/post_type_archive_title" title="Function Reference/post type archive title"> post_type_archive_title()</a>
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>


