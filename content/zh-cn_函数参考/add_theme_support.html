<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/add_theme_support">日本語</a> 
<strong class="selflink">中文(简体)</strong> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">本文已被<a href="https://codex.wordpress.org/Category:zh-cn:Stubs" title="Category:zh-cn:Stubs">标记</a>为未完成状态。您可以将其<b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit">补充或翻译完整</a></b>，以此<a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">帮助</a>完善 Codex。</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E6.8F.8F.E8.BF.B0"><span class="tocnumber">1</span> <span class="toctext">描述</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E7.94.A8.E6.B3.95"><span class="tocnumber">2</span> <span class="toctext">用法</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.E5.8F.82.E6.95.B0"><span class="tocnumber">3</span> <span class="toctext">参数</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Addable_Features"><span class="tocnumber">4</span> <span class="toctext">Addable Features</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Post_Formats"><span class="tocnumber">4.1</span> <span class="toctext">Post Formats</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Post_Thumbnails"><span class="tocnumber">4.2</span> <span class="toctext">Post Thumbnails</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.E8.87.AA.E5.AE.9A.E4.B9.89.E8.83.8C.E6.99.AF"><span class="tocnumber">4.3</span> <span class="toctext">自定义背景</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.E8.87.AA.E5.AE.9A.E4.B9.89.E9.A1.B6.E9.83.A8"><span class="tocnumber">4.4</span> <span class="toctext">自定义顶部</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Feed_Links"><span class="tocnumber">4.5</span> <span class="toctext">Feed Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Multisite"><span class="tocnumber">5</span> <span class="toctext">Multisite</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#.E6.9B.B4.E6.96.B0.E6.97.A5.E5.BF.97"><span class="tocnumber">7</span> <span class="toctext">更新日志</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#.E6.BA.90.E6.96.87.E4.BB.B6"><span class="tocnumber">8</span> <span class="toctext">源文件</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#.E7.9B.B8.E5.85.B3"><span class="tocnumber">9</span> <span class="toctext">相关</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E6.8F.8F.E8.BF.B0">描述</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=1" title="Edit section: 描述">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Allows a theme or plugin to register support of a certain <a href="https://codex.wordpress.org/zh-cn:%E4%B8%BB%E9%A2%98%E7%89%B9%E6%80%A7" title="zh-cn:主题特性">主题特性</a>.  If called from a theme, it should be done in the theme's <a href="https://codex.wordpress.org/zh-cn:%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91#.E5.87.BD.E6.95.B0.E6.96.87.E4.BB.B6" title="zh-cn:主题开发"><tt>functions.php</tt></a> file to work. It can also be <a rel="nofollow" class="external text" href="http://wordpress.stackexchange.com/questions/23839/using-add-theme-support-inside-a-plugin">called from a plugin</a> if attached to a hook.
</p><p>If attached to a hook, it must be <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/after_setup_theme" title="Plugin API/Action Reference/after setup theme"><tt>after_setup_theme</tt></a>. The <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/init" title="Plugin API/Action Reference/init"><tt>init</tt></a> hook may be too late for some features.
</p>
<h2><span class="mw-headline" id=".E7.94.A8.E6.B3.95">用法</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=2" title="Edit section: 用法">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;add_theme_support</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$feature&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id=".E5.8F.82.E6.95.B0">参数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=3" title="Edit section: 参数">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$feature</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Name for the feature being added.
<dl><dd>Features list:
<ul><li> <a href="#Post_Formats"><tt>'post-formats'</tt></a></li>
<li> <a href="#Post_Thumbnails"><tt>'post-thumbnails'</tt></a></li>
<li> <a href="#Custom_Background"><tt>'custom-background'</tt></a></li>
<li> <a href="#Custom_Header"><tt>'custom-header'</tt></a></li>
<li> <a href="#Feed_Links"><tt>'automatic-feed-links'</tt></a></li>
<li> <tt>'menus'</tt></li></ul></dd></dl></dd></dl>
<dl><dd><dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id="Addable_Features">Addable Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=4" title="Edit section: Addable Features">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Post_Formats">Post Formats</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=5" title="Edit section: Post Formats">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This feature enables <a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">Post Formats</a> support for a Theme.  This feature became available with <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">Version 3.1</a>.  When using <a href="https://codex.wordpress.org/Child_Themes" title="Child Themes">Child Themes</a>, be aware that <i>add_theme_support( 'post-formats' )</i> will <b>override</b> the formats as defined by the parent theme, not add to it.
</p><p>To enable the specific formats (see supported formats at <a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">Post Formats</a>), use:
</p>
<pre>add_theme_support( 'post-formats', array( 'aside', 'gallery' ) );</pre>
<p>To check if there is a 'quote' post format assigned to the post, use
</p>
<pre>
// in your theme single.php, page.php or custom post type
if ( has_post_format( 'quote' ) ) {
	echo 'This is a quote.';
}
</pre>
<h3><span class="mw-headline" id="Post_Thumbnails">Post Thumbnails</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=6" title="Edit section: Post Thumbnails">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This feature enables <a href="https://codex.wordpress.org/Post_Thumbnails" title="Post Thumbnails">Post Thumbnails</a> support for a Theme.  The feature became available with <a href="https://codex.wordpress.org/Version_2.9" title="Version 2.9">Version 2.9</a>.  Note that you can optionally pass a second argument with an array of the <a href="https://codex.wordpress.org/Post_Types" title="Post Types">Post Types</a> for which you want to enable this feature.  
</p>
<pre>
add_theme_support( 'post-thumbnails' );
add_theme_support( 'post-thumbnails', array( 'post' ) );          // Posts only
add_theme_support( 'post-thumbnails', array( 'page' ) );          // Pages only
add_theme_support( 'post-thumbnails', array( 'post', 'movie' ) ); // Posts and Movies
</pre>
<p>This feature must be called before the init hook is fired. That means it needs to be placed directly into functions.php or within a function attached to the 'after_setup_theme' hook. For custom post types, you can also add post thumbnails using the register_post_type function as well.
</p><p>To display thumbnails in themes index.php or single.php or custom templates, use:
</p>
<pre>the_post_thumbnail();</pre>
<p>To check if there is a post thumbnail assigned to the post before displaying it, use:
</p>
<pre>
if ( has_post_thumbnail() ) {
	the_post_thumbnail();
}
</pre>
<h3><span class="mw-headline" id=".E8.87.AA.E5.AE.9A.E4.B9.89.E8.83.8C.E6.99.AF">自定义背景</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=7" title="Edit section: 自定义背景">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This feature enables <a href="https://codex.wordpress.org/Custom_Backgrounds" title="Custom Backgrounds">Custom_Backgrounds</a> support for a theme as of <a href="https://codex.wordpress.org/Version_3.4" title="Version 3.4">Version 3.4</a>. 
</p>
<pre>add_theme_support( 'custom-background' );</pre>
<p>Note that you can add default arguments using:
</p>
<pre>
$defaults = array(
	'default-color'          =&gt; '',
	'default-image'          =&gt; '',
	'wp-head-callback'       =&gt; '_custom_background_cb',
	'admin-head-callback'    =&gt; '',
	'admin-preview-callback' =&gt; ''
);
add_theme_support( 'custom-background', $defaults );
</pre>
<ul><li>To make this backwards compatible you can use this check to determine if WordPress is at least version 3.4 or not. So during the transition to 3.4, you can support both functions by using them in the alternative:</li></ul>
<pre>global $wp_version;
if ( version_compare( $wp_version, '3.4', '&gt;=' ) ) 
	add_theme_support( 'custom-background' ); 
else
	add_custom_background( $args );
</pre>
<h3><span class="mw-headline" id=".E8.87.AA.E5.AE.9A.E4.B9.89.E9.A1.B6.E9.83.A8">自定义顶部</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=8" title="Edit section: 自定义顶部">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This feature enables <a href="https://codex.wordpress.org/zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8" title="zh-cn:自定义顶部">自定义顶部</a> support for a theme as of <a href="https://codex.wordpress.org/zh-cn:3.4_%E7%89%88%E6%9C%AC" title="zh-cn:3.4 版本">3.4 版本</a>.
</p>
<pre>add_theme_support( 'custom-header' );</pre>
<p>请注意您可以添加的默认参数列表:
</p>
<pre>
$defaults = array(
	'default-image'          =&gt; '',     //默认图像
	'random-default'         =&gt; false,  //是否默认随机
	'width'                  =&gt; 0,      //宽度
	'height'                 =&gt; 0,      //高度
	'flex-height'            =&gt; false,
	'flex-width'             =&gt; false,
	'default-text-color'     =&gt; '',     //默认文本颜色
	'header-text'            =&gt; true,   //顶部文本开关
	'uploads'                =&gt; true,   //是否允许上传
	'wp-head-callback'       =&gt; '',
	'admin-head-callback'    =&gt; '',
	'admin-preview-callback' =&gt; '',
);
add_theme_support( 'custom-header', $defaults );
</pre>
<ul><li>To make this backwards compatible you can use this check to determine if WordPress is at least version 3.4 or not. So during the transition to 3.4, you can support both functions by using them in the alternative:</li></ul>
<pre>
global $wp_version;
if ( version_compare( $wp_version, '3.4', '&gt;=' ) )
	add_theme_support( 'custom-header' );
else
	add_custom_image_header( $args );
</pre>
<h3><span class="mw-headline" id="Feed_Links">Feed Links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=9" title="Edit section: Feed Links">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This feature enables post and comment RSS feed links to head.  This should be used in place of the deprecated <i>automatic_feed_links()</i> function.  This feature became available with <a href="https://codex.wordpress.org/Version_3.0" title="Version 3.0">Version 3.0</a>.
</p>
<pre>add_theme_support( 'automatic-feed-links' );</pre>
<h2><span class="mw-headline" id="Multisite">Multisite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=10" title="Edit section: Multisite">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To show the "Featured Image" meta box in multisite installation, make sure you update the allowed upload file types, in Network Admin, <a href="https://codex.wordpress.org/Network_Admin_Settings_SubPanel#Upload_Settings" title="Network Admin Settings SubPanel" class="mw-redirect">Network Admin Settings SubPanel#Upload_Settings</a>, Media upload buttons options. Default is off.
</p>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=11" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following parameters are read only, and should only be used in the context of <a href="https://codex.wordpress.org/Function_Reference/current_theme_supports" title="Function Reference/current theme supports">current_theme_supports()</a>:
</p>
<ul><li> <tt>widgets</tt>: Use <a href="https://codex.wordpress.org/Function_Reference/register_sidebar" title="Function Reference/register sidebar">register_sidebar()</a> or <a href="https://codex.wordpress.org/Function_Reference/register_sidebars" title="Function Reference/register sidebars">register_sidebars()</a> instead.</li>
<li> <tt>menus</tt>: Use <a href="https://codex.wordpress.org/Function_Reference/register_nav_menu" title="Function Reference/register nav menu">register_nav_menu()</a> or <a href="https://codex.wordpress.org/Function_Reference/register_nav_menus" title="Function Reference/register nav menus">register_nav_menus()</a> instead.</li>
<li> <tt>editor-style</tt>: Use <a href="https://codex.wordpress.org/Function_Reference/add_editor_style" title="Function Reference/add editor style">add_editor_style()</a> instead.</li></ul>
<h2><span class="mw-headline" id=".E6.9B.B4.E6.96.B0.E6.97.A5.E5.BF.97">更新日志</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=12" title="Edit section: 更新日志">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Version_3.4" title="Version 3.4">3.4</a>: Added <tt>'custom-background'</tt> instead of <a href="https://codex.wordpress.org/Function_Reference/add_custom_background" title="Function Reference/add custom background">add_custom_background()</a>.</li>
<li> <a href="https://codex.wordpress.org/Version_3.4" title="Version 3.4">3.4</a>: Added <tt>'custom-header'</tt> instead of <a href="https://codex.wordpress.org/Function_Reference/add_custom_image_header" title="Function Reference/add custom image header">add_custom_image_header()</a>.</li>
<li> <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">3.1</a>: Added <tt>'post-formats'</tt>.(<a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/14746">Ticket #14746</a>)</li>
<li> <a href="https://codex.wordpress.org/Version_3.0" title="Version 3.0">3.0</a>: Added <tt>'automatic-feed-links'</tt> instead of <a href="/index.php?title=Function_Reference/automatic_feed_links&amp;action=edit&amp;redlink=1" class="new" title="Function Reference/automatic feed links (page does not exist)">automatic_feed_links()</a>.</li>
<li> <a href="https://codex.wordpress.org/Version_2.9" title="Version 2.9">2.9</a>: Introduced with <tt>'post-thumbnails'</tt> feature.</li></ul>
<h2><span class="mw-headline" id=".E6.BA.90.E6.96.87.E4.BB.B6">源文件</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=13" title="Edit section: 源文件">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>add_theme_support()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/theme.php#L0">wp-includes/theme.php</a></code>.
</p>
<h2><span class="mw-headline" id=".E7.9B.B8.E5.85.B3">相关</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support&amp;action=edit&amp;section=14" title="Edit section: 相关">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Theme_Features" title="Theme Features"><b>Theme Support</b></a>: 
<a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support"> add_theme_support()</a>,
<a href="https://codex.wordpress.org/Function_Reference/remove_theme_support" title="Function Reference/remove theme support"> remove_theme_support()</a>,
<a href="https://codex.wordpress.org/Function_Reference/current_theme_supports" title="Function Reference/current theme supports"> current_theme_supports()</a>
<br />
<a href="https://codex.wordpress.org/Theme_Features" title="Theme Features"><b>Theme Features</b></a>: 
<a href="https://codex.wordpress.org/Sidebars" title="Sidebars">sidebar</a>, 
<a href="https://codex.wordpress.org/Navigation_Menus" title="Navigation Menus">menus</a>, 
<a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">post-formats</a>, 
<a href="https://codex.wordpress.org/Title_Tag" title="Title Tag">title-tag</a>, 
<a href="https://codex.wordpress.org/Custom_Backgrounds" title="Custom Backgrounds">custom-background</a>, 
<a href="https://codex.wordpress.org/Custom_Headers" title="Custom Headers">custom-header</a>, 
<a href="https://codex.wordpress.org/Theme_Logo" title="Theme Logo">custom-logo</a>, 
<a href="https://codex.wordpress.org/Post_Thumbnails" title="Post Thumbnails">post-thumbnails</a>, 
<a href="https://codex.wordpress.org/Automatic_Feed_Links" title="Automatic Feed Links">automatic-feed-links</a>, 
<a href="https://codex.wordpress.org/Theme_Markup" title="Theme Markup">html5</a>, 
<a href="https://codex.wordpress.org/Editor_Style" title="Editor Style">editor-style</a>, 
<a href="https://codex.wordpress.org/Content_Width" title="Content Width">content_width</a>
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>


