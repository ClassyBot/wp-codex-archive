<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/add_action" title="Function Reference/add action">English</a> • 
<strong class="selflink">中文(简体)</strong> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">本文已被<a href="https://codex.wordpress.org/Category:zh-cn:Stubs" title="Category:zh-cn:Stubs">标记</a>为未完成状态。您可以将其<b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit">补充或翻译完整</a></b>，以此<a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">帮助</a>完善 Codex。</div> 
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E8.AF.B4.E6.98.8E"><span class="tocnumber">1</span> <span class="toctext">说明</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E7.94.A8.E6.B3.95"><span class="tocnumber">2</span> <span class="toctext">用法</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.E5.8F.82.E6.95.B0"><span class="tocnumber">3</span> <span class="toctext">参数</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.E7.A4.BA.E4.BE.8B"><span class="tocnumber">4</span> <span class="toctext">示例</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Simple_Hook"><span class="tocnumber">4.1</span> <span class="toctext">Simple Hook</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.E8.8E.B7.E5.8F.96_.E5.8F.82.E6.95.B0"><span class="tocnumber">4.2</span> <span class="toctext">获取 参数</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Notes"><span class="tocnumber">5</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Change_Log"><span class="tocnumber">6</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Source_File"><span class="tocnumber">7</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#.E7.9B.B8.E5.85.B3"><span class="tocnumber">8</span> <span class="toctext">相关</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E8.AF.B4.E6.98.8E">说明</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=1" title="Edit section: 说明">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>在指定的<a href="https://codex.wordpress.org/Plugin_API#Actions" title="Plugin API">action</a>上挂载（挂钩机制）一个函数。
</p><p>对于这些动作，您可以在<a href="https://codex.wordpress.org/Plugin_API/Action_Reference" title="Plugin API/Action Reference">Plugin API/Action Reference</a>上查看。当在Wordpress内部调用<a href="https://codex.wordpress.org/Function_Reference/do_action" title="Function Reference/do action">do_action()</a>时，这些动作将被触发。
</p>
<h2><span class="mw-headline" id=".E7.94.A8.E6.B3.95">用法</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=2" title="Edit section: 用法">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;add_action</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$tag</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$function_to_add</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$priority</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$accepted_args&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p>
<h2><span class="mw-headline" id=".E5.8F.82.E6.95.B0">参数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=3" title="Edit section: 参数">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$tag</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>参数必需</i>) 动作的名字。 (对于这些动作，您可以在<a href="https://codex.wordpress.org/Plugin_API/Action_Reference" title="Plugin API/Action Reference">Plugin API/Action Reference</a>上查看。)
<dl><dd> Default: 没有默认值</dd></dl></dd></dl>
<dl><dt> <tt>$function_to_add</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Callback" title="How to Pass Tag Parameters"><i>callback</i></a>) (<i>参数必需</i>) 动作触发时，被调用函数的名字。 注释：<a rel="nofollow" class="external text" href="http://us2.php.net/manual/en/language.pseudo-types.php#language.types.callback">在PHP文档中 'callback' 类型</a>的语法解释是有效的。
<dl><dd> Default: 没有默认值</dd></dl></dd></dl>
<dl><dt> <tt>$priority</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Int" title="How to Pass Tag Parameters"><i>int</i></a>) (<i>参数可选</i>) 函数的优先级。改变这个值可以让您的函数在其他函数之前执行，或者是之后执行。默认值为10，例如把这个值设置为5将更早的被执行，设置为12将会晚一些执行。也就是小的值被优先执行。
<dl><dd> Default: 10</dd></dl></dd></dl>
<dl><dt> <tt>$accepted_args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Int" title="How to Pass Tag Parameters"><i>int</i></a>) (<i>参数可选</i>) 函数参数的个数。在 WordPress 1.5.1+, 当匹配的 <a href="https://codex.wordpress.org/Function_Reference/do_action" title="Function Reference/do action">do_action()</a> 或<a href="https://codex.wordpress.org/Function_Reference/apply_filters" title="Function Reference/apply filters">apply_filters()</a>运行，钩子函数可以传入格外的参数。例如动作<tt>comment_id_not_found</tt>可以传入评论的ID。
<dl><dd> Default: 1</dd></dl></dd></dl>
<h2><span class="mw-headline" id=".E7.A4.BA.E4.BE.8B">示例</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=4" title="Edit section: 示例">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Simple_Hook">Simple Hook</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=5" title="Edit section: Simple Hook">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>新文章发布时，通过邮件通知好友。
</p>
<pre>
function email_friends($post_ID)  {
   $friends = 'bob@example.org, susie@example.org';
   mail($friends, "sally's blog updated" , 'I just put something on my blog: http://blog.example.com');
   return $post_ID;
}

add_action('publish_post', 'email_friends');
</pre>
<h3><span class="mw-headline" id=".E8.8E.B7.E5.8F.96_.E5.8F.82.E6.95.B0">获取 参数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=6" title="Edit section: 获取 参数">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The hooked function takes one argument from the action. Specifically, the 'echo_comment_id' function, takes the argument $comment_ID. It then echos the value of the received argument.
</p>
<pre>
function echo_comment_id($comment_ID) {
   echo "I just received $comment_ID";
}
add_action('comment_id_not_found','echo_comment_id', 10, 1);
</pre>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=7" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To find out the number and name of arguments for an action, simply search the code base for the matching do_action() call.  For example, if you are hooking into 'save_post', you would find it in post.php:
</p>
<pre>do_action('save_post', $post_ID, $post);
</pre>
<p>Your add_action call would look like:
</p>
<pre>add_action('save_post', 'my_save_post', 10, 2);
</pre>
<p>And your function would be:
</p>
<pre>function my_save_post($post_ID, $post){
  //code here
}
</pre>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=8" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since: 1.2.0
</p>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=9" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>add_action()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/plugin.php#L0">wp-includes/plugin.php</a></code>.
</p>
<h2><span class="mw-headline" id=".E7.9B.B8.E5.85.B3">相关</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit&amp;section=10" title="Edit section: 相关">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Plugin_API" title="Plugin API"><b>Action Functions</b></a>
</p>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/has_action" title="Function Reference/has action"> has_action()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/add_action" title="Function Reference/add action"> add_action()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/do_action" title="Function Reference/do action"> do_action()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/do_action_ref_array" title="Function Reference/do action ref array"> do_action_ref_array()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/did_action" title="Function Reference/did action"> did_action()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/remove_action" title="Function Reference/remove action"> remove_action()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/remove_all_actions" title="Function Reference/remove all actions"> remove_all_actions()</a></li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>
<div style="background-color:#EEEEFF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This article is <a href="https://codex.wordpress.org/Category:Copyedits" title="Category:Copyedits" class="mw-redirect">marked</a> as in need of editing. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_action&amp;action=edit">editing it</a></b>.</div>


