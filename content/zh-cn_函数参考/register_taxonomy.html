<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/register_taxonomy" title="Function Reference/register taxonomy">English</a> • 
<strong class="selflink">中文(简体)</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/register_taxonomy">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E8.AF.B4.E6.98.8E"><span class="tocnumber">1</span> <span class="toctext">说明</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E7.94.A8.E6.B3.95"><span class="tocnumber">2</span> <span class="toctext">用法</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.E5.8F.82.E6.95.B0"><span class="tocnumber">3</span> <span class="toctext">参数</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Arguments"><span class="tocnumber">3.1</span> <span class="toctext">Arguments</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#.E8.8C.83.E4.BE.8B"><span class="tocnumber">4</span> <span class="toctext">范例</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Reserved_Terms"><span class="tocnumber">5</span> <span class="toctext">Reserved Terms</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#.E6.9B.B4.E6.94.B9.E6.97.A5.E5.BF.97"><span class="tocnumber">6</span> <span class="toctext">更改日志</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#.E6.BA.90.E6.96.87.E4.BB.B6"><span class="tocnumber">7</span> <span class="toctext">源文件</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#.E7.9B.B8.E5.85.B3"><span class="tocnumber">8</span> <span class="toctext">相关</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E8.AF.B4.E6.98.8E">说明</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=1" title="Edit section: 说明">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This function adds or overwrites a <a href="https://codex.wordpress.org/Taxonomies" title="Taxonomies">taxonomy</a>.  It takes in a name, an object name that it affects, and an array of parameters. It does not return anything.
</p><p>Care should be used in selecting a taxonomy name so that it does not conflict with other taxonomies, post types, and <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/browser/trunk/wp-includes/classes.php">reserved WordPress public and private query variables</a>.  A complete list of those is described in the <a href="#Reserved_Terms">Reserved Terms section</a>.
</p>
<h2><span class="mw-headline" id=".E7.94.A8.E6.B3.95">用法</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=2" title="Edit section: 用法">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;register_taxonomy</span><span style="color: #007700">(</span><span style="color: #0000BB">$taxonomy</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$object_type</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$args</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p><p><b>Use the <tt>init</tt> action to call this function.</b> Calling it outside of an action can lead to troubles. See <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/15568">#15568</a> for details.
</p>
<h2><span class="mw-headline" id=".E5.8F.82.E6.95.B0">参数</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=3" title="Edit section: 参数">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$taxonomy</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The name of the taxonomy.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$object_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array.2Fstring" title="How to Pass Tag Parameters"><i>array/string</i></a>) (<i>required</i>) Name of the object type for the taxonomy object.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array.2Fstring" title="How to Pass Tag Parameters"><i>array/string</i></a>) (<i>optional</i>) An array of <a href="#Arguments">Arguments</a>.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h3><span class="mw-headline" id="Arguments">Arguments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=4" title="Edit section: Arguments">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt> <tt>label</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) A <b>plural</b> descriptive name for the taxonomy marked for translation.
<dl><dd> Default: overridden by $labels-&gt;name</dd></dl></dd></dl>
<dl><dt> <tt>labels</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) labels - An array of labels for this taxonomy. By default tag labels are used for non-hierarchical types and category labels for hierarchical ones.
<dl><dd> Default: if empty, name is set to label value, and singular_name is set to name value</dd></dl>
<ul><li> 'name' - general name for the taxonomy, usually plural. The same as and overridden by $tax-&gt;label. Default is _x( 'Post Tags', 'taxonomy general name' ) or _x( 'Categories', 'taxonomy general name' ).  When internationalizing this string, please use a <a href="https://codex.wordpress.org/I18n_for_WordPress_Developers#Disambiguation_by_context" title="I18n for WordPress Developers">gettext context</a> matching your post type. Example: <code>_x('Writers', 'taxonomy general name');</code></li>
<li> 'singular_name' - name for one object of this taxonomy. Default is _x( 'Post Tag', 'taxonomy singular name' ) or _x( 'Category', 'taxonomy singular name' ).  When internationalizing this string, please use a <a href="https://codex.wordpress.org/I18n_for_WordPress_Developers#Disambiguation_by_context" title="I18n for WordPress Developers">gettext context</a> matching your post type. Example: <code>_x('Writer', 'taxonomy singular name');</code></li>
<li> 'search_items' - the search items text.  Default is __( 'Search Tags' ) or __( 'Search Categories' ) </li>
<li> 'popular_items' - the popular items text.  Default is __( 'Popular Tags' ) or null</li>
<li> 'all_items' - the all items text.  Default is __( 'All Tags' ) or __( 'All Categories' )</li>
<li> 'parent_item' - the parent item text.  This string is not used on non-hierarchical taxonomies such as post tags. Default is null  or __( 'Parent Category' )</li>
<li> 'parent_item_colon' - The same as <code>parent_item</code>, but with colon <code>:</code> in the end null, __( 'Parent Category:' )</li>
<li> 'edit_item' - the edit item text. Default is __( 'Edit Tag' ) or __( 'Edit Category' )</li>
<li> 'update_item' - the update item text.  Default is __( 'Update Tag' ) or __( 'Update Category' )</li>
<li> 'add_new_item' - the add new item text.  Default is __( 'Add New Tag' ) or __( 'Add New Category' )</li>
<li> 'new_item_name' - the new item name text.  Default is __( 'New Tag Name' ) or __( 'New Category Name' )</li>
<li> 'separate_items_with_commas' - the separate item with commas text used in the taxonomy meta box.  This string isn't used on hierarchical taxonomies. Default is __( 'Separate tags with commas' ), or null</li>
<li> 'add_or_remove_items' - the add or remove items text and used in the meta box when JavaScript is disabled.  This string isn't used on hierarchical taxonomies.  Default is __( 'Add or remove tags' ) or null</li>
<li> 'choose_from_most_used' - the choose from most used text used in the taxonomy meta box. This string isn't used on hierarchical taxonomies. Default is __( 'Choose from the most used tags' ) or null</li>
<li> 'menu_name' - the menu name text. This string is the name to give menu items. Defaults to value of name </li></ul></dd></dl>
<dl><dt> <tt>public</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Should this taxonomy be exposed in the admin UI.
<dl><dd> Default: true</dd></dl></dd></dl>
<dl><dt> <tt>show_in_nav_menus</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) true makes this taxonomy available for selection in navigation menus.
<dl><dd> Default: if not set, defaults to value of public argument</dd></dl></dd></dl>
<dl><dt> <tt>show_ui</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Whether to generate a default UI for managing this taxonomy.
<dl><dd> Default: if not set, defaults to value of public argument</dd></dl></dd></dl>
<dl><dt> <tt>show_tagcloud</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Wether to allow the Tag Cloud widget to use this taxonomy.
<dl><dd> Default: if not set, defaults to value of show_ui argument</dd></dl></dd></dl>
<dl><dt> <tt>hierarchical</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) Is this taxonomy hierarchical (have descendants) like categories or not hierarchical like tags.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>update_count_callback</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) A function name that will be called to update the count of an associated <i>$object_type</i>, such as post, is updated.
<dl><dd> Default: None</dd></dl></dd></dl>
<dl><dt> <tt>rewrite</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_array" title="How to Pass Tag Parameters"><i>boolean or array</i></a>) (<i>optional</i>) Set to false to prevent rewrite, or array to customize customize query var. Default will use $taxonomy as query var
<dl><dd> Default: true</dd></dl></dd>
<dd>$args array
<ul><li> 'slug' - prepend posts with this slug - defaults to taxonomy's name</li>
<li> 'with_front' - allowing permalinks to be prepended with front base - defaults to true</li>
<li> 'hierarchical' - true or false allow hierarchical urls (implemented in <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">Version 3.1</a>)</li></ul></dd></dl>
<dl><dt> <tt>query_var</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean_or_string" title="How to Pass Tag Parameters"><i>boolean or string</i></a>) (<i>optional</i>) False to prevent queries, or string to customize query var. Default will use $taxonomy as query var
<dl><dd> Default: $taxonomy</dd></dl></dd></dl>
<dl><dt> <tt>capabilities</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of the capabilities for this taxonomy.
<dl><dd> Default: <i>None</i></dd></dl>
<ul><li> 'manage_terms' - 'manage_categories'</li>
<li> 'edit_terms' - 'manage_categories'</li>
<li> 'delete_terms' - 'manage_categories'</li>
<li> 'assign_terms' - 'edit_posts'</li></ul></dd></dl>
<dl><dt> <tt>_builtin</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>not for general use</i>) Whether this taxonomy is a native or "built-in" taxonomy. <b>Note: this Codex entry is for documentation - core developers recommend you don't use this when registering your own taxonomy</b>
<dl><dd> Default: false</dd></dl></dd></dl>
<h2><span class="mw-headline" id=".E8.8C.83.E4.BE.8B">范例</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=5" title="Edit section: 范例">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>An an example of registering a two taxonomies, genres and writers, for the post type called "book" (uses <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">Version 3.1</a> arguments): 
</p><p>Note: You can define custom taxonomies in a themes's <code>functions.php</code> template file:
</p>
<pre>
&lt;?php
//hook into the init action and call create_book_taxonomies when it fires
add_action( 'init', 'create_book_taxonomies', 0 );

//create two taxonomies, genres and writers for the post type "book"
function create_book_taxonomies() 
{
  // Add new taxonomy, make it hierarchical (like categories)
  $labels = array(
    'name' =&gt; _x( 'Genres', 'taxonomy general name' ),
    'singular_name' =&gt; _x( 'Genre', 'taxonomy singular name' ),
    'search_items' =&gt;  __( 'Search Genres' ),
    'all_items' =&gt; __( 'All Genres' ),
    'parent_item' =&gt; __( 'Parent Genre' ),
    'parent_item_colon' =&gt; __( 'Parent Genre:' ),
    'edit_item' =&gt; __( 'Edit Genre' ), 
    'update_item' =&gt; __( 'Update Genre' ),
    'add_new_item' =&gt; __( 'Add New Genre' ),
    'new_item_name' =&gt; __( 'New Genre Name' ),
    'menu_name' =&gt; __( 'Genre' ),
  ); 	

  register_taxonomy('genre',array('book'), array(
    'hierarchical' =&gt; true,
    'labels' =&gt; $labels,
    'show_ui' =&gt; true,
    'query_var' =&gt; true,
    'rewrite' =&gt; array( 'slug' =&gt; 'genre' ),
  ));

  // Add new taxonomy, NOT hierarchical (like tags)
  $labels = array(
    'name' =&gt; _x( 'Writers', 'taxonomy general name' ),
    'singular_name' =&gt; _x( 'Writer', 'taxonomy singular name' ),
    'search_items' =&gt;  __( 'Search Writers' ),
    'popular_items' =&gt; __( 'Popular Writers' ),
    'all_items' =&gt; __( 'All Writers' ),
    'parent_item' =&gt; null,
    'parent_item_colon' =&gt; null,
    'edit_item' =&gt; __( 'Edit Writer' ), 
    'update_item' =&gt; __( 'Update Writer' ),
    'add_new_item' =&gt; __( 'Add New Writer' ),
    'new_item_name' =&gt; __( 'New Writer Name' ),
    'separate_items_with_commas' =&gt; __( 'Separate writers with commas' ),
    'add_or_remove_items' =&gt; __( 'Add or remove writers' ),
    'choose_from_most_used' =&gt; __( 'Choose from the most used writers' ),
    'menu_name' =&gt; __( 'Writers' ),
  ); 

  register_taxonomy('writer','book',array(
    'hierarchical' =&gt; false,
    'labels' =&gt; $labels,
    'show_ui' =&gt; true,
    'query_var' =&gt; true,
    'rewrite' =&gt; array( 'slug' =&gt; 'writer' ),
  ));
}
?&gt;
</pre>
<h2><span class="mw-headline" id="Reserved_Terms">Reserved Terms</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=6" title="Edit section: Reserved Terms">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> attachment</li>
<li> attachment_id</li>
<li> author</li>
<li> author_name</li>
<li> calendar</li>
<li> cat</li>
<li> category__and</li>
<li> category__in</li>
<li> category__not_in</li>
<li> category_name</li>
<li> comments_per_page</li>
<li> comments_popup</li>
<li> cpage</li>
<li> day</li>
<li> debug</li>
<li> error</li>
<li> exact</li>
<li> feed</li>
<li> hour</li>
<li> link</li>
<li> minute</li>
<li> monthnum</li>
<li> more</li>
<li> name</li>
<li> nav_menu</li>
<li> nopaging</li>
<li> offset</li>
<li> order</li>
<li> orderby</li>
<li> p</li>
<li> page</li>
<li> page_id</li>
<li> paged</li>
<li> pagename</li>
<li> pb</li>
<li> perm</li>
<li> post</li>
<li> post_format</li>
<li> post_mime_type</li>
<li> post_status</li>
<li> post_type</li>
<li> post_type</li>
<li> posts</li>
<li> posts_per_archive_page</li>
<li> posts_per_page</li>
<li> preview</li>
<li> robots</li>
<li> s</li>
<li> search</li>
<li> second</li>
<li> sentence</li>
<li> showposts</li>
<li> static</li>
<li> subpost</li>
<li> subpost_id</li>
<li> tag</li>
<li> tag__and</li>
<li> tag__in</li>
<li> tag__not_in</li>
<li> tag_id</li>
<li> tag_slug__and</li>
<li> tag_slug__in</li>
<li> taxonomy</li>
<li> tb</li>
<li> term</li>
<li> type</li>
<li> w</li>
<li> withcomments</li>
<li> withoutcomments</li>
<li> year</li></ul>
<h2><span class="mw-headline" id=".E6.9B.B4.E6.94.B9.E6.97.A5.E5.BF.97">更改日志</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=7" title="Edit section: 更改日志">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since: <a href="https://codex.wordpress.org/Version_2.3" title="Version 2.3">2.3</a>
</p>
<h2><span class="mw-headline" id=".E6.BA.90.E6.96.87.E4.BB.B6">源文件</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=8" title="Edit section: 源文件">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>register_taxonomy()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/taxonomy.php#L0">wp-includes/taxonomy.php</a></code>.
</p>
<h2><span class="mw-headline" id=".E7.9B.B8.E5.85.B3">相关</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/register_taxonomy&amp;action=edit&amp;section=9" title="Edit section: 相关">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190211004548
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.028 seconds
Real time usage: 0.037 seconds
Preprocessor visited node count: 341/1000000
Preprocessor generated node count: 1267/1000000
Post‐expand include size: 4653/2097152 bytes
Template argument size: 2499/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   15.369      1 - -total
 30.58%    4.701     15 - Template:Parameter
 29.96%    4.604      1 - Template:Languages
 15.40%    2.367      1 - Template:Trac
 13.70%    2.106      1 - Template:Tag_Footer
  7.44%    1.143      1 - Template:Message
  7.20%    1.106      1 - Template:ja
  6.86%    1.054      1 - Template:zh-cn
  6.72%    1.033      1 - Template:en
  5.54%    0.851      1 - Template:CurrentVersion
-->
