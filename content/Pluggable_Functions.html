<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/プラガブル関数">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<p>Pluggable functions were introduced in <a href="https://codex.wordpress.org/Version_1.5.1" title="Version 1.5.1">WordPress 1.5.1</a> These functions let you override certain core functions via <a href="https://codex.wordpress.org/Plugin_API" title="Plugin API">plugins</a>. The most up-to-date list of core functions that WordPress allows plugins to override is available at <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/pluggable.php#L0">wp-includes/pluggable.php</a></code>. WordPress loads the built-in functions only if they are undefined after all plugins have been loaded.
</p><p>Pluggable functions are no longer being added to WordPress core. All new functions instead use filters on their output to allow for similar overriding of their functionality.
</p><p><b>Note:</b> A function can only be reassigned this way once, so you can’t install two plugins that plug the same function for different reasons. For safety, it is best to always wrap your functions with <code>if (&#160;!function_exists() )</code>, otherwise you <b>will</b> produce fatal errors on plugin activation.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Full_list_of_Pluggable_Functions:">Full list of Pluggable Functions:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Pluggable_Functions&amp;action=edit&amp;section=1" title="Edit section: Full list of Pluggable Functions:">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th width="100%"> <b>Version 3.5</b>
</th></tr>
<tr>
<td>
<ul><li>wp-includes/pluggable.php
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/auth_redirect" title="Function Reference/auth redirect">auth_redirect</a></li>
<li> <a href="/index.php?title=Function_Reference/cache_users&amp;action=edit&amp;redlink=1" class="new" title="Function Reference/cache users (page does not exist)">cache_users</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/check_admin_referer" title="Function Reference/check admin referer">check_admin_referer</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/check_ajax_referer" title="Function Reference/check ajax referer">check_ajax_referer</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_avatar" title="Function Reference/get avatar">get_avatar</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_currentuserinfo" title="Function Reference/get currentuserinfo">get_currentuserinfo</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_user_by_email" title="Function Reference/get user by email">get_user_by_email</a> (deprecated)</li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_user_by" title="Function Reference/get user by">get_user_by</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_userdatabylogin" title="Function Reference/get userdatabylogin">get_userdatabylogin</a> (deprecated)</li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_userdata" title="Function Reference/get userdata">get_userdata</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/is_user_logged_in" title="Function Reference/is user logged in">is_user_logged_in</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_authenticate" title="Function Reference/wp authenticate">wp_authenticate</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_check_password" title="Function Reference/wp check password">wp_check_password</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_clear_auth_cookie" title="Function Reference/wp clear auth cookie">wp_clear_auth_cookie</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_create_nonce" title="Function Reference/wp create nonce">wp_create_nonce</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_generate_auth_cookie" title="Function Reference/wp generate auth cookie">wp_generate_auth_cookie</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_generate_password" title="Function Reference/wp generate password">wp_generate_password</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_get_current_user" title="Function Reference/wp get current user">wp_get_current_user</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_hash_password" title="Function Reference/wp hash password">wp_hash_password</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_hash" title="Function Reference/wp hash">wp_hash</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_logout" title="Function Reference/wp logout">wp_logout</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_mail" title="Function Reference/wp mail">wp_mail</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_new_user_notification" title="Function Reference/wp new user notification">wp_new_user_notification</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_nonce_tick" title="Function Reference/wp nonce tick">wp_nonce_tick</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_notify_moderator" title="Function Reference/wp notify moderator">wp_notify_moderator</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_notify_postauthor" title="Function Reference/wp notify postauthor">wp_notify_postauthor</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_parse_auth_cookie" title="Function Reference/wp parse auth cookie">wp_parse_auth_cookie</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_password_change_notification" title="Function Reference/wp password change notification">wp_password_change_notification</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_rand" title="Function Reference/wp rand">wp_rand</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_redirect" title="Function Reference/wp redirect">wp_redirect</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_safe_redirect" title="Function Reference/wp safe redirect">wp_safe_redirect</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_salt" title="Function Reference/wp salt">wp_salt</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_sanitize_redirect" title="Function Reference/wp sanitize redirect">wp_sanitize_redirect</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_set_auth_cookie" title="Function Reference/wp set auth cookie">wp_set_auth_cookie</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_set_current_user" title="Function Reference/wp set current user">wp_set_current_user</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_set_password" title="Function Reference/wp set password">wp_set_password</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_text_diff" title="Function Reference/wp text diff">wp_text_diff</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_validate_auth_cookie" title="Function Reference/wp validate auth cookie">wp_validate_auth_cookie</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_validate_redirect" title="Function Reference/wp validate redirect">wp_validate_redirect</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_verify_nonce" title="Function Reference/wp verify nonce">wp_verify_nonce</a></li></ul></li></ul>
</td></tr></table>
<h2><span class="mw-headline" id="Reference">Reference</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Pluggable_Functions&amp;action=edit&amp;section=2" title="Edit section: Reference">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <a href="https://codex.wordpress.org/Function_Reference/get_currentuserinfo" title="Function Reference/get currentuserinfo"><tt>get_currentuserinfo()</tt></a>&#160;</dt>
<dd> Grabs the information of the current logged in user, if there is one.  Essentially a wrapper for get_userdata(), but it also stores information in global variables.</dd>
<dt> <a href="https://codex.wordpress.org/Function_Reference/get_userdata" title="Function Reference/get userdata"><tt>get_userdata($userid)</tt></a>&#160;</dt>
<dd> Pulls user information for the specified user from the database.</dd>
<dt> <a href="https://codex.wordpress.org/Function_Reference/wp_mail" title="Function Reference/wp mail"><tt>wp_mail($to, $subject, $message, $headers = '')</tt></a>&#160;</dt>
<dd> A convenient wrapper for PHP's mail function.</dd>
<dt> <tt>wp_login($username, $password, $already_md5 = false)</tt>&#160;</dt>
<dd> Returns <tt>true</tt> if the specified username and password correspond to a registered user.</dd>
<dt> <tt>auth_redirect()</tt>&#160;</dt>
<dd> If a user is not logged in, he or she will be redirected to WordPress' login page before being allowed to access content on the page from which this function was called.  Upon successfully logging in, the user is sent back to the page in question.</dd>
<dt> <a href="https://codex.wordpress.org/Function_Reference/wp_redirect" title="Function Reference/wp redirect"><tt>wp_redirect($location)</tt></a>&#160;</dt>
<dd> Redirects a browser to the <i>absolute URI</i> specified by the <tt>$location</tt> parameter.</dd>
<dt> <tt>wp_notify_postauthor($comment_id, $comment_type='')</tt></dt>
<dd> Emails the author of the comment's post the content of the comment specified.</dd>
<dt> <tt>wp_notify_moderator($comment_id)</tt>&#160;</dt>
<dd> Informs the administrative email account that the comment specified needs to be moderated.  See <a href="https://codex.wordpress.org/Administration_Panels" title="Administration Panels" class="mw-redirect">Administration</a> &gt; <a href="https://codex.wordpress.org/Administration_Panels#General" title="Administration Panels" class="mw-redirect">Settings</a> &gt; <a href="https://codex.wordpress.org/Settings_General_SubPanel" title="Settings General SubPanel" class="mw-redirect">General</a>.</dd></dl>
<h2><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Pluggable_Functions&amp;action=edit&amp;section=3" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>An example of what you can do with a pluggable function is replace the default email handler. To do this, you'd need to write a plugin that defines a <tt>wp_mail()</tt> function. The default <tt>wp_mail()</tt> function looks like this:
</p>
<pre>
function wp_mail( $to, $subject, $message, $headers = '' ) {
  if( $headers == '' ) {
    $headers = "MIME-Version: 1.0\n" .
      "From: " . get_settings('admin_email') . "\n" . 
      "Content-Type: text/plain; charset=\"" . get_settings('blog_charset') . "\"\n";
  }

  return @mail( $to, $subject, $message, $headers );
}
</pre>
<p>But, for example, if you wanted to CC all your mail to another address, you could use this code in a plugin:
</p>
<pre>
if(&#160;! function_exists('wp_mail') ) {
  function wp_mail( $to, $subject, $message, $headers = '' ) {
    if( $headers == '' ) {
      $headers = "MIME-Version: 1.0\n" .
        "From: " . get_settings('admin_email') . "\n" . 
        "Cc: dummy@example.com\n" .
        "Content-Type: text/plain; charset=\"" . get_settings('blog_charset') . "\"\n";
    }

    return @mail($to, $subject, $message, $headers);
  }
}
</pre>
<p>Notice that if you plug a core function like this the original is no longer available. I.e., the elegant solution here would have been to write a function that tacks our Cc header on the end of the exising <tt>$headers</tt> string then call the original <tt>wp_mail()</tt> with the extra header. However this would not work as the original <tt>wp_mail()</tt> does not exist if you plug it.
</p>

