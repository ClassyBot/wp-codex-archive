<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Create_A_Network" title="Create A Network">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Create">A Network 日本語</a> 
<strong class="selflink">Русский</strong> • 

 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<p>В <a href="https://codex.wordpress.org/Version_3.0" title="Version 3.0">WordPress 3.0</a> появилась возможность создать <a href="https://codex.wordpress.org/Glossary#Network" title="Glossary">сеть</a> сайтов (режим Multisite). Данная статья содержит инструкцию по созданию сети. Это похоже на создание вашего собственного сервиса по образу и подобию WordPress.com.
</p>
<div style="background-color:#ffffff; border:1px solid #c6d9e9; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;"><b>ЗАМЕЧАНИЕ:</b> Если вы используете <a href="https://codex.wordpress.org/WPMU" title="WPMU">WordPress MU</a>, эти шаги выполнять <strong>не нужно</strong>. Ваша сеть уже активирована. Когда вы обновите WordPress до версии 3.x, вам будет предложено обновить правила в файле <tt>.htaccess</tt> для режима Multisite.</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9F.D0.B5.D1.80.D0.B5.D0.B4_.D0.BD.D0.B0.D1.87.D0.B0.D0.BB.D0.BE.D0.BC"><span class="tocnumber">1</span> <span class="toctext">Перед началом</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.B0.D0.B4.D0.BC.D0.B8.D0.BD.D0.B8.D1.81.D1.82.D1.80.D0.B0.D1.82.D0.BE.D1.80.D1.83"><span class="tocnumber">1.1</span> <span class="toctext">Требования к администратору</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#.D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D1.83"><span class="tocnumber">1.2</span> <span class="toctext">Требования к серверу</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC_WordPress"><span class="tocnumber">1.3</span> <span class="toctext">Требования к параметрам WordPress</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.A8.D0.B0.D0.B3_1:_.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B9_.D0.BA.D0.BE.D0.BF.D0.B8.D0.B8_WordPress"><span class="tocnumber">2</span> <span class="toctext">Шаг 1: Создание резервной копии WordPress</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.A8.D0.B0.D0.B3_2:_.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BC.D0.B0.D1.81.D0.BA.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2"><span class="tocnumber">3</span> <span class="toctext">Шаг 2: Настройка маски для поддоменов</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#.D0.A8.D0.B0.D0.B3_3:_.D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B0_Multisite"><span class="tocnumber">4</span> <span class="toctext">Шаг 3: Включение режима Multisite</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#.D0.A8.D0.B0.D0.B3_4:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">5</span> <span class="toctext">Шаг 4: Установка сети</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#.D0.A8.D0.B0.D0.B3_5:_.D0.90.D0.BA.D1.82.D0.B8.D0.B2.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">6</span> <span class="toctext">Шаг 5: Активация сети</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#.D0.A8.D0.B0.D0.B3_6:_.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D1.8C.D1.8E"><span class="tocnumber">7</span> <span class="toctext">Шаг 6: Управление сетью</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#.D0.AD.D1.82.D0.BE_.D0.BD.D1.83.D0.B6.D0.BD.D0.BE_.D0.B7.D0.BD.D0.B0.D1.82.D1.8C"><span class="tocnumber">8</span> <span class="toctext">Это нужно знать</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#.D0.9F.D0.BE.D1.81.D1.82.D0.BE.D1.8F.D0.BD.D0.BD.D1.8B.D0.B5_.D1.81.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="tocnumber">8.1</span> <span class="toctext">Постоянные ссылки</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#.D0.9F.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD.D1.8B_WordPress"><span class="tocnumber">8.2</span> <span class="toctext">Плагины WordPress</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#.D0.A0.D1.83.D0.B1.D1.80.D0.B8.D0.BA.D0.B8_.D0.B8_.D0.BC.D0.B5.D1.82.D0.BA.D0.B8"><span class="tocnumber">8.3</span> <span class="toctext">Рубрики и метки</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#.D0.9F.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.B0.D0.BC.D0.B8_.D0.B8_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B0.D0.BC.D0.B8"><span class="tocnumber">8.4</span> <span class="toctext">Переключение между поддоменами и подкаталогами</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#.htaccess_.D0.B8_Mod_Rewrite"><span class="tocnumber">8.5</span> <span class="toctext">.htaccess и Mod Rewrite</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#.D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"><span class="tocnumber">9</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.9F.D0.B5.D1.80.D0.B5.D0.B4_.D0.BD.D0.B0.D1.87.D0.B0.D0.BB.D0.BE.D0.BC">Перед началом</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=1" title="Edit section: Перед началом">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.B0.D0.B4.D0.BC.D0.B8.D0.BD.D0.B8.D1.81.D1.82.D1.80.D0.B0.D1.82.D0.BE.D1.80.D1.83">Требования к администратору</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=2" title="Edit section: Требования к администратору">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Если вы хотите запустить сеть блогов, вам следует иметь представление об основах администрирования UNIX/Linux. Также рекомендуется знание основ WordPress, PHP, HTML и CSS.
</p><p>Создать и поддерживать сеть сложнее, чем обычный сайт. Эта страница поможет вам понять, действительно ли вам необходима сеть, и с чем вы можете столкнуться при её создании. Если инструкции на этой странице кажутся вам непонятными, сначала проведите тестирование на локальном сайте, не затрагивая основной.
</p>
<h3><span class="mw-headline" id=".D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D1.83">Требования к серверу</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=3" title="Edit section: Требования к серверу">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Поскольку данная функция требует настройки сервера и некоторых технических навыков, следует проконсультироваться с вашим хостинг-провайдером по поводу поддержки этой функции. Запускать её на виртуальном хостинге не рекомендуется.
</p><p>На <a href="#.D0.A8.D0.B0.D0.B3_4:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B8">шаге 4: Установка сети</a> можно выбрать режим поддоменов или подкаталогов. Это означает, что каждый новый сайт вашей сети будет создан как виртуальный поддомен или подкаталог.
</p>
<dl><dd><ul><li> <b>Поддомены</b> — пример: <code>site1.example.com</code> и <code>site2.example.com</code></li>
<li> <b>Подкаталоги</b> — пример: <code>example.com/site1</code> и <code>example.com/site2</code></li></ul></dd></dl>
<p>Помимо этого, на более позднем этапе можно воспользоваться плагином <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/wordpress-mu-domain-mapping/">WordPress MU Domain Mapping</a>, чтобы назначить отдельным сайтам собственные доменные имена.
</p>
<dl><dt> Сайты в подкаталогах</dt>
<dd> Используется <b>расширение <a href="https://codex.wordpress.org/Glossary#mod_rewrite" title="Glossary">mod_rewrite</a> на сервере</b> с возможностью обработки файла <code>.htaccess</code>, в котором будет создана структура ссылок.</dd>
<dd> Если вы уже используете на своём блоге «красивые» постоянные ссылки, то и сайты в подкаталогах будут работать.</dd>
<dt> Сайты на поддоменах</dt>
<dd> Используется <b>маска для поддоменов</b>. Необходимо разрешить её использование в Apache, а также добавить маску в записи DNS. (См. подробности на <a href="#.D0.A8.D0.B0.D0.B3_2:_.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BC.D0.B0.D1.81.D0.BA.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2">шаге 2</a>.)</dd>
<dd> У некоторых хостинг-провайдеров уже разрешено использование маски, и в этом случае остаётся только добавить запись DNS.</dd>
<dd> На тарифах виртуального хостинга этой возможности может не быть, поэтому перед включением этой функции проконсультируйтесь с вашим хостинг-провайдером.</dd></dl>
<h3><span class="mw-headline" id=".D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC_WordPress">Требования к параметрам WordPress</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=4" title="Edit section: Требования к параметрам WordPress">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> При включённом режиме Multisite в WordPress 3.0 недоступна возможность <a href="https://codex.wordpress.org/%D0%A0%D0%B0%D0%B7%D0%BC%D0%B5%D1%89%D0%B0%D0%B5%D0%BC_WordPress_%D0%B2_%D0%BE%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%BC_%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5" title="Размещаем WordPress в отдельном каталоге">размещения WordPress в отдельном каталоге</a>. Она конфликтует с поиском дочерних блогов.</li>
<li> <b>Создать сеть нельзя</b> в следующих случаях:
<ul><li> «Адрес WordPress (URL)» и «Адрес сайта (URL)» отличаются.</li>
<li> «Адрес WordPress (URL)» использует номер порта, отличный от ':80' и ':443'.</li></ul></li>
<li> <i>Выбрать режим <b>поддоменов</b> нельзя</i> в следующих случаях:
<ul><li> WordPress установлен в подкаталог (вместо корневого каталога).</li>
<li> «Адрес WordPress (URL)» совпадает с <code>localhost</code>.</li>
<li> «Адрес WordPress (URL)» совпадает с IP-адресом наподобие <var>127.0.0.1</var>.</li></ul></li>
<li> <i>Выбрать режим <b>подкаталогов</b> нельзя</i> в следующих случаях:
<ul><li> Если ваш сайт существует больше месяца, из-за проблем с существующими постоянными ссылками. (Этот недочёт будет исправлен в одной из следующих версий. См. также <a href="#.D0.9F.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.B0.D0.BC.D0.B8_.D0.B8_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B0.D0.BC.D0.B8">«Переключение между поддоменами и подкаталогами»</a>.)</li></ul></li></ul>
<p>(См. подробности в файле <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-admin/network.php#L0">wp-admin/network.php</a></code>.)
</p>
<h2><span class="mw-headline" id=".D0.A8.D0.B0.D0.B3_1:_.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B9_.D0.BA.D0.BE.D0.BF.D0.B8.D0.B8_WordPress">Шаг 1: Создание резервной копии WordPress</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=5" title="Edit section: Шаг 1: Создание резервной копии WordPress">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>При создании сети WordPress будет обновлён. Пожалуйста, <a href="https://codex.wordpress.org/WordPress_Backups" title="WordPress Backups">сделайте резервную копию базы данных и файлов</a>.
</p>
<h2><span class="mw-headline" id=".D0.A8.D0.B0.D0.B3_2:_.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BC.D0.B0.D1.81.D0.BA.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2">Шаг 2: Настройка маски для поддоменов</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=6" title="Edit section: Шаг 2: Настройка маски для поддоменов">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>(Если вы выбрали режим подкаталогов, <a href="#.D0.A8.D0.B0.D0.B3_3:_.D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B0_Multisite">пропустите этот шаг</a>.)
</p><p><b>Сайты на поддоменах</b> работают с использованием маски для поддоменов. Процесс состоит из двух шагов:
</p>
<ol><li> Необходимо настроить поддержку маски в Apache. 
<ol><li> Откройте файл <code>httpd.conf</code> или подключаемый файл, содержащий запись VHOST для вашего сайта.</li>
<li> Добавьте следующую строку: <pre>ServerAlias *.example.com</pre></li></ol></li>
<li> В записях DNS для вашего сервера добавьте поддомен с маской, указывающий на основной домен. Это выглядит примерно так:<pre>A *.example.com</pre></li></ol>
<p><b>Если на вашем сервере используется панель Plesk.</b>
По сравнению с сервером, использующим cPanel (или вообще без панели управления), настройка маски для поддоменов на сервере, использующем панель Plesk, содержит некоторые отличия. Все необходимые шаги описаны в статье <a href="https://codex.wordpress.org/Configuring_Wildcard_Subdomains_for_multi_site_under_Plesk_Control_Panel" title="Configuring Wildcard Subdomains for multi site under Plesk Control Panel">«Configuring Wildcard Subdomains for multi site under Plesk Control Panel‎»</a>. Несмотря на то, что указания довольно подробные, процесс занимает всего несколько минут.
</p><p>Внешние ссылки:
</p>
<ul><li> <a href="http://en.wikipedia.org/wiki/Wildcard_DNS_record" class="extiw" title="wikipedia:Wildcard DNS record">Wildcard DNS record</a> (Wikipedia)</li>
<li> <a rel="nofollow" class="external text" href="http://httpd.apache.org/docs/2.0/en/vhosts/">Apache Virtual Host</a> (Apache HTTP Server documentation)</li></ul>
<h2><span class="mw-headline" id=".D0.A8.D0.B0.D0.B3_3:_.D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B0_Multisite">Шаг 3: Включение режима Multisite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=7" title="Edit section: Шаг 3: Включение режима Multisite">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Чтобы появился пункт меню «Сеть», нужно определить константу режима Multisite в файле <a href="https://codex.wordpress.org/%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_wp-config.php" title="Редактирование wp-config.php"><code>wp-config.php</code></a>.
</p><p>Откройте <code>wp-config.php</code> и добавьте <b>перед</b> комментарием <code>/* Это всё, дальше не редактируем. Успехов! */</code> следующую строку:
</p>
<pre>define('WP_ALLOW_MULTISITE', true);
</pre>
<h2><span class="mw-headline" id=".D0.A8.D0.B0.D0.B3_4:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B8">Шаг 4: Установка сети</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=8" title="Edit section: Шаг 4: Установка сети">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>У вас должен появиться пункт «Сеть» в меню «Инструменты». Перейдите на страницу <a href="https://codex.wordpress.org/Super_Admin_Menu#Tools" title="Super Admin Menu" class="mw-redirect">«Инструменты»</a> &gt; <a href="https://codex.wordpress.org/Tools_Network_SubPanel" title="Tools Network SubPanel" class="mw-redirect">«Сеть»</a>, чтобы увидеть экран, на котором можно настроить параметры будущей сети.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="https://codex.wordpress.org/File:tools-network-ru.png" class="image"><img alt="" src="/images/thumb/d/d6/tools-network-ru.png/300px-tools-network-ru.png" width="300" height="189" class="thumbimage" srcset="/images/thumb/d/d6/tools-network-ru.png/450px-tools-network-ru.png 1.5x, /images/thumb/d/d6/tools-network-ru.png/600px-tools-network-ru.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://codex.wordpress.org/File:tools-network-ru.png" class="internal" title="Enlarge"></a></div>Создание сети</div></div></div>
<p><br />
</p>
<dl><dt> Адреса сайтов вашей сети</dt>
<dd> Можно выбрать между поддоменами и подкаталогами (если нет ограничений, <a href="#.D0.A2.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC_WordPress">описанных выше</a>). Это означает, что каждый новый сайт вашей сети будет создан как виртуальный поддомен или подкаталог. Вы должны выбрать один из вариантов, и <b>изменить свой выбор без переустановки системы будет нельзя</b>. См. также секцию <a href="#.D0.9F.D0.B5.D1.80.D0.B5.D0.B4_.D0.BD.D0.B0.D1.87.D0.B0.D0.BB.D0.BE.D0.BC">«Перед началом»</a>.
<ul><li> <b>Поддомены</b> — пример: <code>site1.example.com</code> и <code>site2.example.com</code></li>
<li> <b>Подкаталоги</b> — пример: <code>example.com/site1</code> и <code>example.com/site2</code></li></ul></dd></dl>
<dl><dt> Параметры сети</dt>
<dd> Эти значения заполняются автоматически.
<dl><dt> Адрес сервера</dt>
<dd> Интернет-адресом вашей сети будет <code>example.com</code>.</dd>
<dt> Название сети</dt>
<dd> Как вы хотите назвать свою сеть?</dd>
<dt> E-mail администратора</dt>
<dd> Ваш адрес e-mail.</dd></dl></dd></dl>
<p>Убедитесь, что все значения введены правильно, затем нажмите кнопку «Установить».
</p><p>Возможно, вы увидите предупреждение о маске для поддоменов. См. секцию <a href="#.D0.A8.D0.B0.D0.B3_2:_.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BC.D0.B0.D1.81.D0.BA.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2">«Настройка маски для поддоменов»</a>.
</p>
<div class="screen" style="padding: 10px; border:1px solid #dadada; background-color: #f0f0f0;">
<p><b>Внимание! Возможно, маска DNS настроена неправильно!</b>
</p><p>Скрипт установки попытался открыть случайный адрес (<code>13cc09.example.com</code>) на вашем домене.
</p><p>Чтобы использовать режим поддоменов, необходимо использовать маску в записях DNS. В общем случае достаточно добавить с помощью инструмента настройки DNS запись с адресом <code>*</code>, указывающую на ваш сервер.
</p><p>Можно использовать основной сайт, однако любой созданный поддомен будет недоступен. Если вы уверены, что ваши настройки DNS верны, проигнорируйте это сообщение.
</p>
</div>
<h2><span class="mw-headline" id=".D0.A8.D0.B0.D0.B3_5:_.D0.90.D0.BA.D1.82.D0.B8.D0.B2.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8">Шаг 5: Активация сети</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=9" title="Edit section: Шаг 5: Активация сети">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Следующие шаги необходимы для завершения процесса.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="https://codex.wordpress.org/File:tools-network-created-ru.png" class="image"><img alt="" src="/images/thumb/6/6b/tools-network-created-ru.png/300px-tools-network-created-ru.png" width="300" height="236" class="thumbimage" srcset="/images/thumb/6/6b/tools-network-created-ru.png/450px-tools-network-created-ru.png 1.5x, /images/thumb/6/6b/tools-network-created-ru.png/600px-tools-network-created-ru.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://codex.wordpress.org/File:tools-network-created-ru.png" class="internal" title="Enlarge"></a></div>Завершение создания</div></div></div>
<p><br />
</p>
<dl><dt>0. Прежде всего сделайте резервную копию текущих файлов <code>wp-config.php</code> и <code>.htaccess</code>.</dt></dl>
<dl><dt>1. Создайте директорию <code>blogs.dir</code> в каталоге <code>/wp-content/</code>.</dt>
<dd> Эта директория используется для хранения медиафайлов, загружаемых на сайты, и должна быть <a href="https://codex.wordpress.org/Changing_File_Permissions" title="Changing File Permissions">доступна для записи</a>. С помощью команд CHOWN и  CHMOD нужно установить такие же параметры, как и у каталога <code>wp-content</code>.</dd></dl>
<dl><dt>2. Добавьте строки, которые выдаст вам WordPress, в <a href="https://codex.wordpress.org/%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_wp-config.php" title="Редактирование wp-config.php">файл <code>wp-config.php</code></a>.</dt>
<dd> Эти строки создаются динамически в зависимости от конфигурации вашей сети.</dd>
<dd> Откройте файл <code>wp-config.php</code>, оставаясь авторизованным в панели управления сайтом.</dd>
<dd> Добавьте созданные строки сразу <b>перед</b> комментарием <code>/* Это всё, дальше не редактируем. Успехов! */</code>.</dd>
<dd> Размещённую ранее строку <code>define('WP_ALLOW_MULTISITE', true);</code> стоит удалять только в том случае, если вы хотите избавиться от пункта «Сеть» в меню. Можно оставить его, чтобы всегда иметь доступ к правилам в .htaccess.</dd></dl>
<dl><dt>3. Добавьте созданные правила mod_rewrite в файл <code>.htaccess</code>, заменив остальные правила WordPress.</dt>
<dd> (Если такого файла нет, создайте его.)</dd>
<dd> Эти строки создаются динамически в зависимости от конфигурации вашей сети.</dd></dl>
<dl><dt>4. Авторизуйтесь заново.</dt>
<dd> После завершения перечисленных шагов и сохранения файлов wp-config.php и .htaccess ваша сеть будет активирована и настроена. Вам потребуется авторизоваться снова. Нажмите «Войти», чтобы попасть в панель управления. Если войти не удаётся, очистите кэш браузера и файлы cookie.</dd></dl>
<h2><span class="mw-headline" id=".D0.A8.D0.B0.D0.B3_6:_.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D1.8C.D1.8E">Шаг 6: Управление сетью</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=10" title="Edit section: Шаг 6: Управление сетью">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="floatleft"><a href="https://codex.wordpress.org/File:network-admin-link.png" class="image" title="Network Admin"><img alt="Network Admin" src="/images/7/78/network-admin-link.png" width="383" height="184" /></a></div>
<p>В верхней панели слева появилось меню «Мои сайты». Там перечислены все ваши сайты с удобными выпадающими меню, а также пункт «Управление сетью», где можно выбрать пункт «Консоль», чтобы перейти в консоль управления сетью.
</p><p>Перейдите на экран <a href="https://codex.wordpress.org/Network_Admin#Settings" title="Network Admin">«Параметры»</a>, чтобы настроить параметры сети, или на экран <a href="https://codex.wordpress.org/Network_Admin#Sites" title="Network Admin">«Сайты»</a>, где находится управление сайтами.
</p><p>Дополнительная информация: <a href="https://codex.wordpress.org/Network_Admin" title="Network Admin">Управление сетью</a>
</p>
<h2><span class="mw-headline" id=".D0.AD.D1.82.D0.BE_.D0.BD.D1.83.D0.B6.D0.BD.D0.BE_.D0.B7.D0.BD.D0.B0.D1.82.D1.8C">Это нужно знать</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=11" title="Edit section: Это нужно знать">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Здесь приведены некоторые дополнительные сведения, которые нужно иметь в виду при администрировании сети.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D1.81.D1.82.D0.BE.D1.8F.D0.BD.D0.BD.D1.8B.D0.B5_.D1.81.D1.81.D1.8B.D0.BB.D0.BA.D0.B8">Постоянные ссылки</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=12" title="Edit section: Постоянные ссылки">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Постоянные ссылки по-прежнему будут работать, хотя на основном блоге (т.е. на первом из созданных) к адресам будет добавлен префикс <code>blog</code>, и они примут вид <code>domain.com/blog/YYYY/MM/POSTNAME</code>
</p><p>Это сделано, чтобы предотвратить конфликты между страницами и новыми сайтами в режиме подкаталогов. На текущий момент нет простого способа это изменить, поскольку в этом случае WordPress не сможет автоматически разрешать конфликты между основным и дочерними сайтами. Это будет исправлено в одной из следующих версий WordPress.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD.D1.8B_WordPress">Плагины WordPress</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=13" title="Edit section: Плагины WordPress">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dd>Плагины WordPress теперь обладают дополнительной гибкостью, в зависимости от их предназначения в сети.</dd></dl>
<ul><li> <b>Плагины для конкретных сайтов:</b> Плагины WordPress, которые владельцы блогов могут активировать или деактивировать в индивидуальном порядке, находятся в каталоге <tt>plugins</tt>. Вам нужно разрешить страницу «Плагины» для администраторов отдельных сайтов на странице «Настройки сети».</li>
<li> <b>Сетевые плагины:</b> Плагины WordPress, расположенные в каталоге <tt>plugins</tt>, могут быть активированы суперадминистратором для всей сети.</li>
<li> <b>Необходимые плагины:</b> Плагины WordPress, используемые на всех сайтах сети, можно также устанавливать в каталог <tt>mu-plugins</tt> в виде отдельных файлов или файлов, подключающих подкаталоги. Файлы в дочерних директориях внутри этого каталога не обрабатываются. Эти файлы не требуют активации и деактивации; если они есть, то они используются.</li></ul>
<h3><span class="mw-headline" id=".D0.A0.D1.83.D0.B1.D1.80.D0.B8.D0.BA.D0.B8_.D0.B8_.D0.BC.D0.B5.D1.82.D0.BA.D0.B8">Рубрики и метки</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=14" title="Edit section: Рубрики и метки">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dd>По умолчанию в WordPress 3.0 глобальные элементы отключены. Чтобы вывести глобальные метки на главную страницу сайта либо на отдельные страницы или блоги сети для облегчения навигации по помеченному содержимому, можно воспользоваться плагином <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/wordpress-mu-sitewide-tags/">Sitewide Tags</a> или другим подобным.</dd></dl>
<h3><span class="mw-headline" id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.BF.D0.BE.D0.B4.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.B0.D0.BC.D0.B8_.D0.B8_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B0.D0.BC.D0.B8">Переключение между поддоменами и подкаталогами</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=15" title="Edit section: Переключение между поддоменами и подкаталогами">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Если вы установили WordPress больше месяца назад, то при попытке активировать сеть вам будет доступен только режим <strong>поддоменов</strong>. Это сделано, чтобы предотвратить возможные конфликты между страницами (например, example.com/pagename) и сайтами (например, example.com/sitename). Если вы уверены, что эта проблема вас не коснётся, после завершения установки можно изменить режим.
</p><p>Измените значение параметра SUBDOMAIN_INSTALL в <code>wp-config.php</code>:
</p>
<dl><dt>Использовать поддомены</dt>
<dd><pre>define( 'SUBDOMAIN_INSTALL', true );</pre></dd>
<dt>Использовать подкаталоги</dt>
<dd><pre>define( 'SUBDOMAIN_INSTALL', false );</pre></dd></dl>
<p>Вам также нужно будет обновить <code>.htaccess</code> для нового режима. Имейте в виду, что если сайт уже какое-то время проработал в одном из режимов, то его смена может привести к проблемам, поэтому будьте осторожны.
</p>
<h3><span class="mw-headline" id=".htaccess_.D0.B8_Mod_Rewrite">.htaccess и Mod Rewrite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=16" title="Edit section: .htaccess и Mod Rewrite">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>В отличие от одиночного сайта на WordPress, который может работать с «некрасивыми» <a href="https://codex.wordpress.org/Using_Permalinks" title="Using Permalinks">постоянными ссылками</a> и без расширения Mod Rewrite, режим MultiSite <em>требует</em> его, чтобы обрабатывать адреса дочерних сайтов. Это приводит к необходимости использовать файл .htaccess, формат которого в режимах подкаталогов и поддоменов немного отличается. В примерах ниже показаны стандартные правила .htaccess для режимов подкаталогов и поддоменов, когда WordPress установлен в корневой каталог сайта. Если ваш WordPress размещён в отдельном каталоге, нужно соответствующим образом изменить значение <tt>RewriteBase</tt>.
</p><p>Помните, что это <strong>ПРИМЕРЫ</strong>, которые работают на многих, но не на всех серверах.
</p><p><strong>Пример для режима подкаталогов</strong>
</p>
<pre>
# BEGIN WordPress
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]

# uploaded files
RewriteRule ^([_0-9a-zA-Z-]+/)?files/(.+) wp-includes/ms-files.php?file=$2 [L]

# add a trailing slash to /wp-admin
RewriteRule ^([_0-9a-zA-Z-]+/)?wp-admin$ $1wp-admin/ [R=301,L]

RewriteCond&#160;%{REQUEST_FILENAME} -f [OR]
RewriteCond&#160;%{REQUEST_FILENAME} -d
RewriteRule ^ - [L]
RewriteRule  ^[_0-9a-zA-Z-]+/(wp-(content|admin|includes).*) $1 [L]
RewriteRule  ^[_0-9a-zA-Z-]+/(.*\.php)$ $1 [L]
RewriteRule . index.php [L]
# END WordPress
</pre>
<p><strong>Пример для режима поддоменов</strong>
</p>
<pre>
# BEGIN WordPress
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]

# uploaded files
RewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]

RewriteCond&#160;%{REQUEST_FILENAME} -f [OR]
RewriteCond&#160;%{REQUEST_FILENAME} -d
RewriteRule ^ - [L]
RewriteRule . index.php [L]
# END WordPress
</pre>
<h2><span class="mw-headline" id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5">Смотрите также</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B8&amp;action=edit&amp;section=17" title="Edit section: Смотрите также">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Debugging_a_WordPress_Network" title="Debugging a WordPress Network">Debugging a WordPress Network</a></li>
<li> <a href="https://codex.wordpress.org/Migrating_Multiple_Blogs_into_WordPress_3.0_Multisite" title="Migrating Multiple Blogs into WordPress 3.0 Multisite">Migrating Multiple Blogs into WordPress 3.0 Multisite</a></li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/extend/plugins/wordpress-mu-domain-mapping/">Setting up Top-Level Domains Using the Domain Mapping Plugin</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.lauragentry.com/wordpress/?p=517">Getting setup on Windows Servers</a></li>
<li> <a rel="nofollow" class="external text" href="http://wpmag.ru/2014/wordpress-multisite/">Что такое WordPress Multisite</a></li></ul>


