<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Template_Hierarchy" title="Template Hierarchy">English</a> • 
<a href="https://codex.wordpress.org/fr:Hi%C3%A9rarchie_de_modeles" title="fr:Hiérarchie de modeles" class="mw-redirect">Français</a> • 

<a href="/index.php?title=it:Gerarchia_dei_template&amp;action=edit&amp;redlink=1" class="new" title="it:Gerarchia dei template (page does not exist)">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/テンプレート階層">日本語</a> 
<a href="https://codex.wordpress.org/ko:Template_Hierarchy" title="ko:Template Hierarchy">한국어</a> • 
<a href="https://codex.wordpress.org/%D0%98%D0%B5%D1%80%D0%B0%D1%80%D1%85%D0%B8%D1%8F_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2" title="Иерархия шаблонов">Русский</a> • 

<a href="https://codex.wordpress.org/es:Jerarqu%C3%ADa_de_plantillas" title="es:Jerarquía de plantillas">Español</a> • 

<a href="https://codex.wordpress.org/pt-br:Hierarquia_de_Temas_Wordpress" title="pt-br:Hierarquia de Temas Wordpress" class="mw-redirect">Português do Brasil</a> • 

<strong class="selflink">中文(简体)</strong> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E7.AE.80.E4.BB.8B"><span class="tocnumber">1</span> <span class="toctext">简介</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.E8.BF.99.E7.AF.87.E6.96.87.E7.AB.A0.E6.98.AF.E5.85.B3.E4.BA.8E.EF.BC.9A"><span class="tocnumber">1.1</span> <span class="toctext">这篇文章是关于：</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#.E8.BF.99.E7.AF.87.E6.96.87.E7.AB.A0.E5.8F.AF.E8.83.BD.E5.AF.B9.E8.B0.81.E6.9C.89.E7.94.A8.EF.BC.9A"><span class="tocnumber">1.2</span> <span class="toctext">这篇文章可能对谁有用：</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.E4.BD.BF.E7.94.A8.E6.9D.A1.E4.BB.B6.E6.A0.87.E7.AD.BE.E5.87.BD.E6.95.B0.E5.88.A4.E6.96.AD"><span class="tocnumber">1.3</span> <span class="toctext">使用条件标签函数判断</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#.E6.A8.A1.E7.89.88.E6.96.87.E4.BB.B6.E7.9A.84.E5.88.86.E5.B1.82.E7.BB.93.E6.9E.84"><span class="tocnumber">2</span> <span class="toctext">模版文件的分层结构</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#.E5.9F.BA.E6.9C.AC.E7.90.86.E5.BF.B5"><span class="tocnumber">2.1</span> <span class="toctext">基本理念</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.E4.B8.BE.E4.BE.8B"><span class="tocnumber">2.2</span> <span class="toctext">举例</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Visual_Overview"><span class="tocnumber">2.3</span> <span class="toctext">Visual Overview</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.E6.A8.A1.E6.9D.BF.E5.B1.82.E6.AC.A1.E7.BB.86.E8.8A.82"><span class="tocnumber">2.4</span> <span class="toctext">模板层次细节</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#.E9.A6.96.E9.A1.B5.E6.98.BE.E7.A4.BA"><span class="tocnumber">2.4.1</span> <span class="toctext">首页显示</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Front_Page_display"><span class="tocnumber">2.4.2</span> <span class="toctext">Front Page display</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Single_Post_display"><span class="tocnumber">2.4.3</span> <span class="toctext">Single Post display</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Page_display"><span class="tocnumber">2.4.4</span> <span class="toctext">Page display</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Category_display"><span class="tocnumber">2.4.5</span> <span class="toctext">Category display</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Tag_display"><span class="tocnumber">2.4.6</span> <span class="toctext">Tag display</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Custom_Taxonomies_display"><span class="tocnumber">2.4.7</span> <span class="toctext">Custom Taxonomies display</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Custom_Post_Types_display"><span class="tocnumber">2.4.8</span> <span class="toctext">Custom Post Types display</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Author_display"><span class="tocnumber">2.4.9</span> <span class="toctext">Author display</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Date_display"><span class="tocnumber">2.4.10</span> <span class="toctext">Date display</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Search_Result_display"><span class="tocnumber">2.4.11</span> <span class="toctext">Search Result display</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#404_.28Not_Found.29_display"><span class="tocnumber">2.4.12</span> <span class="toctext">404 (Not Found) display</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Attachment_display"><span class="tocnumber">2.4.13</span> <span class="toctext">Attachment display</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Filter_Hierarchy"><span class="tocnumber">3</span> <span class="toctext">Filter Hierarchy</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#.E4.B8.BE.E4.BE.8B_2"><span class="tocnumber">3.1</span> <span class="toctext">举例</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href="#.E6.9B.B4.E6.96.B0.E6.97.A5.E5.BF.97"><span class="tocnumber">4</span> <span class="toctext">更新日志</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#.E6.BA.90.E6.96.87.E4.BB.B6"><span class="tocnumber">5</span> <span class="toctext">源文件</span></a></li>
<li class="toclevel-1 tocsection-27"><a href="#.E7.9B.B8.E5.85.B3.E9.98.85.E8.AF.BB"><span class="tocnumber">6</span> <span class="toctext">相关阅读</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E7.AE.80.E4.BB.8B">简介</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=1" title="Edit section: 简介">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>WordPress模板像拼图一样拼在一起，来生成你网站的页面。有些模板，比如页眉和页脚，是所有页面公用的；也有的只在一些特定页面/情况中使用。
</p>
<h3><span class="mw-headline" id=".E8.BF.99.E7.AF.87.E6.96.87.E7.AB.A0.E6.98.AF.E5.85.B3.E4.BA.8E.EF.BC.9A">这篇文章是关于：</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=2" title="Edit section: 这篇文章是关于：">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>这篇文章回答了下面这些问题：
</p>
<blockquote>
<p><i>WordPress生成特定页面的时候调用了什么模板文件？</i>
</p>
</blockquote>
<h3><span class="mw-headline" id=".E8.BF.99.E7.AF.87.E6.96.87.E7.AB.A0.E5.8F.AF.E8.83.BD.E5.AF.B9.E8.B0.81.E6.9C.89.E7.94.A8.EF.BC.9A">这篇文章可能对谁有用：</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=3" title="Edit section: 这篇文章可能对谁有用：">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>自从WordPress引入<a href="https://codex.wordpress.org/Using_Themes" title="Using Themes">主题</a>以来，<a href="https://codex.wordpress.org/Templates" title="Templates">模板</a>的可配置性越来越高，为了<a href="https://codex.wordpress.org/Theme_Development" title="Theme Development">开发WordPress主题</a>，你有必要了解WordPress是如何为不同页面选择模板文件的。如果你希望自定义一个现有的主题，这篇文章将告诉你需要修改那些模板文件。
</p>
<h3><span class="mw-headline" id=".E4.BD.BF.E7.94.A8.E6.9D.A1.E4.BB.B6.E6.A0.87.E7.AD.BE.E5.87.BD.E6.95.B0.E5.88.A4.E6.96.AD">使用条件标签函数判断</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=4" title="Edit section: 使用条件标签函数判断">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Wordpress 提供多种将查询匹配到模板的方式。主题开发者也可以使用条件标签来控制特定页面的模板使用。有些Wordpress主题可能并未实现这里提到的所有功能。有些主题则使用条件标签来载入其他模板文件。参见<a href="https://codex.wordpress.org/Conditional_Tags" title="Conditional Tags">条件标签</a>页面和<a href="https://codex.wordpress.org/Theme_Development#Query-based_Template_Files" title="Theme Development">"基于查询"的主题开发</a>。
</p>
<h2><span class="mw-headline" id=".E6.A8.A1.E7.89.88.E6.96.87.E4.BB.B6.E7.9A.84.E5.88.86.E5.B1.82.E7.BB.93.E6.9E.84">模版文件的分层结构</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=5" title="Edit section: 模版文件的分层结构">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".E5.9F.BA.E6.9C.AC.E7.90.86.E5.BF.B5">基本理念</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=6" title="Edit section: 基本理念">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Wordpress使用<a href="https://codex.wordpress.org/Glossary#Query_string" title="Glossary">查询字符串</a>——你网站中每个链接所包含的信息，来决定使用哪个或哪些模板文件。
</p><p>First, WordPress matches every Query String to query types &#8212; i.e. it decides what type of page (a search page, a category page, the home page etc.) is being requested.
</p><p>Templates are then chosen &#8212; and web page content is generated &#8212; in the order suggested by the WordPress Template hierarchy, depending upon what templates are available in a particular WordPress Theme.
</p><p>WordPress looks for template files with specific names in the current Theme's directory and uses the <i>first matching</i> template file listed under the appropriate query section below. 
</p><p>With the exception of the basic <tt style="font-weight:bold; color:#036">index.php</tt> template file, Theme developers can choose whether they want to implement a particular template file or not. If WordPress cannot find a template file with a matching name, it skips down to the next file name in the hierarchy. If WordPress cannot find any matching template file, <tt style="font-weight:bold; color:#036">index.php</tt> (the Theme's home page template file) will be used.
</p>
<h3><span class="mw-headline" id=".E4.B8.BE.E4.BE.8B">举例</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=7" title="Edit section: 举例">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>如果你的博客网址是 <tt style="font-weight:bold; color:#036">http://example.com/blog/</tt> ，有一个访客点击了其中一个分类的链接：
<tt style="font-weight:bold; color:#036">http://example.com/blog/category/your-cat/</tt>: WordPress将按照如下方式寻找模板文件并生成页面。
</p><p>WordPress在当前主题目录下寻找一个匹配当前文章分类ID的模板文件。
</p>
<ol><li> 如果文章分类ID是4, WordPress会找这样一个文件： <tt style="font-weight:bold; color:#036">category-4.php</tt>.</li>
<li> 如果没有这个文件, WordPress再找通用的文章分类模板, <tt style="font-weight:bold; color:#036">category.php</tt>. </li>
<li> 如果这也没有, WordPress再找通用文章归档模板, <tt style="font-weight:bold; color:#036">archive.php</tt>. </li>
<li> 如果还没有, WordPress回到主题主模板文件, <tt style="font-weight:bold; color:#036">index.php</tt>.</li></ol>
<p>如果访客访问了你的首页： <tt style="font-weight:bold; color:#036">http://example.com/blog/</tt>:
</p>
<ol><li> WordPress首先看是否有 <a href="https://codex.wordpress.org/Creating_a_Static_Front_Page" title="Creating a Static Front Page">静态首页</a>. 如果有，则根据 <a href="https://codex.wordpress.org/Template_Hierarchy#Page_display" title="Template Hierarchy">模板层次</a>载入那个页面.</li>
<li> 如果没有静态首页，则去到 <tt style="font-weight:bold; color:#036">home.php</tt> ，用它来生成请求的页面。 </li>
<li> 如果 <tt style="font-weight:bold; color:#036">home.php</tt> 也没有, 再回到当前主题目录下的<tt style="font-weight:bold; color:#036">index.php</tt> 文件，用它来生成页面。</li></ol>
<h3><span class="mw-headline" id="Visual_Overview">Visual Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=8" title="Edit section: Visual Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following diagram shows which template files are called to generate a WordPress page based on the WordPress Template hierarchy.
</p><p><a href="https://codex.wordpress.org/File:Template_Hierarchy.png" class="image" title="Graphic Example of the WordPress Template Hierarchy Structure"><img alt="Graphic Example of the WordPress Template Hierarchy Structure" src="/images/thumb/1/18/Template_Hierarchy.png/750px-Template_Hierarchy.png" width="750" height="745" srcset="/images/thumb/1/18/Template_Hierarchy.png/1125px-Template_Hierarchy.png 1.5x, /images/1/18/Template_Hierarchy.png 2x" /></a>
<small><a rel="nofollow" class="external text" href="http://codex.wordpress.org/images/1/18/Template_Hierarchy.png">Full-Size Image (png)</a></small>
</p><p>A more in depth hierarchy diagram, including template-related conditional tags and body CSS classes, can be found <a rel="nofollow" class="external text" href="http://www.chipbennett.net/themes/template-hierarchy">here</a>.
</p>
<h3><span class="mw-headline" id=".E6.A8.A1.E6.9D.BF.E5.B1.82.E6.AC.A1.E7.BB.86.E8.8A.82">模板层次细节</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=9" title="Edit section: 模板层次细节">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following sections describe the order in which template files are being called by WordPress for each query type.
</p>
<h4><span class="mw-headline" id=".E9.A6.96.E9.A1.B5.E6.98.BE.E7.A4.BA">首页显示</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=10" title="Edit section: 首页显示">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render the Blog Posts Index, whether on the site front page or on a static page. Note: on the Site Front Page, the Front Page template takes precedence over the Blog Posts Index (Home) template.
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">home.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Front_Page_display">Front Page display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=11" title="Edit section: Front Page display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render the Site Front Page, whether the front page displays the Blog Posts Index or a static page. The Front Page template takes precedence over the Blog Posts Index (Home) template.
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">front-page.php</tt> - Used for both <b>Your latest posts</b> or <b>A static page</b> as set in the <b>Front page displays</b> section of <a href="https://codex.wordpress.org/Administration_Panels#Reading" title="Administration Panels" class="mw-redirect">Settings</a> -&gt; <a href="https://codex.wordpress.org/Settings_Reading_SubPanel" title="Settings Reading SubPanel" class="mw-redirect">Reading</a></li>
<li><a href="#Page_display">Page display rules</a> - When <b>Front page</b> is set in the <b>Front page displays</b> section of <a href="https://codex.wordpress.org/Administration_Panels#Reading" title="Administration Panels" class="mw-redirect">Settings</a> -&gt; <a href="https://codex.wordpress.org/Settings_Reading_SubPanel" title="Settings Reading SubPanel" class="mw-redirect">Reading</a></li>
<li><a href="#Home_Page_display">Home Page display rules</a> - When <b>Posts page</b> is set in the <b>Front page displays</b> section of <a href="https://codex.wordpress.org/Administration_Panels#Reading" title="Administration Panels" class="mw-redirect">Settings</a> -&gt; <a href="https://codex.wordpress.org/Settings_Reading_SubPanel" title="Settings Reading SubPanel" class="mw-redirect">Reading</a></li></ol></dd></dl>
<h4><span class="mw-headline" id="Single_Post_display">Single Post display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=12" title="Edit section: Single Post display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a single post page.
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">single-{post_type}.php</tt> - If the <a href="https://codex.wordpress.org/Post_Types" title="Post Types">post type</a> were <tt style="font-weight:bold; color:#036">product</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">single-product.php</tt>. </li>
<li><tt style="font-weight:bold; color:#036">single.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Page_display">Page display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=13" title="Edit section: Page display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a static page (<tt>page</tt> post-type)
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">custom template file</tt> - The <a href="https://codex.wordpress.org/Pages#Page_Templates" title="Pages">Page Template</a> assigned to the Page. See <a href="https://codex.wordpress.org/Function_Reference/get_page_templates" title="Function Reference/get page templates">get_page_templates()</a>.</li>
<li><tt style="font-weight:bold; color:#036">page-{slug}.php</tt> - If the page slug is <b>recent-news</b>, WordPress will look to use <tt style="font-weight:bold; color:#036">page-recent-news.php</tt></li>
<li><tt style="font-weight:bold; color:#036">page-{id}.php</tt> - If the page ID is <b>6</b>, WordPress will look to use <tt style="font-weight:bold; color:#036">page-6.php</tt></li>
<li><tt style="font-weight:bold; color:#036">page.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Category_display">Category display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=14" title="Edit section: Category display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a Category Archive Index page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">category-{slug}.php</tt> - If the category's slug were <tt style="font-weight:bold; color:#036">news</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">category-news.php</tt></li>
<li><tt style="font-weight:bold; color:#036">category-{id}.php</tt> - If the category's ID were <tt style="font-weight:bold; color:#036">6</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">category-6.php</tt></li>
<li><tt style="font-weight:bold; color:#036">category.php</tt></li>
<li><tt style="font-weight:bold; color:#036">archive.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Tag_display">Tag display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=15" title="Edit section: Tag display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a Tag Archive Index page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">tag-{slug}.php</tt> - If the tag's slug were <tt style="font-weight:bold; color:#036">sometag</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">tag-sometag.php</tt></li>
<li><tt style="font-weight:bold; color:#036">tag-{id}.php</tt> - If the tag's ID were <tt style="font-weight:bold; color:#036">6</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">tag-6.php</tt></li>
<li><tt style="font-weight:bold; color:#036">tag.php</tt></li>
<li><tt style="font-weight:bold; color:#036">archive.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Custom_Taxonomies_display">Custom Taxonomies display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=16" title="Edit section: Custom Taxonomies display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render the Archive Index page for a <a href="https://codex.wordpress.org/Taxonomies" title="Taxonomies">Custom Taxonomy</a>
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">taxonomy-{taxonomy}-{term}.php</tt> - If the taxonomy were <tt style="font-weight:bold; color:#036">sometax</tt>, and  taxonomy's term were <tt style="font-weight:bold; color:#036">someterm</tt> WordPress would look for <tt style="font-weight:bold; color:#036">taxonomy-sometax-someterm.php.</tt> In the case of Post Formats, the taxonomy is 'post_format' and the terms are 'post-format-{format}. i.e. <tt style="font-weight:bold; color:#036">taxonomy-post_format-post-format-link.php</tt></li>
<li><tt style="font-weight:bold; color:#036">taxonomy-{taxonomy}.php</tt> - If the taxonomy were <tt style="font-weight:bold; color:#036">sometax</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">taxonomy-sometax.php</tt></li>
<li><tt style="font-weight:bold; color:#036">taxonomy.php</tt></li>
<li><tt style="font-weight:bold; color:#036">archive.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Custom_Post_Types_display">Custom Post Types display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=17" title="Edit section: Custom Post Types display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render the Archive Index page for a <a href="https://codex.wordpress.org/Post_Types" title="Post Types">Custom Post Type</a>
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">archive-{post_type}.php</tt> - If the <a href="https://codex.wordpress.org/Post_Types" title="Post Types">post type</a> were <tt style="font-weight:bold; color:#036">product</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">archive-product.php</tt>. </li>
<li><tt style="font-weight:bold; color:#036">archive.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<p>(For rendering a single custom post type, refer to the Single Post display section above.)
</p>
<h4><span class="mw-headline" id="Author_display">Author display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=18" title="Edit section: Author display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render an Author Archive Index page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">author-{nicename}.php</tt> - If the author's nice name were <tt style="font-weight:bold; color:#036">rami</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">author-rami.php</tt>.</li>
<li><tt style="font-weight:bold; color:#036">author-{id}.php</tt> - If the author's ID were <tt style="font-weight:bold; color:#036">6</tt>, WordPress would look for <tt style="font-weight:bold; color:#036">author-6.php</tt>. </li>
<li><tt style="font-weight:bold; color:#036">author.php</tt></li>
<li><tt style="font-weight:bold; color:#036">archive.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Date_display">Date display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=19" title="Edit section: Date display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a Date-Based Archive Index page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">date.php</tt></li>
<li><tt style="font-weight:bold; color:#036">archive.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Search_Result_display">Search Result display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=20" title="Edit section: Search Result display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a Search Results Index page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">search.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="404_.28Not_Found.29_display">404 (Not Found) display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=21" title="Edit section: 404 (Not Found) display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a Server 404 error page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">404.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h4><span class="mw-headline" id="Attachment_display">Attachment display</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=22" title="Edit section: Attachment display">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Template file used to render a single attachment (<tt>attachment</tt> post-type) page
</p>
<dl><dd><ol><li><tt style="font-weight:bold; color:#036">MIME_type.php</tt> - it can be any <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Internet_media_type">MIME type</a> (<tt style="font-weight:bold; color:#036">image.php</tt>, <tt style="font-weight:bold; color:#036">video.php</tt>, <tt style="font-weight:bold; color:#036">application.php</tt>).  For <tt>text/plain</tt>, in order:  
<ol><li><tt style="font-weight:bold; color:#036">text.php</tt></li>
<li><tt style="font-weight:bold; color:#036">plain.php</tt></li>
<li><tt style="font-weight:bold; color:#036">text_plain.php</tt></li></ol></li>
<li><tt style="font-weight:bold; color:#036">attachment.php</tt></li>
<li><tt style="font-weight:bold; color:#036">single-attachment.php</tt></li>
<li><tt style="font-weight:bold; color:#036">single.php</tt></li>
<li><tt style="font-weight:bold; color:#036">index.php</tt></li></ol></dd></dl>
<h2><span class="mw-headline" id="Filter_Hierarchy">Filter Hierarchy</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=23" title="Edit section: Filter Hierarchy">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The WordPress templates system allow you to filter the hierarchy. The filter (located in the <a href="https://codex.wordpress.org/Function_Reference/get_query_template" title="Function Reference/get query template"><tt>get_query_template()</tt></a> function) uses this filter name: <tt style="font-weight:bold; color:#036">"{$type}_template"</tt> where <tt style="font-weight:bold; color:#036">$type</tt> is the a file name in the hierarchy without the <tt style="font-weight:bold; color:#036">.php</tt> extension.
</p><p>Full list:
</p>
<ul><li> index_template</li>
<li> 404_template</li>
<li> archive_template</li>
<li> author_template</li>
<li> category_template</li>
<li> tag_template</li>
<li> taxonomy_template</li>
<li> date_template</li>
<li> home_template</li>
<li> front_page_template</li>
<li> page_template</li>
<li> paged_template</li>
<li> search_template</li>
<li> single_template</li>
<li> text_template, plain_template, text_plain_template (all mime types)</li>
<li> attachment_template</li>
<li> comments_popup</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id=".E4.B8.BE.E4.BE.8B_2">举例</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=24" title="Edit section: 举例">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For example, let's take the default author hierarchy:
</p>
<ul><li> <tt style="font-weight:bold; color:#036">author-{nicename}.php</tt></li>
<li> <tt style="font-weight:bold; color:#036">author-{id}.php</tt></li>
<li> <tt style="font-weight:bold; color:#036">author.php</tt></li></ul>
<p>To add <tt style="font-weight:bold; color:#036">author-{role}.php</tt> before <tt style="font-weight:bold; color:#036">author.php</tt> we can manipulate the actual hierarchy using the 'author_template' hook.  This allows a request for /author/username where username has the role of editor to display using author-editor.php if present in the current themes directory.
</p>
<pre>
function author_role_template( $templates='' )
{
	$author = get_queried_object();
	$role=$author-&gt;roles[0];
	
	if(!is_array($templates) &amp;&amp;&#160;!empty($templates)) {
		$templates=locate_template(array("author-$role.php",$templates),false);
	} 
	elseif(empty($templates)) {
		$templates=locate_template("author-$role.php",false);
	}
	else {
		$new_template=locate_template(array("author-$role.php"));
		if(!empty($new_template)) array_unshift($templates,$new_template);
	}
	
	return $templates;
}
add_filter( 'author_template', 'author_role_template' );
</pre>
<h2><span class="mw-headline" id=".E6.9B.B4.E6.96.B0.E6.97.A5.E5.BF.97">更新日志</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=25" title="Edit section: 更新日志">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Version_3.1" title="Version 3.1">3.1</a>&#160;:
<ul><li> <a href="#Custom_Post_Types_display">archive-{post_type}.php</a> added</li></ul></li></ul>
<ul><li> <a href="https://codex.wordpress.org/Version_3.0" title="Version 3.0">3.0</a>&#160;:
<ul><li> <a href="#Front_Page_display">front-page.php</a> added</li>
<li> <a href="#Single_Post_display">single-{post_type}.php</a> added</li>
<li> <a href="#Custom_Taxonomies_display">taxonomy.php</a> added</li>
<li> <a href="#Custom_Taxonomies_display">taxonomy-{taxonomy}.php</a> added</li>
<li> <a href="#Custom_Taxonomies_display">taxonomy-{taxonomy}-{term}.php</a> added</li>
<li> <a href="#Author_display">author-{id}.php</a> added</li>
<li> <a href="#Author_display">author-{nicename}.php</a> added</li></ul></li></ul>
<ul><li> <a href="https://codex.wordpress.org/Version_2.9" title="Version 2.9">2.9</a>&#160;:
<ul><li> <a href="#Page_display">page-{id}.php</a> added</li>
<li> <a href="#Page_display">page-{slug}.php</a> added</li>
<li> <a href="#Tag_display">tag-{id}.php</a> added</li>
<li><a href="#Category_display">category-{slug}.php</a> added</li></ul></li></ul>
<ul><li> <a href="https://codex.wordpress.org/Version_2.3" title="Version 2.3">2.3</a>&#160;:
<ul><li> <a href="#Tag_display">tag.php</a> added</li>
<li> <a href="#Tag_display">tag-{slug}.php</a> added</li></ul></li></ul>
<ul><li> <a href="https://codex.wordpress.org/Version_2.0" title="Version 2.0">2.0</a>&#160;:
<ul><li> <a href="#Attachment_display">attachment.php</a> added</li></ul></li></ul>
<ul><li> <a href="https://codex.wordpress.org/Version_1.5" title="Version 1.5">1.5</a>&#160;:
<ul><li> Introduction of the theme system.</li></ul></li></ul>
<h2><span class="mw-headline" id=".E6.BA.90.E6.96.87.E4.BB.B6">源文件</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=26" title="Edit section: 源文件">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> The template hierarchy functions are located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/theme.php#L0">wp-includes/theme.php</a></code>.</li>
<li> The template-load hierarchy is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/template-loader.php#L0">wp-includes/template-loader.php</a></code>.</li></ul>
<h2><span class="mw-headline" id=".E7.9B.B8.E5.85.B3.E9.98.85.E8.AF.BB">相关阅读</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E6%A8%A1%E6%9D%BF%E5%B1%82%E6%AC%A1&amp;action=edit&amp;section=27" title="Edit section: 相关阅读">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Theme_Development" title="Theme Development">Theme Development</a></li>
<li> <a href="https://codex.wordpress.org/The_Loop" title="The Loop">The Loop</a></li>
<li> <a href="https://codex.wordpress.org/Conditional_Tags" title="Conditional Tags">Conditional Tags</a></li>
<li> <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a></li>
<li> <a href="https://codex.wordpress.org/Using_Permalinks" title="Using Permalinks">Using Permalinks</a></li></ul>
<p><a href="https://codex.wordpress.org/Template_Hierarchy" title="Template Hierarchy"><b>Template Hierarchy</b></a>: 
<a href="https://codex.wordpress.org/Category_Templates" title="Category Templates">Category Templates</a>, 
<a href="https://codex.wordpress.org/Tag_Templates" title="Tag Templates">Tag Templates</a>, 
<a href="/index.php?title=Taxonomy_Templates&amp;action=edit&amp;redlink=1" class="new" title="Taxonomy Templates (page does not exist)">Taxonomy Templates</a>, 
<a href="https://codex.wordpress.org/Pages#Page_Templates" title="Pages">Page Templates</a>, 
<a href="https://codex.wordpress.org/Post_Type_Templates" title="Post Type Templates">Post Type Templates</a>, 
<a href="https://codex.wordpress.org/Author_Templates" title="Author Templates">Author Templates</a>, 
<a href="/index.php?title=Date_Templates&amp;action=edit&amp;redlink=1" class="new" title="Date Templates (page does not exist)">Date Templates</a>, 
<a href="https://codex.wordpress.org/Creating_a_Search_Page" title="Creating a Search Page">Search Templates</a>, 
<a href="https://codex.wordpress.org/Creating_an_Error_404_Page" title="Creating an Error 404 Page">404 Templates</a>, 
<a href="https://codex.wordpress.org/Using_Image_and_File_Attachments#Inserting_Files" title="Using Image and File Attachments">Attachment Templates</a>, 
<a href="https://codex.wordpress.org/Loop_Templates" title="Loop Templates">Loop Templates</a>
</p>
<!-- 
NewPP limit report
Cached time: 20190211004554
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.048 seconds
Real time usage: 0.060 seconds
Preprocessor visited node count: 324/1000000
Preprocessor generated node count: 974/1000000
Post‐expand include size: 1863/2097152 bytes
Template argument size: 752/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   17.146      1 - -total
 70.75%   12.130      1 - Template:Languages
 15.08%    2.586      2 - Template:Trac
  9.66%    1.656      1 - Template:Theme_Templates
  7.41%    1.271      1 - Template:ja
  6.80%    1.166      1 - Template:it
  6.39%    1.095      1 - Template:en
  6.31%    1.082      1 - Template:fr
  6.11%    1.048      1 - Template:ko
  6.01%    1.030      1 - Template:ru
-->
