<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/delete_post_meta" title="Function Reference/delete post meta">English</a> • 
<strong class="selflink">Русский</strong> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/delete">post meta 日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Описание</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"><span class="tocnumber">2</span> <span class="toctext">Использование</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B"><span class="tocnumber">3</span> <span class="toctext">Параметры</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.D0.92.D0.BE.D0.B7.D0.B2.D1.80.D0.B0.D1.89.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">4</span> <span class="toctext">Возвращаемые значения</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"><span class="tocnumber">5</span> <span class="toctext">Примеры</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#.D0.A1.D1.82.D0.B0.D0.BD.D0.B4.D0.B0.D1.80.D1.82.D0.BD.D0.BE.D0.B5_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">5.1</span> <span class="toctext">Стандартное применение</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.D0.94.D1.80.D1.83.D0.B3.D0.BE.D0.B9_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D1.80"><span class="tocnumber">5.2</span> <span class="toctext">Другой пример</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#.D0.A1.D1.85.D0.BE.D0.B6.D0.B5.D0.B5"><span class="tocnumber">6</span> <span class="toctext">Схожее</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5">Описание</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=1" title="Edit section: Описание">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Эта функция удаляет все произвольные поля с указанным названием (или названием и значением) из указанной записи.
См. также <a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta">update_post_meta()</a>, <a href="https://codex.wordpress.org/Function_Reference/get_post_meta" title="Function Reference/get post meta">get_post_meta()</a> и <a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/add_post_meta" title="Справочник по функциям/add post meta">add_post_meta()</a>. 
</p>
<h2><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5">Использование</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=2" title="Edit section: Использование">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php&#160;delete_post_meta</span><span style="color: #007700">(</span><span style="color: #0000BB">$post_id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$meta_key</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$meta_value</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>&#160;</span>
</code>
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B">Параметры</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=3" title="Edit section: Параметры">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$post_id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer" title="How to Pass Tag Parameters"><i>integer</i></a>) (<i>required</i>) ID записи, у которой нужно удалить поля.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$meta_key</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Название поля, которое нужно удалить.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$meta_value</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Mixed" title="How to Pass Tag Parameters"><i>mixed</i></a>) (<i>optional</i>) Значение поля, которое нужно удалить. Используется, чтобы различать несколько полей с одним названием, но разным значением. Если оставить пустым, будут удалены все поля с указанным названием.
<dl><dd> Default: <i>Empty</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id=".D0.92.D0.BE.D0.B7.D0.B2.D1.80.D0.B0.D1.89.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F">Возвращаемые значения</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=4" title="Edit section: Возвращаемые значения">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> (boolean)&#160;</dt>
<dd> False при неудаче. True при успехе.</dd></dl>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B">Примеры</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=5" title="Edit section: Примеры">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".D0.A1.D1.82.D0.B0.D0.BD.D0.B4.D0.B0.D1.80.D1.82.D0.BD.D0.BE.D0.B5_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5">Стандартное применение</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=6" title="Edit section: Стандартное применение">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>&lt;?php delete_post_meta(76, 'my_key', 'Steve');&#160;?&gt;
</pre>
<h3><span class="mw-headline" id=".D0.94.D1.80.D1.83.D0.B3.D0.BE.D0.B9_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D1.80">Другой пример</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=7" title="Edit section: Другой пример">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Предположим, что был установлен плагин, который добавил несколько значений произвольных полей для записи. После удаления плагина требуется удалить все значения произвольных полей, которые он добавил. Допустим, плагин добавил произвольные поля с названиями <tt>related_posts</tt> и <tt>post_inspiration</tt>.
</p><p>Чтобы удалить все поля, нужно добавить это к функции деинсталяции:
</p>
<pre>&lt;?php
  $allposts = get_posts('numberposts=-1&amp;post_type=post&amp;post_status=any');

  foreach( $allposts as $postinfo) {
    delete_post_meta($postinfo-&gt;ID, 'related_posts');
    delete_post_meta($postinfo-&gt;ID, 'post_inspiration');
  }
?&gt;</pre>
<p>Если нужно удалить все поля, кроме тех, в которых <tt>post_inspiration</tt> имеет значение "Sherlock Holmes", функция будет такой:
</p>
<pre>&lt;?php
  $allposts = get_posts('numberposts=-1&amp;post_type=post&amp;post_status=any');

  foreach( $allposts as $postinfo) {
    delete_post_meta($postinfo-&gt;ID, 'related_posts');
    $inspiration = get_post_meta( $postinfo-&gt;ID, 'post_inspiration' );
    foreach( $inspiration as $value ) {
      if( $value&#160;!= "Sherlock Holmes" )
        delete_post_meta($postinfo-&gt;ID, 'post_inspiration', $value);
    }
  }
?&gt;</pre>
<p>Если запись под номером 185 была удалена, и нужно удалить все поля <tt>related_posts</tt>, которые к ней относятся, можно использовать такую функцию:
</p>
<pre>&lt;?php
  $allposts = get_posts('numberposts=-1&amp;post_type=post&amp;post_status=any');

  foreach( $allposts as $postinfo) {
    delete_post_meta($postinfo-&gt;ID, 'related_posts', '185');
  }
?&gt;</pre>
<p>Больше информации на странице <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples">post_meta Functions Examples</a>.
</p><p><i><b>Примечание:</b> в отличае от <a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta">update_post_meta()</a>, эта функция позволяет удалить <b>все</b> поля, соответствующие критериям.</i>
</p>
<h2><span class="mw-headline" id=".D0.A1.D1.85.D0.BE.D0.B6.D0.B5.D0.B5">Схожее</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_post_meta&amp;action=edit&amp;section=8" title="Edit section: Схожее">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Custom_Fields" title="Custom Fields"><b>Custom Fields</b></a>: 
<a href="https://codex.wordpress.org/Function_Reference/the_meta" title="Function Reference/the meta"> the_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_meta" title="Function Reference/get post meta"> get_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta"> add_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta"> update_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/delete_post_meta" title="Function Reference/delete post meta"> delete_post_meta()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom" title="Function Reference/get post custom"> get_post_custom()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom_values" title="Function Reference/get post custom values"> get_post_custom_values()</a>, 
<a href="https://codex.wordpress.org/Function_Reference/get_post_custom_keys" title="Function Reference/get post custom keys"> get_post_custom_keys()</a> 
(See Also: <a href="https://codex.wordpress.org/Function_Reference/post_meta_Function_Examples" title="Function Reference/post meta Function Examples"> post_meta Function Examples</a>)
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190429054922
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.187 seconds
Preprocessor visited node count: 156/1000000
Preprocessor generated node count: 581/1000000
Post‐expand include size: 2741/2097152 bytes
Template argument size: 1047/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   55.278      1 - -total
 41.45%   22.913      1 - Template:Languages
 26.88%   14.859      1 - Template:Tag_Footer
 20.95%   11.579      1 - Template:Post_Meta_Tags
 14.16%    7.829      1 - Template:ru
 11.26%    6.224      1 - Template:Message
  8.19%    4.528      1 - Template:en
  7.73%    4.272      3 - Template:Parameter
  5.16%    2.853      1 - Template:ja
-->
