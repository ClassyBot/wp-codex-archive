<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/update_option" title="Function Reference/update option">English</a> • 
<strong class="selflink">Русский</strong> • 

 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Описание</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"><span class="tocnumber">2</span> <span class="toctext">Использование</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B"><span class="tocnumber">3</span> <span class="toctext">Параметры</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.D0.97.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">4</span> <span class="toctext">Значения</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"><span class="tocnumber">5</span> <span class="toctext">Примеры</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.A1.D1.85.D0.BE.D0.B6.D0.B5.D0.B5"><span class="tocnumber">6</span> <span class="toctext">Схожее</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5">Описание</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit&amp;section=1" title="Edit section: Описание">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Используйте функцию <strong class="selflink">update_option</strong> чтобы обновить именованную пару опция/значение в таблице options в базе данных. Значение option_name обрабатывается при помощи <tt>$wpdb-&gt;escape</tt> до INSERT запроса.
</p><p>Эта фунцкия может использована вместо <a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/add_option" title="Справочник по функциям/add option">add_option</a>, хотя это не так гибко. update_option проверяет существует опция или нет. Если нет, то она будет добавлена при помощи add_option('название_опции', 'значение_опции'). Если вам не надо указывать дополнительные аргументы к функции add_option, то функция update_option() будет полезна как для добавления, так и для обновления опций.
</p><p><b>Примечание:</b> Эта функция не может быть использована, чтобы изменить какую-либо опцию загруженную или нет с <tt>wp_load_alloptions</tt>. В этом случае <a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_option" title="Справочник по функциям/delete option">delete_option</a> должна следовать до использования функции <strong class="selflink">update_option</strong>.
</p>
<h2><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5">Использование</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit&amp;section=2" title="Edit section: Использование">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;update_option</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$option_name</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$newvalue&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B">Параметры</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit&amp;section=3" title="Edit section: Параметры">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>option_name</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Название опции для обновления. Список верных опций по умолчанию может быть найден в <a href="https://codex.wordpress.org/Option_Reference" title="Option Reference">Справочнике по опциям</a>.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>newvalue</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) НОВОЕ значение для опции с этим именем. Это значение может строкой, массивом, объектом или сериализованным значением.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h2><span class="mw-headline" id=".D0.97.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F">Значения</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit&amp;section=4" title="Edit section: Значения">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Смотрите <a href="https://codex.wordpress.org/Option_Reference" title="Option Reference">Справочник по опциям</a>
</p>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B">Примеры</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit&amp;section=5" title="Edit section: Примеры">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Исходный код из бекэнда: <a rel="nofollow" class="external free" href="http://phpxref.com/xref/wordpress/wp-admin/options.php.source.html">http://phpxref.com/xref/wordpress/wp-admin/options.php.source.html</a>
</p><p>Обновляем опцию с названием myhack_extraction_length значением 255. Если опция не существует, то используем add_option и устанавливаем автозагрузку (autoload) в нет (no).
</p><p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$option_name&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #DD0000">'myhack_extraction_length'&#160;</span><span style="color: #007700">;&#160;<br /></span><span style="color: #0000BB">$newvalue&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #DD0000">'255'&#160;</span><span style="color: #007700">;<br />&#160;&#160;if&#160;(&#160;</span><span style="color: #0000BB">get_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$option_name</span><span style="color: #007700">)&#160;)&#160;{<br />&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">update_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$option_name</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$newvalue</span><span style="color: #007700">);<br />&#160;&#160;}&#160;else&#160;{<br />&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$deprecated</span><span style="color: #007700">=</span><span style="color: #DD0000">'&#160;'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$autoload</span><span style="color: #007700">=</span><span style="color: #DD0000">'no'</span><span style="color: #007700">;<br />&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">add_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$option_name</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$newvalue</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$deprecated</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$autoload</span><span style="color: #007700">);<br />&#160;&#160;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id=".D0.A1.D1.85.D0.BE.D0.B6.D0.B5.D0.B5">Схожее</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit&amp;section=6" title="Edit section: Схожее">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/get_option" title="Справочник по функциям/get option">get_option</a>, 
<a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/add_option" title="Справочник по функциям/add option">add_option</a>, 
<strong class="selflink">update_option</strong>, 
<a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/delete_option" title="Справочник по функциям/delete option">delete_option</a>
</p>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">См. также содержание <a href="https://codex.wordpress.org/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC" title="Справочник по функциям">справочника по функциям</a> и список <a href="https://codex.wordpress.org/%D0%A2%D0%B5%D0%B3%D0%B8_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2" title="Теги шаблонов">тегов шаблонов</a>.</div>
<div style="background-color:#EEEEFF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This article is <a href="https://codex.wordpress.org/Category:Copyedits" title="Category:Copyedits" class="mw-redirect">marked</a> as in need of editing. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%87%D0%BD%D0%B8%D0%BA_%D0%BF%D0%BE_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%D0%BC/update_option&amp;action=edit">editing it</a></b>.</div>

<!-- 
NewPP limit report
Cached time: 20190429054929
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.331 seconds
Preprocessor visited node count: 167/1000000
Preprocessor generated node count: 563/1000000
Post‐expand include size: 3528/2097152 bytes
Template argument size: 1268/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  134.079      1 - -total
 46.37%   62.168      1 - Template:Languages
 33.46%   44.861      1 - Template:ru:Tag_Footer
 23.50%   31.515      1 - Template:ru
 21.58%   28.930      1 - Template:en
 16.63%   22.292      1 - Template:Copyedit
  1.74%    2.339      2 - Template:Message
  1.42%    1.906      2 - Template:Parameter
  0.98%    1.318      1 - Template:Теги_опций
-->
