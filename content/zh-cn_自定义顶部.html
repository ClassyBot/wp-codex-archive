<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Custom_Headers" title="Custom Headers">English</a> • 
<a href="https://codex.wordpress.org/hr:Prilagodljiva_Zaglavlja" title="hr:Prilagodljiva Zaglavlja">Hrvatski</a> • 
<a href="https://codex.wordpress.org/%D0%9F%D0%B5%D1%80%D1%81%D0%BE%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%A8%D0%B0%D0%BF%D0%BA%D0%B8" title="Персонализация Шапки">Русский</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Custom">Headers 日本語</a> 
<a href="https://codex.wordpress.org/pt-br:Cabe%C3%A7alhos_Personalizados" title="pt-br:Cabeçalhos Personalizados">Português do Brasil</a> • 

<strong class="selflink">中文(简体)</strong> • 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">本文已被<a href="https://codex.wordpress.org/Category:zh-cn:Stubs" title="Category:zh-cn:Stubs">标记</a>为未完成状态。您可以将其<b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit">补充或翻译完整</a></b>，以此<a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">帮助</a>完善 Codex。</div>
<p><b>自定义顶部</b>是个 <a href="/index.php?title=zh-cn:2.1_%E7%89%88%E6%9C%AC&amp;action=edit&amp;redlink=1" class="new" title="zh-cn:2.1 版本 (page does not exist)">2.1 版本</a>中新引入的<a href="https://codex.wordpress.org/zh-cn:%E4%B8%BB%E9%A2%98%E7%89%B9%E6%80%A7" title="zh-cn:主题特性">主题特性</a>.
自定义顶部是在主题的顶部标题部分显示一个被选择的图像.
</p><p>参见 <a href="https://codex.wordpress.org/zh-cn:%E5%A4%96%E8%A7%82_%E9%A1%B6%E9%83%A8%E9%A1%B5%E9%9D%A2" title="zh-cn:外观 顶部页面">外观 顶部页面</a>.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E6.B7.BB.E5.8A.A0.E4.B8.BB.E9.A2.98.E6.94.AF.E6.8C.81"><span class="tocnumber">1</span> <span class="toctext">添加主题支持</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E8.8C.83.E4.BE.8B"><span class="tocnumber">2</span> <span class="toctext">范例</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#.E8.AE.BE.E7.BD.AE.E8.87.AA.E5.AE.9A.E4.B9.89.E9.A1.B6.E9.83.A8.E5.9B.BE.E5.83.8F"><span class="tocnumber">2.1</span> <span class="toctext">设置自定义顶部图像</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.E4.B8.8A.E4.BC.A0.E5.85.B6.E4.BB.96.E8.87.AA.E5.AE.9A.E4.B9.89.E9.A1.B6.E9.83.A8.E5.9B.BE.E5.83.8F"><span class="tocnumber">2.2</span> <span class="toctext">上传其他自定义顶部图像</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Use_flexible_headers"><span class="tocnumber">2.3</span> <span class="toctext">Use flexible headers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#.E7.9B.B8.E5.85.B3"><span class="tocnumber">3</span> <span class="toctext">相关</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".E6.B7.BB.E5.8A.A0.E4.B8.BB.E9.A2.98.E6.94.AF.E6.8C.81">添加主题支持</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit&amp;section=1" title="Edit section: 添加主题支持">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>从 <a href="https://codex.wordpress.org/zh-cn:3.4_%E7%89%88%E6%9C%AC" title="zh-cn:3.4 版本">3.4 版本</a> 开始, 主题必须在 <a href="https://codex.wordpress.org/zh-cn:%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91#.E5.87.BD.E6.95.B0.E6.96.87.E4.BB.B6" title="zh-cn:主题开发">functions.php</a> 文件里使用 <a href="https://codex.wordpress.org/zh-cn:%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83/add_theme_support" title="zh-cn:函数参考/add theme support">add_theme_support()</a> 函数来添加自定义顶部的支持, 像这样:
</p>
<pre>add_theme_support( 'custom-header' );</pre>
<p>请注意您可以添加的默认参数列表:
</p>
<pre>
$defaults = array(
	'default-image'          =&gt; '',     //默认图像
	'random-default'         =&gt; false,  //是否默认随机
	'width'                  =&gt; 0,      //宽度
	'height'                 =&gt; 0,      //高度
	'flex-height'            =&gt; false,
	'flex-width'             =&gt; false,
	'default-text-color'     =&gt; '',     //默认文本颜色
	'header-text'            =&gt; true,   //顶部文本开关
	'uploads'                =&gt; true,   //是否允许上传
	'wp-head-callback'       =&gt; '',
	'admin-head-callback'    =&gt; '',
	'admin-preview-callback' =&gt; '',
);
add_theme_support( 'custom-header', $defaults );
</pre>
<h2><span class="mw-headline" id=".E8.8C.83.E4.BE.8B">范例</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit&amp;section=2" title="Edit section: 范例">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".E8.AE.BE.E7.BD.AE.E8.87.AA.E5.AE.9A.E4.B9.89.E9.A1.B6.E9.83.A8.E5.9B.BE.E5.83.8F">设置自定义顶部图像</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit&amp;section=3" title="Edit section: 设置自定义顶部图像">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>设置一个默认顶部图像(宽980px和高60px)：
</p>
<pre>
$args = array(
	'width'         =&gt; 980,
	'height'        =&gt; 60,
	'default-image' =&gt; get_template_directory_uri() . '/images/header.jpg',
);
add_theme_support( 'custom-header', $args );
</pre>
<h3><span class="mw-headline" id=".E4.B8.8A.E4.BC.A0.E5.85.B6.E4.BB.96.E8.87.AA.E5.AE.9A.E4.B9.89.E9.A1.B6.E9.83.A8.E5.9B.BE.E5.83.8F">上传其他自定义顶部图像</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit&amp;section=4" title="Edit section: 上传其他自定义顶部图像">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>设置一个默认顶部图像，并允许网站所有者上传其他图片:
</p>
<pre>
$args = array(
	'width'         =&gt; 980,
	'height'        =&gt; 60,
	'default-image' =&gt; get_template_directory_uri() . '/images/header.jpg',
	'uploads'       =&gt; true,
);
add_theme_support( 'custom-header', $args );
</pre>
<h3><span class="mw-headline" id="Use_flexible_headers">Use flexible headers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit&amp;section=5" title="Edit section: Use flexible headers">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Set flexible headers:
</p>
<pre>
$args = array(
	'flex-width'    =&gt; true,
	'width'         =&gt; 980,
	'flex-width'    =&gt; true,
	'height'        =&gt; 200,
	'default-image' =&gt; get_template_directory_uri() . '/images/header.jpg',
);
add_theme_support( 'custom-header', $args );
</pre>
<p>更新你的 header.php 文件:
</p>
<pre>
&lt;img src="&lt;?php header_image();&#160;?&gt;" height="&lt;?php echo get_custom_header()-&gt;height;&#160;?&gt;" width="&lt;?php echo get_custom_header()-&gt;width;&#160;?&gt;" alt="" /&gt;
</pre>
<h2><span class="mw-headline" id=".E7.9B.B8.E5.85.B3">相关</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=zh-cn:%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8&amp;action=edit&amp;section=6" title="Edit section: 相关">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="https://codex.wordpress.org/Theme_Features" title="Theme Features"><b>Theme Support</b></a>: 
<a href="https://codex.wordpress.org/Function_Reference/add_theme_support" title="Function Reference/add theme support"> add_theme_support()</a>,
<a href="https://codex.wordpress.org/Function_Reference/remove_theme_support" title="Function Reference/remove theme support"> remove_theme_support()</a>,
<a href="https://codex.wordpress.org/Function_Reference/current_theme_supports" title="Function Reference/current theme supports"> current_theme_supports()</a>
<br />
<a href="https://codex.wordpress.org/Theme_Features" title="Theme Features"><b>Theme Features</b></a>: 
<a href="https://codex.wordpress.org/Sidebars" title="Sidebars">sidebar</a>, 
<a href="https://codex.wordpress.org/Navigation_Menus" title="Navigation Menus">menus</a>, 
<a href="https://codex.wordpress.org/Post_Formats" title="Post Formats">post-formats</a>, 
<a href="https://codex.wordpress.org/Title_Tag" title="Title Tag">title-tag</a>, 
<a href="https://codex.wordpress.org/Custom_Backgrounds" title="Custom Backgrounds">custom-background</a>, 
<a href="https://codex.wordpress.org/Custom_Headers" title="Custom Headers">custom-header</a>, 
<a href="https://codex.wordpress.org/Theme_Logo" title="Theme Logo">custom-logo</a>, 
<a href="https://codex.wordpress.org/Post_Thumbnails" title="Post Thumbnails">post-thumbnails</a>, 
<a href="https://codex.wordpress.org/Automatic_Feed_Links" title="Automatic Feed Links">automatic-feed-links</a>, 
<a href="https://codex.wordpress.org/Theme_Markup" title="Theme Markup">html5</a>, 
<a href="https://codex.wordpress.org/Editor_Style" title="Editor Style">editor-style</a>, 
<a href="https://codex.wordpress.org/Content_Width" title="Content Width">content_width</a>
</p>
<!-- 
NewPP limit report
Cached time: 20190429054905
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.020 seconds
Real time usage: 0.030 seconds
Preprocessor visited node count: 147/1000000
Preprocessor generated node count: 623/1000000
Post‐expand include size: 2661/2097152 bytes
Template argument size: 726/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.452      1 - -total
 66.92%    9.002      1 - Template:Languages
 20.50%    2.757      1 - Template:zh-cn:Stub
 10.78%    1.450      1 - Template:Message
  9.57%    1.288      1 - Template:hr
  9.44%    1.270      1 - Template:ja
  8.95%    1.204      1 - Template:ru
  8.91%    1.198      1 - Template:pt-br
  8.72%    1.173      1 - Template:en
  8.69%    1.169      1 - Template:zh-cn
-->
