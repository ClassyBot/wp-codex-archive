<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Arguments"><span class="tocnumber">3.1</span> <span class="toctext">Arguments</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Add_a_Page_to_the_Toolbar"><span class="tocnumber">4.1</span> <span class="toctext">Add a Page to the Toolbar</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Make_an_Existing_Child_Node_a_Parent_Node"><span class="tocnumber">4.2</span> <span class="toctext">Make an Existing Child Node a Parent Node</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Single_function_to_add_parent.2Fchild_sub_menu_items"><span class="tocnumber">4.3</span> <span class="toctext">Single function to add parent/child sub menu items</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Sorting_The_Links_on_the_Admin_Menu_Bar"><span class="tocnumber">4.4</span> <span class="toctext">Sorting The Links on the Admin Menu Bar</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Change_Log"><span class="tocnumber">5</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Source_File"><span class="tocnumber">6</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Related"><span class="tocnumber">7</span> <span class="toctext">Related</span></a>
<ul>
<li class="toclevel-2"><a href="#Toolbar_API"><span class="tocnumber">7.1</span> <span class="toctext">Toolbar API</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This function is a method of the <tt>$wp_admin_bar</tt> global object (see: <a href="https://codex.wordpress.org/Class_Reference/WP_Admin_Bar" title="Class Reference/WP Admin Bar">WP_Admin_Bar</a>), and can be used to add a new item to the <a href="https://codex.wordpress.org/Glossary#Toolbar" title="Glossary">Toolbar</a>. You can also use it to change the properties of an item that is already in the Toolbar.
</p><p>The Toolbar replaces the <a href="https://codex.wordpress.org/Glossary#Admin_Bar" title="Glossary">Admin Bar</a> since WordPress <a href="https://codex.wordpress.org/Version_3.3" title="Version 3.3">Version 3.3</a>.
</p><p>Toolbar items are also called "nodes". Nodes can be parents for other nodes, which creates dropdown menus. Group nodes together with <a href="https://codex.wordpress.org/Function_Reference/add_group" title="Function Reference/add group">add_group()</a> to create distinct sections in a Toolbar menu.
</p><p><b>Note</b>: This function is a method of the <a href="https://codex.wordpress.org/Class_Reference/WP_Admin_Bar" title="Class Reference/WP Admin Bar">WP_Admin_Bar</a> class and <tt>$wp_admin_bar</tt> global object, which may not exist except during the <a href="/index.php?title=Plugin_API/Action_Reference/admin_bar_menu&amp;action=edit&amp;redlink=1" class="new" title="Plugin API/Action Reference/admin bar menu (page does not exist)">'admin_bar_menu'</a> or <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/wp_before_admin_bar_render" title="Plugin API/Action Reference/wp before admin bar render">'wp_before_admin_bar_render'</a> hooks.
</p><p><b>Note</b>: <a href="https://codex.wordpress.org/Function_Reference/add_menu" title="Function Reference/add menu" class="mw-redirect">add_menu</a> is an alias for this method.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;$wp_admin_bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add_node</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$args&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>required</i>) An array of arguments.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<h3><span class="mw-headline" id="Arguments">Arguments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=4" title="Edit section: Arguments">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt> <tt>id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The ID of the node.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>title</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The text that will be visible in the Toolbar. Including html tags is allowed.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>parent</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The ID of the parent node.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>href</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The 'href' attribute for the link. If 'href' is not set the node will be a text node.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>group</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Boolean" title="How to Pass Tag Parameters"><i>boolean</i></a>) (<i>optional</i>) This will make the node a group (node) if set to 'true'. Group nodes are not visible in the Toolbar, but nodes added to it are. See <a href="https://codex.wordpress.org/Function_Reference/add_group" title="Function Reference/add group">add_group()</a>.
<dl><dd> Default: false</dd></dl></dd></dl>
<dl><dt> <tt>meta</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of meta data for the node.
<dl><dd> Default: array()</dd></dl></dd></dl>
<dl><dd><ul><li> 'html' - The html used for the node.</li>
<li> 'class' - The class attribute for the list item containing the link or text node.</li>
<li> 'rel' - The rel attribute.</li>
<li> 'onclick' - The onclick attribute for the link. This will only be set if the 'href' argument is present.</li>
<li> 'target' - The target attribute for the link. This will only be set if the 'href' argument is present.</li>
<li> 'title' - The title attribute. Will be set to the link or to a div containing a text node.</li>
<li> 'tabindex' - The tabindex attribute. Will be set to the link or to a div containing a text node.</li></ul></dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=5" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Add_a_Page_to_the_Toolbar">Add a Page to the Toolbar</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=6" title="Edit section: Add a Page to the Toolbar">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This example will add a Page with a "my-toolbar-page" class to the Toolbar. It will be a top level item because the 'parent' argument is not set (it has no parent node). Put this in your theme's <a href="https://codex.wordpress.org/Functions_File_Explained" title="Functions File Explained">functions.php</a> file.
</p>
<pre>
add_action( 'admin_bar_menu', 'toolbar_link_to_mypage', 999 );

function toolbar_link_to_mypage( $wp_admin_bar ) {
	$args = array(
		'id'    =&gt; 'my_page',
		'title' =&gt; 'My Page',
		'href'  =&gt; 'http://mysite.com/my-page/',
		'meta'  =&gt; array( 'class' =&gt; 'my-toolbar-page' )
	);
	$wp_admin_bar-&gt;add_node( $args );
}
</pre>
<h3><span class="mw-headline" id="Make_an_Existing_Child_Node_a_Parent_Node">Make an Existing Child Node a Parent Node</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=7" title="Edit section: Make an Existing Child Node a Parent Node">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This example will change the properties of an existing node by using the ID of that node. See <a href="https://codex.wordpress.org/Function_Reference/get_node#Finding_Toolbar_Node_ID.27s" title="Function Reference/get node">Finding Toolbar Node ID's</a> on how to find existing node ID's. The following code will make the child node with ID "new-post" (New &gt; <b>Post</b>) a parent node.
</p>
<pre>
add_action( 'admin_bar_menu', 'make_parent_node', 999 );

function make_parent_node( $wp_admin_bar ) {
	$args = array(
		'id'     =&gt; 'new-post',     // id of the existing child node (New &gt; Post)
		'title'  =&gt; 'Add New Post', // alter the title of existing node
		'parent' =&gt; false,          // set parent to false to make it a top level (parent) node
	);
	$wp_admin_bar-&gt;add_node( $args );
}
</pre>
<h3><span class="mw-headline" id="Single_function_to_add_parent.2Fchild_sub_menu_items">Single function to add parent/child sub menu items</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=8" title="Edit section: Single function to add parent/child sub menu items">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is how to add a parent or sub menu item with one function.
</p>
<pre>
add_action('wp_before_admin_bar_render', 'baw_admin_bar_render', 100);

/**
 * Adds admin bar items for easy access to the theme creator and editor
 */
function baw_admin_bar_render() {
    baw_admin_bar_render_item('BAW'); // Parent item
    baw_admin_bar_render_item('BAW Sub1', 'some_link_to_the_settings', 'BAW');
    baw_admin_bar_render_item('BAW Sub2', 'some_link_to_the_settings', 'BAW');
}

/**
 * Adds menu parent or submenu item.
 * @param string $name the label of the menu item
 * @param string $href the link to the item (settings page or ext site)
 * @param string $parent Parent label (if creating a submenu item)
 *
 * @return void
 * */
function baw_admin_bar_render_item( $name, $href = '', $parent = '', $custom_meta = array() ) {
    global $wp_admin_bar;

	if (&#160;! is_super_admin()
		 ||&#160;! is_object( $wp_admin_bar ) 
		 ||&#160;! function_exists( 'is_admin_bar_showing' ) 
		 ||&#160;! is_admin_bar_showing() ) {
		return;
	}

    // Generate ID based on the current filename and the name supplied.
    $id = sanitize_key( basename(__FILE__, '.php' ) . '-' . $name );

    // Generate the ID of the parent.
    $parent = sanitize_key( basename(__FILE__, '.php' ) . '-' . $parent );

    // links from the current host will open in the current window

    $meta = strpos( $href, site_url() )&#160;!== false&#160;? array()&#160;: array( 'target' =&gt; '_blank' ); // external links open in new tab/window
    $meta = array_merge( $meta, $custom_meta );

    $wp_admin_bar-&gt;add_node( array(
        'parent' =&gt; $parent,
        'id' =&gt; $id,
        'title' =&gt; $name,
        'href' =&gt; $href,
        'meta' =&gt; $meta,
    ) );
}
</pre>
<h3><span class="mw-headline" id="Sorting_The_Links_on_the_Admin_Menu_Bar">Sorting The Links on the Admin Menu Bar</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=9" title="Edit section: Sorting The Links on the Admin Menu Bar">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Use further array functions in PHP to sort the admin menu items with the following code.
</p><p><b>Problem</b>:
Since the basic code for admin bar links is to create a separate $args variable for each array, sorting the links could be a lot of work cutting and pasting code around when you need to sort the links.
</p><p><b>Solution</b>:
The following code does the following:
1. adds each $args into a separate element of the same $args by using PHP's array_push() function
2. Each $args element is a multi-dimensional array that can be sorted
3. Use PHP's sort function to sort them.
4. Traverse a for loop.
</p>
<pre>

add_action( 'admin_bar_menu', 'social_media_links', 900 );
function social_media_links($wp_admin_bar)
{

	$args = array(
		'id'     =&gt; 'social_media',
		'title'	=&gt;	'Social Media',
		'meta'   =&gt; array( 'class' =&gt; 'first-toolbar-group' ),
	);
	$wp_admin_bar-&gt;add_node( $args );	

	// add child items
	$args = array();
	array_push($args,array(
		'id'		=&gt;	'twitter',
		'title'		=&gt;	'Twitter',
		'href'		=&gt;	'http://www.twitter.com',
		'parent'	=&gt;	'social_media',
	));

	array_push($args,array(
		'id'     	=&gt; 'youtube',
		'title'		=&gt;	'YouTube',
		'href'		=&gt;	'http://www.YouTube.com',
		'parent' 	=&gt; 'social_media',
		'meta'   	=&gt; array( 'class' =&gt; 'first-toolbar-group' ),
	));
	array_push($args,array(
		'id'		=&gt;	'fb',
		'title'		=&gt;	'Facebook',
		'href'		=&gt;	'http://www.facebook.com',
		'parent'	=&gt;	'social_media',
	));

	sort($args);
	foreach( $args as $each_arg)	{
		$wp_admin_bar-&gt;add_node($each_arg);
	}

			
	
} 
</pre>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=10" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=11" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>add_node()</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.0.3/src/wp-includes/class-wp-admin-bar.php#L0">wp-includes/class-wp-admin-bar.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Admin_Bar/add_node&amp;action=edit&amp;section=12" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h4><span class="mw-headline" id="Toolbar_API">Toolbar API</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Template:Toolbar_Tags&amp;action=edit&amp;section=T-1" title="Template:Toolbar Tags">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li> Article: <a href="https://codex.wordpress.org/Toolbar" title="Toolbar">The WordPress Toolbar</a></li>
<li> Class: <a href="https://codex.wordpress.org/Class_Reference/WP_Admin_Bar" title="Class Reference/WP Admin Bar">WP_Admin_Bar</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/add_node" title="Function Reference/add node" class="mw-redirect">add_node()</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/remove_node" title="Function Reference/remove node">remove_node()</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/add_menu" title="Function Reference/add menu" class="mw-redirect">add_menu()</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/remove_menu" title="Function Reference/remove menu">remove_menu()</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/add_group" title="Function Reference/add group">add_group()</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/get_node" title="Function Reference/get node">get_node()</a></li>
<li> Function: <a href="https://codex.wordpress.org/Function_Reference/get_nodes" title="Function Reference/get nodes">get_nodes()</a></li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190211003737
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.020 seconds
Real time usage: 0.026 seconds
Preprocessor visited node count: 231/1000000
Preprocessor generated node count: 735/1000000
Post‐expand include size: 2441/2097152 bytes
Template argument size: 828/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    9.207      1 - -total
 30.78%    2.834      7 - Template:Parameter
 23.17%    2.133      1 - Template:Trac
 23.13%    2.130      1 - Template:Tag_Footer
 12.26%    1.129      1 - Template:Message
 11.38%    1.048      1 - Template:Toolbar_Tags
  8.93%    0.822      1 - Template:CurrentVersion
-->
