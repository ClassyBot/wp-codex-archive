<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/it:Riferimento_classi/WP_Error" title="it:Riferimento classi/WP Error">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/クラスリファレンス/WP_Error">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Error_Codes"><span class="tocnumber">1.1</span> <span class="toctext">Error Codes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Methods_and_Properties"><span class="tocnumber">2</span> <span class="toctext">Methods and Properties</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Properties"><span class="tocnumber">2.1</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Methods"><span class="tocnumber">2.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Example"><span class="tocnumber">2.3</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Source"><span class="tocnumber">3</span> <span class="toctext">Source</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Change_Log"><span class="tocnumber">4</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related"><span class="tocnumber">5</span> <span class="toctext">Related</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Resources"><span class="tocnumber">6</span> <span class="toctext">Resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>WP_Error</tt> is a class that makes error handling within plugins and WordPress itself much easier.
</p><p>Instances of <tt>WP_Error</tt> store error codes and messages representing one or more errors, and whether or not a variable is an instance of <tt>WP_Error</tt> can be determined using the <tt><a href="https://codex.wordpress.org/Function_Reference/is_wp_error" title="Function Reference/is wp error"> is_wp_error()</a></tt> function.
</p>
<h3><span class="mw-headline" id="Error_Codes">Error Codes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=2" title="Edit section: Error Codes">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Error codes are slugs that are used to identify each error. They are mostly useful when a piece of code can produce several different errors, and you want to handle each of those errors differently.
</p><p>The error codes used in WordPress are not integers, but strings, with any spaces between words replaced with underscores (example: <tt>an_error_code</tt>). The error codes used in WordPress are usually based on the error message associated with that code.
</p>
<h2><span class="mw-headline" id="Methods_and_Properties">Methods and Properties</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=3" title="Edit section: Methods and Properties">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Properties">Properties</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=4" title="Edit section: Properties">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>	<tt>$errors</tt></dt>
<dd>		Array containing the list of errors.</dd>
<dt>	<tt>$error_data</tt></dt>
<dd>		Array containing the list of data for error codes.</dd></dl>
<p><b>Note:</b> Since 4.0, these properties are private, see <a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/changeset/28511">[28511]</a>. Then were then made public again in <a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/changeset/31138">[31138]</a>.
</p>
<h3><span class="mw-headline" id="Methods">Methods</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=5" title="Edit section: Methods">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>	<tt>__construct( $code = '', $message = '', $data = '' )</tt></dt>
<dd>		Sets up the error message. All parameters are optional, and if the <tt>$code</tt> parameter is empty, the other parameters will be ignored. When you pass a value for the  <tt>$code</tt> parameter, the <tt>$message</tt> will be added for that code, even if you did not pass a value for <tt>$message</tt> (but <tt>$data</tt> will be used only when you pass a value for <tt>$data</tt>). It is possible to add multiple messages to the same code by using other methods in the class.</dd></dl>
<dl><dt>	<tt>get_error_codes()</tt></dt>
<dd>		Retrieve all error codes. Access public, returns array List of error codes, if available.</dd></dl>
<dl><dt>	<tt>get_error_code()</tt></dt>
<dd>		Retrieve first error code available. Access public, returns string, int or Empty if there is no error codes</dd></dl>
<dl><dt>	<tt>get_error_messages($code)</tt></dt>
<dd>		Retrieve all error messages or error messages matching code. Access public, returns an array of error strings on success, or empty array on failure (if using code parameter)</dd></dl>
<dl><dt>	<tt>get_error_message($code)</tt></dt>
<dd>		Get single error message. This will get the first message available for the code. If no code is given then the first code available will be used. Returns an error string.</dd></dl>
<dl><dt>	<tt>get_error_data($code)</tt></dt>
<dd>		Retrieve error data for error code. Returns mixed or null, if no errors.</dd></dl>
<dl><dt>	<tt>add($code, $message, $data)</tt></dt>
<dd>		Append more error messages to list of error messages. No return.</dd></dl>
<dl><dt>	<tt>add_data($data, $code)</tt></dt>
<dd>		Add data for error code. The error code can only contain one error data. No return.</dd></dl>
<dl><dt>	<tt>remove($code)</tt></dt>
<dd>		Remove any messages and data associated with an error code. No return.</dd></dl>
<h3><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=6" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>function doer_of_stuff() {
    return new WP_Error( 'broke', __( "I've fallen and can't get up", "my_textdomain" ) );
}

$return = doer_of_stuff();
if( is_wp_error( $return ) ) {
    echo $return-&gt;get_error_message();
}
</pre>
<h2><span class="mw-headline" id="Source">Source</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=7" title="Edit section: Source">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>WP_Error</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-includes/class-wp-error.php#L0">wp-includes/class-wp-error.php</a></code>
</p>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=8" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> In <a href="https://codex.wordpress.org/Version_4.2" title="Version 4.2"> 4.2.0</a>: Errors and data arrays public again; magic methods removed (see <a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/ticket/30891">Trac ticket #30891</a>)</li>
<li> In <a href="https://codex.wordpress.org/Version_4.1" title="Version 4.1"> 4.1.0</a>: Added <tt>remove()</tt> method.</li>
<li> In <a href="https://codex.wordpress.org/Version_4.0" title="Version 4.0"> 4.0.0</a>: Errors and data arrays became private, added magic access methods for backwards compatibility.</li>
<li> Introduced in <a href="https://codex.wordpress.org/Version_2.1" title="Version 2.1"> 2.1.0</a></li></ul>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=9" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> see <a href="https://codex.wordpress.org/Function_Reference/is_wp_error" title="Function Reference/is wp error">is_wp_error()</a> for more information on trapping for errors (particularly useful when faced with the dreaded 'Catchable fatal error: Object of class WP_Error could not be converted to string')</li></ul>
<h2><span class="mw-headline" id="Resources">Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_Error&amp;action=edit&amp;section=10" title="Edit section: Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="http://code.tutsplus.com/tutorials/wordpress-error-handling-with-wp_error-class-i--cms-21120">WordPress Error Handling with WP_Error Class</a></li></ul>
<div style="background-color:#DFDFDF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Class_Reference" title="Class Reference">Class Reference</a> and index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190429052942
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.025 seconds
Preprocessor visited node count: 137/1000000
Preprocessor generated node count: 476/1000000
Post‐expand include size: 1323/2097152 bytes
Template argument size: 443/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    9.639      1 - -total
 51.13%    4.929      1 - Template:Languages
 22.75%    2.193      1 - Template:Trac
 21.05%    2.029      1 - Template:Class_Footer
 12.06%    1.162      1 - Template:it
 11.71%    1.129      1 - Template:en
 11.33%    1.092      1 - Template:ja
 11.00%    1.060      1 - Template:Message
  8.46%    0.816      1 - Template:CurrentVersion
-->
