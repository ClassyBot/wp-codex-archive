<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/クラスリファレンス/WP_User">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Constructor"><span class="tocnumber">3</span> <span class="toctext">Constructor</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Public_Properties"><span class="tocnumber">4</span> <span class="toctext">Public Properties</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Magic_Methods"><span class="tocnumber">5</span> <span class="toctext">Magic Methods</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#get.28_.24key_.29"><span class="tocnumber">5.1</span> <span class="toctext">__get( $key )</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#isset.28_.24key_.29"><span class="tocnumber">5.2</span> <span class="toctext">__isset( $key )</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#set.28_.24key.2C_.24value_.29"><span class="tocnumber">5.3</span> <span class="toctext">__set( $key, $value )</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Public_Methods"><span class="tocnumber">6</span> <span class="toctext">Public Methods</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#exists.28.29"><span class="tocnumber">6.1</span> <span class="toctext">exists()</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#get.28_.24key_.29_2"><span class="tocnumber">6.2</span> <span class="toctext">get( $key )</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#has_prop.28_.24key_.29"><span class="tocnumber">6.3</span> <span class="toctext">has_prop( $key )</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#get_role_caps.28.29"><span class="tocnumber">6.4</span> <span class="toctext">get_role_caps()</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#add_role.28_.24role_.29"><span class="tocnumber">6.5</span> <span class="toctext">add_role( $role )</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#remove_role.28.24role.29"><span class="tocnumber">6.6</span> <span class="toctext">remove_role($role)</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#set_role.28.24role.29"><span class="tocnumber">6.7</span> <span class="toctext">set_role($role)</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#add_cap.28.24cap_.5B.2C_.24grant_.5D_.29"><span class="tocnumber">6.8</span> <span class="toctext">add_cap($cap [, $grant ] )</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#remove_cap.28.24cap.29"><span class="tocnumber">6.9</span> <span class="toctext">remove_cap($cap)</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#remove_all_caps.28.29"><span class="tocnumber">6.10</span> <span class="toctext">remove_all_caps()</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#has_cap.28.24cap.29"><span class="tocnumber">6.11</span> <span class="toctext">has_cap($cap)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Change_Log"><span class="tocnumber">8</span> <span class="toctext">Change Log</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Source_File"><span class="tocnumber">9</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Related"><span class="tocnumber">10</span> <span class="toctext">Related</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#External_Links"><span class="tocnumber">11</span> <span class="toctext">External Links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The WordPress User Class allows accessing properties, roles and capabilities of a specific user.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To instantiate a specific user, you may use the class constructor&#160;:
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;$users&#160;</span><span style="color: #007700">=&#160;new&#160;</span><span style="color: #0000BB">WP_User</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$id&#160;</span><span style="color: #007700">[,&#160;</span><span style="color: #0000BB">$name&#160;</span><span style="color: #007700">[,&#160;</span><span style="color: #0000BB">$blog_id&#160;</span><span style="color: #007700">]&#160;]&#160;);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p><p>You can also use the <tt><a href="https://codex.wordpress.org/Function_Reference/wp_get_current_user" title="Function Reference/wp get current user">wp_get_current_user</a></tt> global function to get a <tt>WP_User</tt> object matching the current logged user.
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;$current_user&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">wp_get_current_user</span><span style="color: #007700">();&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Constructor">Constructor</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=3" title="Edit section: Constructor">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The <tt>WP_User</tt> constructor allows the following parameters&#160;:
</p>
<ul><li> <b><tt>id</tt></b> (<i>int</i>) - the user's id. Leave empty to use login name instead.</li>
<li> <b><tt>name</tt></b> (<i>string</i>) - the user's login name. Ignored if id is set.</li>
<li> <b><tt>blog_id</tt></b> (<i>int</i>) - the blog id on a multisite environment. Defaults to the current blog id.</li></ul>
<p>The semantics seem rather fuzzy.  If id is a WP_User or other object, or an array of properties, it seems to clone it without touching the cache.  Otherwise if id is a number it seems to try to read it possibly from the cache, or from the database using -&gt;get_data_by(), which can also update the cache.  If id is empty it reads by login name.
</p>
<h2><span class="mw-headline" id="Public_Properties">Public Properties</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=4" title="Edit section: Public Properties">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <b><tt>ID</tt></b> (<i>int</i>) - the user's ID.</li>
<li> <b><tt>caps</tt></b> (<i>array</i>) - the individual capabilities the user has been given.</li>
<li> <b><tt>cap_key</tt></b> (<i>string</i>) - </li>
<li> <b><tt>roles</tt></b> (<i>array</i>) - the roles the user is part of.</li>
<li> <b><tt>allcaps</tt></b> (<i>array</i>) - all capabilities the user has, including individual and role based.</li>
<li> <b><tt>first_name</tt></b> (<i>string</i>) - first name of the user.</li>
<li> <b><tt>last_name</tt></b> (<i>string</i>) - last name of the user.</li></ul>
<p><i>Note:</i> If called with the "id" or "name" parameter, the constructor queries the <a href="https://codex.wordpress.org/Database_Description#Table:_wp_users" title="Database Description">wp_users table</a>. If successful, the additional row data become properties of the object: <b>user_login</b>, <b>user_pass</b>, <b>user_nicename</b>, <b>user_email</b>, <b>user_url</b>, <b>user_registered</b>, <b>user_activation_key</b>, <b>user_status</b>, <b>display_name</b>, <b>spam</b> (multisite only), <b>deleted</b> (multisite only).
</p>
<h2><span class="mw-headline" id="Magic_Methods">Magic Methods</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=5" title="Edit section: Magic Methods">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>These are <a rel="nofollow" class="external text" href="http://php.net/manual/en/language.oop5.magic.php">PHP5 magic methods</a> that facilitate <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/language.oop5.overloading.php#language.oop5.overloading.members">property overloading</a>. They don't need to be called directly, but are called automatically when a class property is referenced.
</p>
<h3><span class="mw-headline" id="get.28_.24key_.29"><tt>__get( $key )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=6" title="Edit section: get( $key )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Magic method for accessing custom fields.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>key</tt></b> (<i>string</i>) - property.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> (<i>string</i>) Single value of the property filtered.</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 3.3.0</dd></dl>
<h3><span class="mw-headline" id="isset.28_.24key_.29"><tt>__isset( $key )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=7" title="Edit section: isset( $key )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Determine whether a property or meta key is set from the users and usermeta tables.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>key</tt></b> (<i>string</i>) - property.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> (<i>bool</i>) <tt>true</tt> if user has property, <tt>false</tt> otherwise.</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 3.3.0</dd></dl>
<h3><span class="mw-headline" id="set.28_.24key.2C_.24value_.29"><tt>__set( $key, $value )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=8" title="Edit section: set( $key, $value )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Magic method for setting custom fields.
</p><p>Please note that setting custom fields affects only the current <tt>WP_User</tt> object, and <b>does not</b> set the value in the database. To change the database value use <tt><a href="https://codex.wordpress.org/Function_Reference/wp_update_user" title="Function Reference/wp update user"> wp_update_user()</a></tt> or <tt><a href="https://codex.wordpress.org/Function_Reference/update_user_meta" title="Function Reference/update user meta"> update_user_meta()</a></tt>.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>key</tt></b> (<i>string</i>) - property.</li>
<li> <b><tt>value</tt></b> (<i>string</i>) - value.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> Nothing.</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 3.3.0</dd></dl>
<h2><span class="mw-headline" id="Public_Methods">Public Methods</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=9" title="Edit section: Public Methods">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="exists.28.29"><tt>exists()</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=10" title="Edit section: exists()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Determine whether the user exists in the database.
</p><p>It actually tests <tt>!empty(ID)</tt>, which will normally indicate that the user record was in the database at some stage.  It does not access the database.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> None</dd></dl>
<dl><dt>Returns&#160;</dt>
<dd> (<i>bool</i>) <tt>true</tt> if user exists, <tt>false</tt> otherwise.</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> <a href="https://codex.wordpress.org/Version_3.4" title="Version 3.4">3.4.0</a></dd></dl>
<h3><span class="mw-headline" id="get.28_.24key_.29_2"><tt>get( $key )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=11" title="Edit section: get( $key )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Retrieve the value of a property or meta key from the users and usermeta tables.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>key</tt></b> (<i>string</i>) - property.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> (<i>mixed</i>) String of the property filtered if single value, or array if value is stored as a serialized array</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 3.3.0</dd></dl>
<h3><span class="mw-headline" id="has_prop.28_.24key_.29"><tt>has_prop( $key )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=12" title="Edit section: has prop( $key )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Determine whether a property or meta key is set from the users and usermeta tables.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>key</tt></b> (<i>string</i>) - property.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> (<i>bool</i>) <tt>true</tt> if user has property, <tt>false</tt> otherwise.</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 3.3.0</dd></dl>
<h3><span class="mw-headline" id="get_role_caps.28.29"><tt>get_role_caps()</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=13" title="Edit section: get role caps()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Retrieve all of the role capabilities and merge with individual capabilities.
</p><p>All of the capabilities of the roles the user belongs to are merged with the users individual roles. This also means that the user can be denied specific roles that their role might have, but the specific user isn't granted permission to.
</p><p>Sets the <tt>roles</tt> and <tt>allcaps</tt> properties.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> None</dd></dl>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<h3><span class="mw-headline" id="add_role.28_.24role_.29"><tt>add_role( $role )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=14" title="Edit section: add role( $role )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Add role to user.
</p><p>Updates the user's meta data option with capabilities and roles.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>role</tt></b> (<i>string</i>) - role name.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<h3><span class="mw-headline" id="remove_role.28.24role.29"><tt>remove_role($role)</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=15" title="Edit section: remove role($role)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Remove role from user.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>role</tt></b> (<i>string</i>) - role name.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<h3><span class="mw-headline" id="set_role.28.24role.29"><tt>set_role($role)</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=16" title="Edit section: set role($role)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Set the role of the user.
</p><p>This will remove the previous roles of the user and assign the user the new one. You can set the role to an empty string and it will remove all of the roles from the user.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>role</tt></b> (<i>string</i>) - role name.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<dl><dt>Related actions&#160;</dt>
<dd> * <b><a href="https://codex.wordpress.org/Plugin_API/Action_Reference/set_user_role" title="Plugin API/Action Reference/set user role">set_user_role</a></b></dd></dl>
<h3><span class="mw-headline" id="add_cap.28.24cap_.5B.2C_.24grant_.5D_.29"><tt>add_cap($cap [, $grant ] )</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=17" title="Edit section: add cap($cap [, $grant ] )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Add capability and grant or deny access to capability.
</p>
<dl><dt>Parameters&#160;</dt>
<dd></dd></dl>
<ul><li> <b><tt>cap</tt></b> (<i>string</i>) - capability name.</li>
<li> <b><tt>grant</tt></b> (<i>bool</i>) - whether to grant capability to user. Default to <tt>true</tt>.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<h3><span class="mw-headline" id="remove_cap.28.24cap.29"><tt>remove_cap($cap)</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=18" title="Edit section: remove cap($cap)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Remove capability from user.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>cap</tt></b> (<i>string</i>) - capability name.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<h3><span class="mw-headline" id="remove_all_caps.28.29"><tt>remove_all_caps()</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=19" title="Edit section: remove all caps()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Remove all of the capabilities of the user.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> None</dd></dl>
<dl><dt>Returns&#160;</dt>
<dd> Nothing</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.1.0</dd></dl>
<h3><span class="mw-headline" id="has_cap.28.24cap.29"><tt>has_cap($cap)</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=20" title="Edit section: has cap($cap)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Whether user has capability or role name.
</p>
<dl><dt>Parameters&#160;</dt>
<dd> </dd></dl>
<ul><li> <b><tt>cap</tt></b> (<i>string</i>) - capability or role name to search.</li></ul>
<dl><dt>Returns&#160;</dt>
<dd> (<i>bool</i>) <tt>true</tt> if user has capability, <tt>false</tt> if they do not have the capability.</dd></dl>
<dl><dt>Since&#160;</dt>
<dd> 2.0.0</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=21" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Checking if the current user can edit user profiles&#160;:
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&#160;&#160;&#160;&#160;$cu&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">wp_get_current_user</span><span style="color: #007700">();<br />&#160;&#160;&#160;&#160;if&#160;(</span><span style="color: #0000BB">$cu</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">has_cap</span><span style="color: #007700">(</span><span style="color: #DD0000">'edit_users'</span><span style="color: #007700">))&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//&#160;do&#160;something<br />&#160;&#160;&#160;&#160;</span><span style="color: #007700">}&#160;&#160;&#160;&#160;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p><p>Check if user exists:
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&#160;&#160;&#160;&#160;$user&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">wp_get_current_user</span><span style="color: #007700">();<br />&#160;&#160;&#160;&#160;if&#160;(&#160;</span><span style="color: #0000BB">$user</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exists</span><span style="color: #007700">()&#160;)&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//&#160;do&#160;something<br />&#160;&#160;&#160;&#160;</span><span style="color: #007700">}&#160;&#160;&#160;&#160;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p><p>Check if user has a property:
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&#160;&#160;&#160;&#160;$user&#160;</span><span style="color: #007700">=&#160;</span><span style="color: #0000BB">wp_get_current_user</span><span style="color: #007700">();<br />&#160;&#160;&#160;&#160;if&#160;(&#160;</span><span style="color: #0000BB">$user</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">has_prop</span><span style="color: #007700">(&#160;</span><span style="color: #DD0000">'twitter'&#160;</span><span style="color: #007700">)&#160;)&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #FF8000">//&#160;do&#160;something<br />&#160;&#160;&#160;&#160;</span><span style="color: #007700">}&#160;&#160;&#160;&#160;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Change_Log">Change Log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=22" title="Edit section: Change Log">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since: <a href="https://codex.wordpress.org/Version_2.0" title="Version 2.0">2.0.0</a>
</p>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=23" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><tt>WP_User</tt> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.2.3/src/wp-includes/class-wp-user.php#L0">wp-includes/class-wp-user.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=24" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Function_Reference/get_user_by" title="Function Reference/get user by">get_user_by</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/get_userdata" title="Function Reference/get userdata">get_userdata</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_set_current_user" title="Function Reference/wp set current user">wp_set_current_user</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/wp_get_current_user" title="Function Reference/wp get current user">wp_get_current_user</a></li>
<li> <a href="/index.php?title=Class_Reference/WP_Role&amp;action=edit&amp;redlink=1" class="new" title="Class Reference/WP Role (page does not exist)">WP_Role</a></li>
<li> <a href="/index.php?title=Class_Reference/WP_Roles&amp;action=edit&amp;redlink=1" class="new" title="Class Reference/WP Roles (page does not exist)">WP_Roles</a></li>
<li> <a href="https://codex.wordpress.org/Class_Reference/WP_User_Query" title="Class Reference/WP User Query">WP_User_Query</a></li>
<li> <a href="https://codex.wordpress.org/Roles_and_Capabilities" title="Roles and Capabilities">Roles and Capabilities</a></li></ul>
<h2><span class="mw-headline" id="External_Links">External Links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Class_Reference/WP_User&amp;action=edit&amp;section=25" title="Edit section: External Links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="http://scribu.net/wordpress/the-magic-of-wp_user.html">Accessing custom fields using WP_User</a></li>
<li> <a rel="nofollow" class="external text" href="http://wpsmith.net/?p=17709">An Introduction to WP_User Class</a></li></ul>
<div style="background-color:#DFDFDF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Class_Reference" title="Class Reference">Class Reference</a> and index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a>.</div>


