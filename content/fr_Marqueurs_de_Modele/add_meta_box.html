<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/Function_Reference/add_meta_box" title="Function Reference/add meta box">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/関数リファレンス/add_meta_box">日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div style="background-color: #e0e0e0; padding: 5px 10px; border: 1px solid #a0a0a0; margin-bottom: 10px;border-radius:5px;box-shadow: 0px 0px 1px #a0a0a0 inset">
<p style="margin: 0px; padding: 0px"><a href="https://codex.wordpress.org/fr:Accueil" title="fr:Accueil"> Page d'accueil du Codex en français</a> - <a rel="nofollow" class="external text" href="http://fr.wordpress.org/">Télécharger WordPress en français</a><br />
Les utilisateurs francophones se retrouvent sur le site <a rel="nofollow" class="external text" href="https://www.wpfr.net">WordPress-Francophone</a>, notamment sur son <a rel="nofollow" class="external text" href="https://wpfr.net/support/">forum d'entraide</a>.</p>
</div>
<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This page is <a href="https://codex.wordpress.org/Category:Stubs" title="Category:Stubs">marked</a> as incomplete. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit">expanding it</a></b>.</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_Values"><span class="tocnumber">4</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Example"><span class="tocnumber">5</span> <span class="toctext">Example</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Callback_args"><span class="tocnumber">5.1</span> <span class="toctext">Callback args</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Source_File"><span class="tocnumber">6</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Further_Reading"><span class="tocnumber">7</span> <span class="toctext">Further Reading</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#External_Resources"><span class="tocnumber">8</span> <span class="toctext">External Resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=1" title="Edit section: Description">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>La fonction <tt>add_meta_box()</tt> a été ajoutée dans la <a href="https://codex.wordpress.org/Version_2.5" title="Version 2.5">Version 2.5</a>.  Elle permet au développeurs de plugins d'ajouter des It allows plugin developers to add meta boxes to the administrative interface.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=2" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code><span style="color: #000000">
&#160;<span style="color: #0000BB">&lt;?php<br />&#160;&#160;&#160;add_meta_box</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$title</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$callback</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$post_type</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$context</span><span style="color: #007700">,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color: #0000BB">$priority</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$callback_args&#160;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=3" title="Edit section: Parameters">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <tt>$id</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Identifiant unique de la metabox sur l'écrand d'édition.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$title</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Titre de la metabox, visible par les utilisateurs.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$callback</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Callback" title="How to Pass Tag Parameters"><i>callback</i></a>) (<i>required</i>) Function that prints out the HTML for the edit screen section. The function name as a string, or, within a class, an array to call one of the class's methods. The callback can accept up to two arguments, see <a href="#Callback_args">Callback args</a>. See the second example under <a href="https://codex.wordpress.org/Function_Reference/add_meta_box#Example" title="Function Reference/add meta box">Example</a> below.
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$post_type</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) Type de contenu concerné sur lequel s'affiche la Metabox (Article, page, ...) (<tt>'post'</tt>, <tt>'page'</tt>, <tt>'link'</tt>, <tt>'attachment'</tt> ou <tt>'custom_post_type'</tt> où custom_post_type est l'identifiant, ou label, unique de l'article personnalisé)
<dl><dd> Default: <i>None</i></dd></dl></dd></dl>
<dl><dt> <tt>$context</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) L'endroit où doit être affichée la metabox (<tt>'normal'</tt>, <tt>'advanced'</tt>, or <tt>'side'</tt>). (Note that 'side' doesn't exist before 2.7)
<dl><dd> Default: 'advanced'</dd></dl></dd></dl>
<dl><dt> <tt>$priority</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) The priority within the context where the boxes should show (<tt>'high'</tt>, <tt>'core'</tt>, <tt>'default'</tt> or <tt>'low'</tt>)
<dl><dd> Default: 'default'</dd></dl></dd></dl>
<dl><dt> <tt>$callback_args</tt></dt>
<dd> (<a href="https://codex.wordpress.org/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) Arguments to pass into your callback function. The callback will receive the $post object and whatever parameters are passed through this variable.
<dl><dd> Default: null</dd></dl></dd></dl>
<h2><span class="mw-headline" id="Return_Values">Return Values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=4" title="Edit section: Return Values">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>None.
</p>
<h2><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=5" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Here is an example that adds a custom section to the post and page editing screens: 
</p>
<pre>
&lt;?php
/* Define the custom box */

add_action( 'add_meta_boxes', 'myplugin_add_custom_box' );

// backwards compatible (before WP 3.0)
// add_action( 'admin_init', 'myplugin_add_custom_box', 1 );

/* Do something with the data entered */
add_action( 'save_post', 'myplugin_save_postdata' );

/* Adds a box to the main column on the Post and Page edit screens */
function myplugin_add_custom_box() {
    $screens = array( 'post', 'page' );
    foreach ($screens as $screen) {
        add_meta_box(
            'myplugin_sectionid',
            __( 'My Post Section Title', 'myplugin_textdomain' ),
            'myplugin_inner_custom_box',
            $screen
        );
    }
}

/* Prints the box content */
function myplugin_inner_custom_box( $post ) {

  // Use nonce for verification
  wp_nonce_field( plugin_basename( __FILE__ ), 'myplugin_noncename' );

  // The actual fields for data entry
  // Use get_post_meta to retrieve an existing value from the database and use the value for the form
  $value = get_post_meta( $_POST['post_ID'], $key = '_my_meta_value_key', $single = true );
  echo '&lt;label for="myplugin_new_field"&gt;';
       _e("Description for this field", 'myplugin_textdomain' );
  echo '&lt;/label&gt; ';
  echo '&lt;input type="text" id="myplugin_new_field" name="myplugin_new_field" value="'.esc_attr($value).'" size="25" /&gt;';
}

/* When the post is saved, saves our custom data */
function myplugin_save_postdata( $post_id ) {

  // First we need to check if the current user is authorised to do this action. 
  if ( 'page' == $_POST['post_type'] ) {
    if (&#160;! current_user_can( 'edit_page', $post_id ) )
        return;
  } else {
    if (&#160;! current_user_can( 'edit_post', $post_id ) )
        return;
  }

  // Secondly we need to check if the user intended to change this value.
  if (&#160;! isset( $_POST['myplugin_noncename'] ) ||&#160;! wp_verify_nonce( $_POST['myplugin_noncename'], plugin_basename( __FILE__ ) ) )
      return;

  // Thirdly we can save the value to the database

  //if saving in a custom table, get post_ID
  $post_ID = $_POST['post_ID'];
  //sanitize user input
  $mydata = sanitize_text_field( $_POST['myplugin_new_field'] );

  // Do something with $mydata 
  // either using 
  add_post_meta($post_ID, '_my_meta_value_key', $mydata, true) or
    update_post_meta($post_ID, '_my_meta_value_key', $mydata);
  // or a custom table (see Further Reading section below)
}
?&gt;
</pre>
<p>This is an example of how to add a meta box from inside a class
</p>
<pre>
/**
 * Calls the class on the post edit screen
 */
function call_someClass() 
{
    return new someClass();
}
if ( is_admin() )
    add_action( 'load-post.php', 'call_someClass' );

/** 
 * The Class
 */
class someClass
{
    const LANG = 'some_textdomain';

    public function __construct()
    {
        add_action( 'add_meta_boxes', array( &amp;$this, 'add_some_meta_box' ) );
    }

    /**
     * Adds the meta box container
     */
    public function add_some_meta_box()
    {
        add_meta_box( 
             'some_meta_box_name'
            ,__( 'Some Meta Box Headline', self::LANG )
            ,array( &amp;$this, 'render_meta_box_content' )
            ,'post' 
            ,'advanced'
            ,'high'
        );
    }


    /**
     * Render Meta Box content
     */
    public function render_meta_box_content() 
    {
        echo '&lt;h1&gt;TEST OUTPUT - this gets rendered inside the meta box.&lt;/h1&gt;';
    }
}
</pre>
<h3><span class="mw-headline" id="Callback_args">Callback args</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=6" title="Edit section: Callback args">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The <code>$callback_args</code> array will be passed to the callback function as the second argument. The first argument is the post's $post object.
</p>
<pre>
// This function adds a meta box with a callback function of my_metabox_callback()
function add_my_meta_box() {
     $var1 = 'this';
     $var2 = 'that';
     add_meta_box( 
           'metabox_id',
           'Metabox Title',
           'my_metabox_callback',
           'page',
           'normal',
           'low', 
           array( 'foo' =&gt; $var1, 'bar' =&gt; $var2)
      );
}

// $post is an object containing the current post (as a $post object)
// $metabox is an array with metabox id, title, callback, and args elements. 
// The args element is an array containing your passed $callback_args variables.

function my_metabox_callback ( $post, $metabox ) {
     echo 'Last Modified: '.$post-&gt;post_modified;        // outputs last time the post was modified
     echo $metabox['args']['foo'];                         // outputs 'this'
     echo $metabox['args']['bar'];                         // outputs 'that'
     echo get_post_meta($post-&gt;ID,'my_custom_field',true); // outputs value of custom field
}
</pre>
<h2><span class="mw-headline" id="Source_File">Source File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=7" title="Edit section: Source File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code>add_meta_box()</code> is located in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.1.1/src/wp-admin/includes/template.php#L0">wp-admin/includes/template.php</a></code>.
</p>
<h2><span class="mw-headline" id="Further_Reading">Further Reading</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=8" title="Edit section: Further Reading">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a href="https://codex.wordpress.org/Migrating_Plugins_and_Themes" title="Migrating Plugins and Themes">Migrating Plugins and Themes</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a></li>
<li> <a href="https://codex.wordpress.org/Creating_Tables_with_Plugins" title="Creating Tables with Plugins">Creating Tables with Plugins</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/remove_meta_box" title="Function Reference/remove meta box"> remove_meta_box()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/update_post_meta" title="Function Reference/update post meta"> update_post_meta()</a></li>
<li> <a href="https://codex.wordpress.org/Function_Reference/add_post_meta" title="Function Reference/add post meta"> add_post_meta()</a></li></ul>
<h2><span class="mw-headline" id="External_Resources">External Resources</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=fr:Marqueurs_de_Modele/add_meta_box&amp;action=edit&amp;section=9" title="Edit section: External Resources">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://gist.github.com/1880770">Class for quickly creating metaboxes</a> - Allows you to easily declare a new metabox and set the input fields to display in a few short lines.</li></ul>
<ul><li> <a rel="nofollow" class="external text" href="http://andrewferguson.net/2008/09/26/using-add_meta_box/">Using add_meta_box() for your plugin</a> - How to use boxes for your plugin's administration page</li>
<li> <a rel="nofollow" class="external text" href="http://wefunction.com/2008/10/tutorial-creating-custom-write-panels-in-wordpress/">Tutorial: Creating Custom Write Panels in WordPress</a> - Use Custom Write options to easily add any unique data to your post</li>
<li> <a rel="nofollow" class="external text" href="http://farinspace.com/2010/03/page-specific-wordpress-meta-box/">Limit a WordPress Meta Box to a Specific Page</a></li>
<li> <a rel="nofollow" class="external text" href="http://wpengineer.com/1991/example-how-to-add-meta-boxes-to-edit-area/">Example How To Add Meta Boxes To Edit Area</a> - Fully functional example plugin from April, 2010 (GPL Licensed)</li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/support/topic/add_meta_box-callback-with-arguments">add_meta_box() $callback_args parameter </a> - How to use the $callback_args parameter pre/post WP 2.8</li>
<li> <a rel="nofollow" class="external text" href="http://www.wproots.com/complex-meta-boxes-in-wordpress/">Meta boxes and hooks</a> - An in-depth look at how to build and use meta boxes in admin screens</li></ul>
<div style="background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">See also index of <a href="https://codex.wordpress.org/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="https://codex.wordpress.org/Template_Tags" title="Template Tags">Template Tags</a>.</div>

<!-- 
NewPP limit report
Cached time: 20190429054601
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.028 seconds
Real time usage: 0.103 seconds
Preprocessor visited node count: 265/1000000
Preprocessor generated node count: 877/1000000
Post‐expand include size: 4615/2097152 bytes
Template argument size: 1939/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   35.192      1 - -total
 28.07%    9.879      1 - Template:Languages
 23.53%    8.279      1 - Template:Tag_Footer
 14.32%    5.041      1 - Template:ja
 13.89%    4.888      1 - Template:Trac
 13.35%    4.699      7 - Template:Parameter
 12.31%    4.331      1 - Template:Stub
  7.48%    2.631      2 - Template:Message
  6.35%    2.233      1 - Template:CurrentVersion
  3.48%    1.225      1 - Template:French_Header
-->
