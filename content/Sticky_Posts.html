<p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="https://codex.wordpress.org/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Sticky">Posts 日本語</a> 
 <small>(<a href="https://codex.wordpress.org/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Function_Reference"><span class="tocnumber">1</span> <span class="toctext">Function Reference</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Display_Sticky_Posts"><span class="tocnumber">2</span> <span class="toctext">Display Sticky Posts</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Style_Sticky_Posts"><span class="tocnumber">3</span> <span class="toctext">Style Sticky Posts</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Related"><span class="tocnumber">4</span> <span class="toctext">Related</span></a></li>
</ul>
</div>

<p><b>Sticky Posts</b> is a feature introduced with <a href="https://codex.wordpress.org/Version_2.7" title="Version 2.7">Version 2.7</a>. A check box is included on the <a href="https://codex.wordpress.org/Administration_Panels" title="Administration Panels" class="mw-redirect">Administration</a> &gt; <a href="https://codex.wordpress.org/Administration_Panels#Posts" title="Administration Panels" class="mw-redirect">Posts</a> &gt; <a href="https://codex.wordpress.org/Posts_Add_New_SubPanel" title="Posts Add New SubPanel" class="mw-redirect">Add New</a> Screen (In the <i>Publish</i> panel under <i>Visibility</i>. Click <i>edit</i> to see the checkbox). If checked, the post will be placed at the top of the front page of posts, keeping it there until new posts are published. Please notice that this feature is <a rel="nofollow" class="external text" href="http://core.trac.wordpress.org/ticket/12702">only available for the built-in post type post</a> and not for custom post types.
</p>
<h2><span class="mw-headline" id="Function_Reference">Function Reference</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Sticky_Posts&amp;action=edit&amp;section=1" title="Edit section: Function Reference">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table cellspacing="10" width="100%">

<tr valign="top">
<td width="50%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Template Tags</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="https://codex.wordpress.org/Function_Reference/is_sticky" title="Function Reference/is sticky"> is_sticky()</a></tt></li>
<li> <tt><a href="https://codex.wordpress.org/Function_Reference/sticky_class" title="Function Reference/sticky class"> sticky_class()</a></tt></li></ul>
</td></tr></table>
</td>
<td width="50%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Template Tags</b>
</th></tr>
<tr>
<td>
<ul><li> </li>
<li> </li></ul>
</td></tr></table>
</td></tr></table>
<h2><span class="mw-headline" id="Display_Sticky_Posts">Display Sticky Posts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Sticky_Posts&amp;action=edit&amp;section=2" title="Edit section: Display Sticky Posts">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Show Sticky Posts</b>
</p><p>Display just the first sticky post:
(Note: At least one post must be designated as a "sticky post" or else the loop will display all posts.)
</p>
<pre>$sticky = get_option( 'sticky_posts' );
$query = new WP_Query( 'p=' . $sticky[0] );
</pre>
<p>Display just the first sticky post, if none return the last post published:
</p>
<pre>$args = array(
	'posts_per_page' =&gt; 1,
	'post__in'  =&gt; get_option( 'sticky_posts' ),
	'ignore_sticky_posts' =&gt; 1
);
$query = new WP_Query( $args );
</pre>
<p>Display just the first sticky post, if none return nothing:
</p>
<pre>$sticky = get_option( 'sticky_posts' );
$args = array(
	'posts_per_page' =&gt; 1,
	'post__in'  =&gt; $sticky,
	'ignore_sticky_posts' =&gt; 1
);
$query = new WP_Query( $args );
if ( isset($sticky[0]) ) {
	// insert here your stuff...
}
</pre>
<p>Display the 6 most recently published posts and if any of these 6 are sticky, they are included. <a rel="nofollow" class="external text" href="https://wordpress.stackexchange.com/a/260951/48698">Contrary to its name, <b>ignore_sticky_posts</b></a> will still include the sticky posts in a query but it will not prioritize them in the query. In the example below, if the 2nd, 8th, 9th, 10th, and 11th most recently published post are sticky; the 8th, 9th, 10, and 11th posts aren't included in the results, even if they are sticky, because of the ignore_sticky_posts is set true (value 1) and they are not one of the 6 most recently published posts. 
</p>
<pre>$args = array(
	'posts_per_page'=&gt; 6,
	'ignore_sticky_posts' =&gt; 1
);
$query = new WP_Query($args);
</pre>
<p><br />
If you were to try to change ignore_sticky_posts to its default value, and if all of the sticky posts are not listed in the most recently published posts, additional posts will be appended on. In the query below, if only 1 of the 6 mostly recent published posts below are sticky and there 5 sticky posts; there will be 10 posts that will display. 
<a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/ticket/27282">This is a known bug</a>
</p>
<pre>$args = array(
	'posts_per_page'=&gt; 6,
	'ignore_sticky_posts' =&gt; 0
);
$query = new WP_Query($args);
</pre>
<p><br /> 
</p><p><b>Don't Show Sticky Posts</b>
</p><p>Exclude all sticky posts from the query:
</p>
<pre>$query = new WP_Query( array( 'post__not_in' =&gt; get_option( 'sticky_posts' ) ) );
</pre>
<p>Exclude sticky posts from a category. Return ALL posts within the category, but don't show sticky posts at the top. The 'sticky posts' will still show in their natural position (e.g. by date):
</p>
<pre>$query = new WP_Query( 'ignore_sticky_posts=1&amp;posts_per_page=3&amp;cat=6' );
</pre>
<p>Exclude sticky posts from a category. Return posts within the category, but exclude sticky posts completely, and adhere to paging rules:
</p>
<pre>$paged = get_query_var( 'paged' )&#160;? get_query_var( 'paged' )&#160;: 1;
$sticky = get_option( 'sticky_posts' );
$args = array(
	'cat' =&gt; 3,
	'ignore_sticky_posts' =&gt; 1,
	'post__not_in' =&gt; $sticky,
	'paged' =&gt; $paged
);
$query = new WP_Query( $args );
</pre>
<p>Note: Use <tt>get_query_var('page')</tt> if you want this query to work in a <a href="https://codex.wordpress.org/Pages#Page_Templates" title="Pages">Page template</a> that you've set as your <a href="https://codex.wordpress.org/Creating_a_Static_Front_Page" title="Creating a Static Front Page">static front page</a>.
</p><p><b> --- </b>
</p>
<pre>
&lt;?php
/* Get all Sticky Posts */
$sticky = get_option( 'sticky_posts' );

/* Sort Sticky Posts, newest at the top */
rsort( $sticky );

/* Get top 5 Sticky Posts */
$sticky = array_slice( $sticky, 0, 5 );

/* Query Sticky Posts */
$query = new WP_Query( array( 'post__in' =&gt; $sticky, 'ignore_sticky_posts' =&gt; 1 ) );
?&gt;
</pre>
<h2><span class="mw-headline" id="Style_Sticky_Posts">Style Sticky Posts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Sticky_Posts&amp;action=edit&amp;section=3" title="Edit section: Style Sticky Posts">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To help theme authors perform simpler styling, the <a href="https://codex.wordpress.org/Function_Reference/post_class" title="Function Reference/post class">post_class()</a> function is used to add <i>class="..."</i> to DIV, just add:
</p>
<pre>
&lt;div id="post-&lt;?php the_ID();&#160;?&gt;" &lt;?php post_class();&#160;?&gt;&gt;
</pre>
<p>The <a href="https://codex.wordpress.org/Function_Reference/post_class" title="Function Reference/post class">post_class()</a> outputs the <i>class="whatever"</i> piece for that div. This includes several different classes of value: post, hentry (for hAtom microformat pages), category-X (where X is the slug of every category the post is in), and tag-X (similar, but with tags). <b>It also adds "sticky" for posts marked as Sticky Posts</b>.
</p>
<pre>
.sticky { color:red; }
</pre>
<p>Note: The "sticky" class is only added for sticky posts on the first page of the home page (is_home() is true and is_paged() is false).
</p>
<h2><span class="mw-headline" id="Related">Related</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/index.php?title=Sticky_Posts&amp;action=edit&amp;section=4" title="Edit section: Related">edit</a><span class="mw-editsection-bracket">]</span></span></h2>


